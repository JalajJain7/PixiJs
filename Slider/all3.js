(function () {
    'use strict';

    /**
     * Class that represents a PixiJS Theme.
     *
     * @example
     * // Create the theme
     * const yellow = new Theme({
     *     fill: 0xfecd2d,
     *     fillActive: 0xfe9727,
     *     strokeActive: 0xfecd2d,
     *     strokeActiveWidth: 4,
     *     textStyle: {
     *         fill: 0x5ec7f8
     *     },
     *     textStyleActive: {
     *         fill: 0x5954d3
     *     },
     *     textStyleLarge: {
     *         fontSize: 36
     *     }
     * })
     *
     * // Create the app and apply the new theme to it
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: yellow
     * }).setup().run()
     *
     * @class
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class Theme {

        /**
         * Creates an instance of a Theme.
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the theme.
         * @param {number} [opts.margin=10] - The outer spacing (distance to other objects) from the border.
         * @param {number} [opts.padding=10] - The inner spacing (distance from icon and/or label) to the border.
         * @param {number} [opts.radius=4] - The radius used when drawing a rounded rectangle.
         * @param {number} [opts.fast=0.25] - The duration of time when it has to be fast.
         * @param {number} [opts.normal=0.5] - The duration of time when it has to be normal.
         * @param {number} [opts.slow=1] - The duration of time when it has to be slow.
         * @param {number} [opts.primaryColor=0x5ec7f8] - The primary color of the theme.
         * @param {number} [opts.color1=0x282828] - The first color of the theme. For example used for the background.
         * @param {number} [opts.color2=0xf6f6f6] - The second color of the theme. For example used for the border.
         * @param {number} [opts.fill=color1] - The color of the background as a hex value.
         * @param {number} [opts.fillAlpha=1] - The alpha value of the background.
         * @param {number} [opts.fillActive=color1] - The color of the background when activated.
         * @param {number} [opts.fillActiveAlpha=1] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=color2] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=0.6] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=1] - The alpha value of the border.
         * @param {number} [opts.strokeActive=color2] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=0.6] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=1] - The alpha value of the border when activated.
         * @param {number} [opts.iconColor=color2] - The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=colorPrimary] - The color of the icon when activated.
         * @param {number} [opts.background=color1] - The color of a background for a component (e.g. at the Modal class).
         * @param {object} [opts.textStyle={}] - A textstyle object for the styling of text. See PIXI.TextStyle
         *     for possible options. Default object:
         * @param {string} [opts.textStyle.fontFamily="Avenir Next", "Open Sans", "Segoe UI", ...] - The font family.
         * @param {string} [opts.textStyle.fontWeight=400] - The font weight.
         * @param {number} [opts.textStyle.fontSize=16] - The font size.
         * @param {number} [opts.textStyle.fill=color2] - The fill color.
         * @param {number} [opts.textStyle.stroke=color1] - The stroke color.
         * @param {number} [opts.textStyle.strokeThickness=0] - The thickness of the stroke.
         * @param {number} [opts.textStyle.miterLimit=1] - The meter limit.
         * @param {string} [opts.textStyle.lineJoin=round] - The line join.
         * @param {object} [opts.textStyleActive=textStyle + {fill: primaryColor}] - A textstyle object which is used
         *     for actived text.
         * @param {object} [opts.textStyleSmall=textStyle + {fontSize: -= 3}] - A textstyle object which is used for
         *     small text.
         * @param {object} [opts.textStyleSmallActive=textStyleSmall + {fill: primaryColor}] - A textstyle object which
         *     is used for small actived text.
         * @param {object} [opts.textStyleLarge=textStyle + {fontSize: += 3}] - A textstyle object which is used for
         *     large text.
         * @param {object} [opts.textStyleLargeActive=textStyleLarge + {fill: primaryColor}] - A textstyle object which
         *     is used for large actived text.
         */
        constructor(opts = {}) {

            const colorPrimary = opts.primaryColor != null ? opts.primaryColor : 0x5ec7f8;               // blue
            const color1 = opts.color1 != null ? opts.color1 : 0x282828;                                 // black
            const color2 = opts.color2 != null ? opts.color2 : 0xf6f6f6;                                 // white

            this.opts = Object.assign({}, {
                margin: 12,
                padding: 12,
                radius: 4,
                fast: .25,
                normal: .5,
                slow: 1,
                primaryColor: colorPrimary,
                color1: color1,
                color2: color2,
                fill: color1,
                fillAlpha: 1,
                fillActive: color1,
                fillActiveAlpha: 1,
                stroke: color2,
                strokeWidth: .6,
                strokeAlpha: 1,
                strokeActive: color2,
                strokeActiveWidth: .6,
                strokeActiveAlpha: 1,
                iconColor: color2,
                iconColorActive: colorPrimary,
                background: color1
            }, opts);

            // Set textStyle and variants
            this.opts.textStyle = Object.assign({}, {
                fontFamily: '"Avenir Next", "Open Sans", "Segoe UI", "Roboto", "Helvetica Neue", -apple-system, system-ui, BlinkMacSystemFont, Arial, sans-serif !default',
                fontWeight: '500',
                fontSize: 18,
                fill: color2,
                stroke: color1,
                strokeThickness: 0,
                miterLimit: 1,
                lineJoin: 'round'
            }, this.opts.textStyle);
            this.opts.textStyleSmall = Object.assign({}, this.opts.textStyle, {fontSize: this.opts.textStyle.fontSize - 3}, this.opts.textStyleSmall);
            this.opts.textStyleLarge = Object.assign({}, this.opts.textStyle, {fontSize: this.opts.textStyle.fontSize + 3}, this.opts.textStyleLarge);
            this.opts.textStyleActive = Object.assign({}, this.opts.textStyle, {fill: this.opts.primaryColor}, this.opts.textStyleActive);
            this.opts.textStyleSmallActive = Object.assign({}, this.opts.textStyleSmall, {fill: this.opts.primaryColor}, this.opts.textStyleSmallActive);
            this.opts.textStyleLargeActive = Object.assign({}, this.opts.textStyleLarge, {fill: this.opts.primaryColor}, this.opts.textStyleLargeActive);

            Object.assign(this, this.opts);
        }

        /**
         * Factory function
         *
         * @static
         * @param {string} theme=dark - The name of the theme to load.
         * @return {Theme} Returns a newly created Theme object.
         */
        static fromString(theme) {

            if (theme && typeof theme === 'object') {
                return theme
            }

            switch (theme) {
                case 'light':
                    return new ThemeLight()
                case 'red':
                    return new ThemeRed()
                default:
                    return new ThemeDark()
            }
        }
    }

    /**
     * Class that represents a PixiJS ThemeDark.
     *
     * @example
     * // Create the app with a new dark theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeDark()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeDark extends Theme {

    }

    /**
     * Class that represents a PixiJS ThemeLight.
     * The color1 is set to 0xf6f6f6, color2 to 0x282828.
     *
     * @example
     * // Create the app with a new light theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeLight()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeLight extends Theme {

        /**
         * Creates an instance of a ThemeLight.
         *
         * @constructor
         */
        constructor() {

            super({color1: 0xf6f6f6, color2: 0x282828});
        }
    }

    /**
     * Class that represents a PixiJS ThemeRed.
     * The primaryColor is set to 0xd92f31.
     *
     * @example
     * // Create the app with a new red theme
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     theme: new ThemeRed()
     * }).setup().run()
     *
     * @class
     * @extends Theme
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/theme.html|DocTest}
     */
    class ThemeRed extends Theme {

        /**
         * Creates an instance of a ThemeRed.
         *
         * @constructor
         */
        constructor() {

            super({primaryColor: 0xd92f31});
        }
    }

    /**
     * Class that represents a PixiJS Progress.
     * 
     * @example
     * // Create the progress
     * const progress = new Progress({
     *     app: app
     * })
     *
     * // Add the progress to a DisplayObject
     * app.scene.addChild(progress)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/progress.html|DocTest}
     */
    class Progress extends PIXI.Container {
        
        /**
         * Creates an instance of a Progress.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the progress.
         * @param {number} [opts.id=auto generated] - The id of the progress.
         * @param {PIXIApp} [opts.app=window.app] - The app where the progress belongs to.
         * @param {number} [opts.width] - The width of the progress bar. When not set, the width is the size of the app
         *     minus 2 * opts.margin.
         * @param {number} [opts.height=2] - The height of the progress bar.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this progress. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.margin=100] - The outer spacing to the edges of the app.
         * @param {number} [opts.padding=0] - The inner spacing (distance from icon and/or label) to the border.
         * @param {number} [opts.fill=Theme.fill] - The color of the progress background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.primaryColor] - The color of the progress background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=0] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=0] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {boolean} [opts.background=false] - The alpha value of the border when activated.
         * @param {number} [opts.backgroundFill=Theme.background] - A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.backgroundFillAlpha=1] - A textstyle object for the styling of the label when the
         *     progress is activated. See PIXI.TextStyle for possible options.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the progress (which is a rounded rectangle).
         * @param {boolean} [opts.destroyOnComplete=true] - Should the progress bar destroy itself after reaching 100 %?
         * @param {boolean} [opts.visible=true] - Is the progress initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                app: window.app,
                width: null,
                height: 2,
                margin: 100,
                padding: 0,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.primaryColor,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: 0,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: 0,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                background: false,
                backgroundFill: theme.background,
                backgroundFillAlpha: 1,
                radius: theme.radius,
                destroyOnComplete: true,
                visible: true
            }, opts);

            this.id = this.opts.id;

            this.background = null;
            this.bar = null;
            this.barActive = null;

            this.alpha = 0;
            
            this.visible = this.opts.visible;

            this._progress = 0;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        setup() {

            // interaction
            //-----------------
            this.on('added', e => {
                this.show();
            });

            // background
            //-----------------
            if (this.opts.background) {
                const background = new PIXI.Graphics();
                this.background = background;
                this.addChild(background);
            }

            // bar
            //-----------------
            const bar = new PIXI.Graphics();
            this.bar = bar;
            this.addChild(bar);

            const barActive = new PIXI.Graphics();
            this.barActive = barActive;
            this.bar.addChild(barActive);

            return this
        }
        
        /**
         * Should be called to refresh the layout of the progress. Can be used after resizing.
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        layout() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            // background
            //-----------------
            if (this.opts.background) {
                this.background.clear();
                this.background.beginFill(this.opts.backgroundFill, this.opts.backgroundFillAlpha);
                this.background.drawRect(0, 0, width, height);
                this.background.endFill();
            }

            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        draw() {

            this.bar.clear();
            this.barActive.clear();

            this.drawBar();
            this.drawBarActive();

            return this
        }
        
        /**
         * Draws the bar.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        drawBar() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            this.radius = this.opts.radius;
            if ((this.radius * 2) > this.opts.height) {
                this.radius = this.opts.height / 2;
            }

            const wantedWidth = this.opts.width || (width - (2 * this.opts.margin));
            const wantedHeight = this.opts.height;

            this.bar.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
            this.bar.beginFill(this.opts.fill, this.opts.fillAlpha);
            if (this.radius > 1) {
                this.bar.drawRoundedRect(0, 0, wantedWidth, wantedHeight, this.radius);
            } else {
                this.bar.drawRect(0, 0, wantedWidth, wantedHeight);
            }
            this.bar.endFill();
            
            this.bar.x = width / 2 - this.bar.width / 2;
            this.bar.y = height / 2 - this.bar.height / 2;

            return this
        }
        
        /**
         * Draws the active bar.
         * 
         * @private
         * @return {Progress} A reference to the progress for chaining.
         */
        drawBarActive() {

            const wantedWidth = this.bar.width - (2 * this.opts.padding);
            const wantedHeight = this.bar.height - (2 * this.opts.padding);
            
            const barActiveWidth = wantedWidth * this._progress / 100;

            this.barActive.lineStyle(this.opts.strokeActiveWidth, this.opts.strokeActive, this.opts.strokeActiveAlpha);
            this.barActive.beginFill(this.opts.fillActive, this.opts.fillActiveAlpha);
            if (barActiveWidth > 0) {
                if (this.radius > 1) {
                    this.barActive.drawRoundedRect(0, 0, barActiveWidth, wantedHeight, this.radius);
                } else {
                    this.barActive.drawRect(0, 0, barActiveWidth, wantedHeight);
                }
            }
            this.barActive.endFill();

            this.barActive.x = this.opts.padding;
            this.barActive.y = this.opts.padding;

            return this
        }
        
        /**
         * Shows the progress (sets his alpha values to 1).
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        show() {
            TweenMax.to(this, this.theme.fast, {alpha: 1});

            return this
        }
        
        /**
         * Hides the progress (sets his alpha values to 1).
         * 
         * @return {Progress} A reference to the progress for chaining.
         */
        hide() {
            TweenMax.to(this, this.theme.fast, {alpha: 0, onComplete: () => this.visible = false});

            return this
        }
        
        /**
         * Gets or sets the progress. Has to be a number between 0 and 100.
         * 
         * @member {number}
         */
        get progress() {
            return this._progress
        }
        set progress(value) {

            value = Math.round(value);

            if (value < 0) {
                value = 0;
            }

            if (value > 100) {
                value = 100;
            }

            TweenMax.to(this, this.theme.normal, {
                _progress: value,
                onUpdate: () => this.draw(),
                onComplete: () => {
                    if (value === 100 && this.opts.destroyOnComplete) {
                        TweenMax.to(this, this.theme.fast, {
                            alpha: 0,
                            onComplete: () => this.destroy({children: true})
                        });
                    }
                }
            });
        }
    }

    /**
     * Callback for the popup onHidden.
     *
     * @callback hiddenCallback
     * @param {AbstractPopup} abstractPopup - A reference to the popup (also this refers to the popup).
     */

    /**
     * Class that represents a PixiJS AbstractPopup.
     * The class is used for various other Popup-like classes
     * like Popup, Message, Tooltip...
     *
     * @class
     * @abstract
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     */
    class AbstractPopup extends PIXI.Graphics {
        
        /**
         * Creates an instance of an AbstractPopup (only for internal use).
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the popup.
         * @param {number} [opts.id=auto generated] - The id of the popup.
         * @param {number} [opts.x=0] - The x position of the popup. Can be also set after creation with popup.x = 0.
         * @param {number} [opts.y=0] - The y position of the popup. Can be also set after creation with popup.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this popup. Possible values are dark, light, red
         *     or a Theme object.
         * @param {string|number|PIXI.Text} [opts.header] - The heading inside the popup as a string, a number (will be
         *     converted to a text) or as a PIXI.Text object.
         * @param {string|number|PIXI.DisplayObject} [opts.content] - A text, a number (will be converted to a text) or
         *     an PIXI.DisplayObject as the content of the popup.
         * @param {number} [opts.minWidth=320] - The minimum width of the popup.
         * @param {number} [opts.minHeight=130] - The minimum height of the popup.
         * @param {number} [opts.padding=Theme.padding] - The inner spacing (distance from header and content) the the border.
         * @param {number} [opts.fill=Theme.fill] - The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {object} [opts.headerStyle=Theme.textStyleLarge] - A textstyle object for the styling of the header. See PIXI.TextStyle
         *     for possible options.
         * @param {object} [opts.textStyle=Theme.textStyleSmall] - A textstyle object for the styling of the text. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the popup (which is a rounded rectangle).
         * @param {hiddenCallback} [opts.onHidden] - Executed when the popup gets hidden.
         * @param {boolean} [opts.visible=true] - Is the popup initially visible (property visible)?
         * @param {string} [opts.orientation] - When set to portrait, the popup cannot be displayed in landscape mode. When set
         *     to landscape, the popup cannot be displayed in portrait mode.
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                header: null,                       // null or null
                content: null,                      // null or String or PIXI.DisplayObject
                minWidth: 320,
                minHeight: 130,
                maxWidth: null,
                padding: theme.padding,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                headerStyle: theme.textStyleLarge,
                textStyle: theme.textStyleSmall,
                radius: theme.radius,
                onHidden: null,
                visible: true,
                orientation: null
            }, opts);

            this.id = this.opts.id;

            this.headerStyle = new PIXI.TextStyle(this.opts.headerStyle);
            this.textStyle = new PIXI.TextStyle(this.opts.textStyle);

            if (this.opts.maxWidth) {
                this.headerStyle.wordWrap = true;
                this.headerStyle.wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding);

                this.textStyle.wordWrap = true;
                this.textStyle.wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding);
            }

            this.alpha = 0;
            this.visible = this.opts.visible;

            this._header = null;
            this._content = null;

            // position
            this.x = this.opts.x;
            this.y = this.opts.y;

            // padding
            this.innerPadding = this.opts.padding * 1.5;
            
            // interaction
            //-----------------
            this.interactive = true;
            this.on('added', e => {
                this.show();
            });
        }
        
        /**
         * Creates the framework and instantiates everything.
         * 
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        setup() {

            // position
            //-----------------
            this.sy = this.opts.padding;

            // header
            //-----------------
            if (this.opts.header != null) {

                let header = null;

                if (this.opts.header instanceof PIXI.Text) {
                    header = this.opts.header;
                } else if (typeof this.opts.header === 'number') {
                    header =  new PIXI.Text(this.opts.header.toString(), this.headerStyle);
                } else {
                    header =  new PIXI.Text(this.opts.header, this.headerStyle);
                }

                header.x = this.opts.padding;
                header.y = this.sy;

                this.addChild(header);

                this.sy += header.height;

                this._header = header;
            }

            if (this.opts.header && this.opts.content) {
                this.sy += this.innerPadding;
            }

            // content
            //-----------------
            if (this.opts.content != null) {

                let content = null;

                if (typeof this.opts.content === 'string') {
                    content = new PIXI.Text(this.opts.content, this.textStyle);
                } else if (typeof this.opts.content === 'number') {
                    content = new PIXI.Text(this.opts.content.toString(), this.textStyle);
                } else {
                    content = this.opts.content;
                }

                content.x = this.opts.padding;
                content.y = this.sy;

                this.sy += content.height;

                this.addChild(content);

                this._content = content;
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the popup. Can be used after resizing.
         * 
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        layout() {
            
            // wanted width & wanted height
            //-----------------
            const padding = this.opts.padding;
            const size = this.getInnerSize();
            const width = size.width + (2 * padding);
            const height = size.height + (2 * padding);

            this.wantedWidth = Math.max(width, this.opts.minWidth);
            this.wantedHeight = Math.max(height, this.opts.minHeight);
            
            if (this.opts.maxWidth) {
                this.wantedWidth = Math.min(this.wantedWidth, this.opts.maxWidth);
            }

            if (this.opts.radius * 2 > this.wantedWidth) {
                this.wantedWidth = this.opts.radius * 2;
            }

            if (this.opts.radius * 2 > this.wantedHeight) {
                this.wantedHeight = this.opts.radius * 2;
            }

            switch (this.opts.orientation) {
                case 'portrait':
                    if (this.wantedWidth > this.wantedHeight) {
                        this.wantedHeight = this.wantedWidth;
                    }
                    break
                case 'landscape':
                    if (this.wantedHeight > this.wantedWidth) {
                        this.wantedWidth = this.wantedHeight;
                    }
                    break
            }

            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        draw() {

            const square = Math.round(this.wantedWidth) === Math.round(this.wantedHeight);
            const diameter = Math.round(this.opts.radius * 2);

            this.clear();
            this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
            this.beginFill(this.opts.fill, this.opts.fillAlpha);
            if (square && diameter === this.wantedWidth) {
                this.drawCircle(this.wantedWidth / 2, this.wantedHeight / 2, this.opts.radius);
            } else {
                this.drawRoundedRect(0, 0, this.wantedWidth, this.wantedHeight, this.opts.radius);
            }
            this.endFill();

            return this
        }
        
        /**
         * Calculates the size of the children of the AbstractPopup.
         * Cannot use getBounds() because it is not updated when children
         * are removed.
         * 
         * @private
         * @returns {object} An JavaScript object width the keys width and height.
         */
        getInnerSize() {

            let width = 0;
            let height = 0;

            if (this._header) {
                width = this._header.width;
                height = this._header.height;
            }

            if (this._header && this._content) {
                height += this.innerPadding;
            }

            if (this._content) {
                width = Math.max(width, this._content.width);
                height += this._content.height;
            }

            return {width, height}
        }
        
        /**
         * Shows the popup (sets his alpha values to 1).
         * 
         * @param {callback} [cb] - Executed when show animation was completed.
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        show(cb) {

            TweenMax.to(this, this.theme.fast, {
                alpha: 1,
                onComplete: () => {
                    if (cb) {
                        cb.call(this);
                    }
                }
            });

            return this
        }
        
        /**
         * Hides the popup (sets his alpha values to 0).
         * 
         * @param {callback} [cb] - Executed when hide animation was completed.
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        hide(cb) {

            TweenMax.to(this, this.theme.fast, {
                alpha: 0,
                onComplete: () => {
                    this.visible = false;
                    if (cb) {
                        cb.call(this);
                    }
                }
            });

            if (this.opts.onHidden) {
                this.opts.onHidden.call(this, this);
            }

            return this
        }

        /**
         * Sets or gets the header. The getter always returns a PIXI.Text object. The setter can receive
         * a string, a number or a PIXI.Text object.
         * 
         * @member {string|number|PIXI.Text}
         */
        get header() {
            return this._header
        }
        set header(value) {
            if (this._header) {
                this._header.destroy();
            }
            this.opts.header = value;
            this.setup().layout();
        }
        
        /**
         * Sets or gets the content. The getter always returns an PIXI.DisplayObject. The setter can receive
         * a string, a number or a PIXI.DisplayObject.
         * 
         * @member {string|number|PIXI.DisplayObject}
         */
        get content() {
            return this._content
        }
        set content(value) {
            if (this._content) {
                this._content.destroy();
            }
            this.opts.content = value;
            this.setup().layout();
        }
    }

    /**
     * Class that represents a PixiJS Tooltip.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Add an DisplayObject to the app
     * const circle = new PIXI.Graphics()
     * circle.beginFill(0x5251a3)
     * circle.drawCircle(50, 50, 40)
     * app.scene.addChild(circle)
     * 
     * const tooltip = new Tooltip({
     *     object: circle,
     *     container: app.scene,
     *     content: 'Das Gesetz ist der Freund des Schwachen.'
     * })
     *
     * @class
     * @extends AbstractPopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/tooltip.html|DocTest}
     */
    class Tooltip extends AbstractPopup {
        
        /**
         * Creates an instance of a Tooltip.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the tooltip.
         * @param {number} [opts.minWidth=0] - The minimum width of the tooltip.
         * @param {number} [opts.minHeight=0] - The minimum height of the tooltip.
         * @param {number} [opts.padding=Theme.padding / 2] - The inner spacing of the tooltip.
         * @param {PIXI.DisplayObject} opts.object - The object, where the tooltip should be displayed.
         * @param {PIXI.DisplayObject} [opts.container=object] - The container where the tooltip should be attached to.
         * @param {number} [opts.offsetLeft=8] - The horizontal shift of the tooltip.
         * @param {number} [opts.offsetTop=-8] - The vertical shift of the tooltip.
         * @param {number} [opts.delay=0] - A delay, after which the tooltip should be opened.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            
            opts = Object.assign({}, {
                minWidth: 0,
                minHeight: 0,
                padding: theme.padding / 2,
                object: null,
                container: null,
                offsetLeft: 8,
                offsetTop: -8,
                delay: 0
            }, opts);

            opts.container = opts.container || opts.object;

            super(opts);

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Tooltip} A reference to the tooltip for chaining.
         */
        setup() {

            super.setup();

            // bind events this
            //-----------------
            this.interactive = true;

            let mouseoverTooltip = false;
            
            this.on('mouseover', e => {
                mouseoverTooltip = true;
            });

            this.on('mouseout', e => {
                mouseoverTooltip = false;
                if (!mouseoverObject) {
                    this.hide(() => {
                        this.opts.container.removeChild(this);
                    });
                }
            });
            
            // bind events object
            //-----------------
            const object = this.opts.object;
            object.interactive = true;

            let mouseoverObject = false;

            object.on('mouseover', e => {

                this.timeout = window.setTimeout(() => {
                    mouseoverObject = true;
                    this.visible = true;
                    this.opts.container.addChild(this);
                    this.setPosition(e);
                }, this.opts.delay * 1000);
            });

            object.on('mousemove', e => {
                if (mouseoverObject) {
                    this.setPosition(e);
                }
            });

            object.on('mouseout', e => {
                mouseoverObject = false;
                window.clearTimeout(this.timeout);
                if (!mouseoverTooltip) {
                    this.hide(() => {
                        this.opts.container.removeChild(this);
                    });
                }
            });

            return this
        }
        
        /**
         * Calculates and sets the position of the tooltip.
         * 
         * @private
         * @return {Tooltip} A reference to the tooltip for chaining.
         */
        setPosition(e) {

            const position = e.data.getLocalPosition(this.opts.container);

            this.x = position.x + this.opts.offsetLeft;
            this.y = position.y + this.opts.offsetTop - this.height;

            return this
        }
    }

    /**
     * Class that represents a PixiJS Badge.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Add an DisplayObject to the app
     * const circle = new PIXI.Graphics()
     * circle.beginFill(0x5251a3)
     * circle.drawCircle(50, 50, 40)
     * app.scene.addChild(circle)
     * 
     * const badge1 = new Badge({
     *     object: circle,
     *     container: app.scene,
     *     content: 'Das Gesetz ist der Freund des Schwachen.'
     * })
     *
     * @class
     * @extends AbstractPopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/badge.html|DocTest}
     */
    class Badge extends AbstractPopup {
        
        /**
         * Creates an instance of a Badge.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the badge.
         * @param {number} [opts.minWidth=0] - The minimum width of the badge.
         * @param {number} [opts.minHeight=0] - The minimum height of the badge.
         * @param {number} [opts.padding=Theme.padding / 2] - The inner spacing of the badge.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            
            opts = Object.assign({}, {
                minWidth: 0,
                minHeight: 0,
                padding: theme.padding / 2,
                tooltip: null
            }, opts);

            super(opts);

            this.tooltip = null;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @override
         * @return {Badge} A reference to the badge for chaining.
         */
        setup() {

            super.setup();

            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({object: this, content: this.opts.tooltip});
                } else {
                    this.opts.tooltip = Object.assign({}, {object: this}, this.opts.tooltip);
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the badge. Can be used after resizing.
         * 
         * @override
         * @return {Badge} A reference to the badge for chaining.
         */
        layout() {

            super.layout();

            this.content.x = this.width / 2 - this.content.width / 2 - this.opts.strokeWidth / 2;
            this.content.y = this.height / 2 - this.content.height / 2 - this.opts.strokeWidth / 2;

            return this
        }
    }

    class Events$1 {

        static stop(event) {
            event.preventDefault();
            event.stopPropagation();
        }

        static extractPoint(event) {
            switch (event.constructor.name) {
                case 'TouchEvent':
                    for (let i = 0; i < event.targetTouches.length; i++) {
                        let t = event.targetTouches[i];
                        return { x: t.clientX, y: t.clientY }
                    }
                    break
                default:
                    return { x: event.clientX, y: event.clientY }
            }
        }

        static isCaptured(event) {
            if (event.__capturedBy)
                return true
            return false
        }

        static capturedBy(event, obj) {
            event.__capturedBy = obj;
        }

        static isMouseDown(event) {
            // Attempts to clone the which attribute of events failed in WebKit. May
            // be this is a bug or a security feature. Workaround: we introduce
            // a mouseDownSubstitute attribute that can be assigned to cloned
            // events after instantiation.
            if (Reflect.has(event, 'mouseDownSubstitute'))
                return event.mouseDownSubstitute
            return event.buttons || event.which
        }

        static isSimulatedEvent(event) {
            return Reflect.has(event, 'mouseDownSubstitute')
        }

        static isMouseRightClick(event) {
            return event.buttons || event.which
        }

        static extractTouches(targets) {
            let touches = [];
            for (let i = 0; i < targets.length; i++) {
                let t = targets[i];
                touches.push({
                    targetSelector: this.selector(t.target),
                    identifier: t.identifier,
                    screenX: t.screenX,
                    screenY: t.screenY,
                    clientX: t.clientX,
                    clientY: t.clientY,
                    pageX: t.pageX,
                    pageY: t.pageY
                });
            }
            return touches
        }

        static createTouchList(targets) {
            let touches = [];
            for (let i = 0; i < targets.length; i++) {
                let t = targets[i];
                let touchTarget = document.elementFromPoint(t.pageX, t.pageY);
                let touch = new Touch(undefined, touchTarget, t.identifier,
                    t.pageX, t.pageY, t.screenX, t.screenY);
                touches.push(touch);
            }
            return new TouchList(...touches)
        }

        static extractEvent(timestamp, event) {
            let targetSelector = this.selector(event.target);
            let infos = {
                type: event.type,
                time: timestamp,
                constructor: event.constructor,
                data: {
                    targetSelector: targetSelector,
                    view: event.view,
                    mouseDownSubstitute: event.buttons || event.which, // which cannot be cloned directly
                    bubbles: event.bubbles,
                    cancelable: event.cancelable,
                    screenX: event.screenX,
                    screenY: event.screenY,
                    clientX: event.clientX,
                    clientY: event.clientY,
                    layerX: event.layerX,
                    layerY: event.layerY,
                    pageX: event.pageX,
                    pageY: event.pageY,
                    ctrlKey: event.ctrlKey,
                    altKey: event.altKey,
                    shiftKey: event.shiftKey,
                    metaKey: event.metaKey
                }
            };
            if (event.type.startsWith('touch')) {
                // On Safari-WebKit the TouchEvent has layerX, layerY coordinates
                let data = infos.data;
                data.targetTouches = this.extractTouches(event.targetTouches);
                data.changedTouches = this.extractTouches(event.changedTouches);
                data.touches = this.extractTouches(event.touches);
            }
            if (event.type.startsWith('pointer')) {
                let data = infos.data;
                data.pointerId = event.pointerId;
                data.pointerType = event.pointerType;
            }
            if (Events$1.debug) {
                Events$1.extracted.push(this.toLine(event));
            }
            return infos
        }

        static cloneEvent(type, constructor, data) {
            if (type.startsWith('touch')) {
                // We need to find target from layerX, layerY
                //var target = document.querySelector(data.targetSelector)
                // elementFromPoint(data.layerX, data.layerY)
                //data.target = target
                data.targetTouches = this.createTouchList(data.targetTouches);
                data.changedTouches = this.createTouchList(data.changedTouches);
                data.touches = this.createTouchList(data.touches);
            }
            // We need to find target from pageX, pageY which are only
            // available after construction. They seem to getter items.

            let clone = Reflect.construct(constructor, [type, data]);
            clone.mouseDownSubstitute = data.mouseDownSubstitute;
            return clone
        }

        static simulateEvent(type, constructor, data) {
            data.target = document.querySelector(data.targetSelector);
            let clone = this.cloneEvent(type, constructor, data);
            if (data.target != null) {
                data.target.dispatchEvent(clone);
            }
            if (Events$1.debug) {
                Events$1.simulated.push(this.toLine(clone));
            }
        }

        static toLine(event) {
            return `${event.type} #${event.target.id} ${event.clientX} ${event.clientY}`
            let result = event.type;
            let selector = this.selector(event.target);
            result += ' selector: ' + selector;
            if (event.target != document.querySelector(selector))
                console.log('Cannot resolve', selector);
            let keys = ['layerX', 'layerY', 'pageX', 'pageY', 'clientX', 'clientY'];
            for (let key of keys) {
                try {
                    result += ' ' + key + ':' + event[key];
                }
                catch (e) {
                    console.log('Invalid key: ' + key);
                }
            }
            return result
        }

        static compareExtractedWithSimulated() {
            if (this.extracted.length != this.simulated.length) {
                alert('Unequal length of extracted [' + this.extracted.length +
                    '] and simulated events [' + this.simulated.length + '].');
            }
            else {
                for (let i = 0; i < this.extracted.length; i++) {
                    var extracted = this.extracted[i];
                    var simulated = this.simulated[i];
                    if (extracted != simulated) {
                        console.log('Events differ:' + extracted + '|' + simulated);
                    }
                }
            }
        }

        static selector(context) {
            return OptimalSelect.select(context)
        }

        static reset() {
            this.extracted = [];
            this.simulated = [];
        }

        static resetSimulated() {
            this.simulated = [];
        }

        static showExtractedEvents(event) {
            if (!event.shiftKey) {
                return
            }
            if (this.popup == null) {
                let element = document.createElement('div');
                Elements.setStyle(element, {
                    position: 'absolute',
                    width: '480px',
                    height: '640px',
                    overflow: 'auto',
                    backgroundColor: 'lightgray'
                });
                document.body.appendChild(element);
                this.popup = element;
            }
            this.popup.innerHTML = '';
            for (let line of this.extracted) {
                let div = document.createElement('div');
                div.innerHTML = line;
                this.popup.appendChild(div);
            }
            let div = document.createElement('div');
            div.innerHTML = '------------ Simulated -----------';
            this.popup.appendChild(div);
            for (let line of this.simulated) {
                let div = document.createElement('div');
                div.innerHTML = line;
                this.popup.appendChild(div);
            }
            Elements.setStyle(this.popup,
                { left: event.clientX + 'px', top: event.clientY + 'px' });
        }
    }

    Events$1.popup = null;
    Events$1.debug = true;
    Events$1.extracted = [];
    Events$1.simulated = [];
    Events$1.simulationRunning = false;

    /**
     * Callback for the button action.
     *
     * @callback actionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Callback for the button beforeAction.
     *
     * @callback beforeActionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Callback for the button afterAction.
     *
     * @callback afterActionCallback
     * @param {object} event - The event object.
     * @param {Button} button - A reference to the button (also this refers to the button).
     */

    /**
     * Class that represents a PixiJS Button.
     *
     * @example
     * // Create the button
     * const button = new Button({
     *     label: 'My Button',
     *     action: () => console.log('Button was clicked')
     * })
     *
     * // Add the button to a DisplayObject
     * app.scene.addChild(button)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/button.html|DocTest}
     */
    class Button extends PIXI.Container {

        /**
         * Creates an instance of a Button.
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the button.
         * @param {number} [opts.id=auto generated] - The id of the button.
         * @param {string} [opts.label] - The label of the button.
         * @param {number} [opts.x=0] - The x position of the button. Can be also set after creation with button.x = 0.
         * @param {number} [opts.y=0] - The y position of the button. Can be also set after creation with button.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this button. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.minWidth=44] - The minimum width of the button.
         * @param {number} [opts.minHeight=44] - The minimum height of the button.
         * @param {number} [opts.padding=Theme.padding] - The inner spacing (distance from icon and/or label) to the border.
         * @param {string|PIXI.DisplayObject} [opts.icon] - The icon of the button. Can be a predefined one, an URL or an PIXI.DisplayObject.
         * @param {string|PIXI.DisplayObject} [opts.iconActive=icon] - The icon of the button when activated. Can be a predefined one, an URL or an PIXI.DisplayObject.
         * @param {string} [opts.iconPosition=left] - The position of the icon in relation to the label. Can be left or right.
         * @param {number} [opts.iconColor=Theme.iconColor] - The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=Theme.iconColorActive] - The color of the icon when activated.
         * @param {number} [opts.fill=Theme.fill] - The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.fillActive] - The color of the button background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=Theme.strokeActiveWidth] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {object} [opts.textStyle=Theme.textStyle] - A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.textStyleActive=Theme.textStyleActive] - A textstyle object for the styling of the label when the
         *     button is activated. See PIXI.TextStyle for possible options.
         * @param {string} [opts.style=default] - A shortcut for styling options. Possible values are default, link.
         * @param {number} [opts.radius=Theme.radius] - The radius of the four corners of the button (which is a rounded rectangle).
         * @param {boolean} [opts.disabled=false] - Is the button disabled? When disabled, the button has a lower alpha value
         *     and cannot be clicked (interactive is set to false).
         * @param {boolean} [opts.active=false] - Is the button initially active?
         * @param {actionCallback} [opts.action] - Executed when the button was triggered (by pointerup).
         * @param {beforeActionCallback} [opts.beforeAction] - Executed before the main action is triggered.
         * @param {afterActionCallback} [opts.afterAction] - Executed after the main action was triggered.
         * @param {string} [opts.type=default] - The type of the button. Can be default or checkbox. When the type is
         *     checkbox, the active state is toggled automatically.
         * @param {string} [opts.align=center] - The horizontal position of the label and the icon. Possible values are
         *     left, center and right. Only affects the style when the minWidth is bigger than the width of the icon and label.
         * @param {string} [opts.verticalAlign=middle] - The vertical position of the label and the icon. Possible values are
         *     top, middle and button. Only affects the style when the minHeight is bigger than the height of the icon and label.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display.
         * @param {string|object} [opts.badge] - A string for the label of the badge or an object to configure the badge to display.
         *     If the parameter is an object, all badge options can be set plus the following:
         * @param {string} [opts.badge.align=right] - The horizontal alignment of the badge. Possible values: left, center, right
         * @param {string} [opts.badge.verticalAlign=top] - The vertical alignment of the badge. Possible values: top, middle, bottom
         * @param {number} [opts.badge.offsetLeft=0] - The horizontal shift of the badge.
         * @param {number} [opts.badge.offsetTop=0] - The vertical shift of the badge.
         * @param {boolean} [opts.visible=true] - Is the button initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();

            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                label: null,
                x: 0,
                y: 0,
                minWidth: 44,
                minHeight: 44,
                padding: theme.padding,
                icon: undefined,
                iconActive: undefined,
                iconPosition: 'left',
                iconColor: theme.iconColor,
                iconColorActive: theme.iconColorActive,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.fillActive,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: theme.strokeActiveWidth,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                textStyle: theme.textStyle,
                textStyleActive: theme.textStyleActive,
                style: 'default',
                radius: theme.radius,
                disabled: false,
                active: false,
                action: null,
                beforeAction: null,
                afterAction: null,
                type: 'default',
                align: 'center',
                verticalAlign: 'middle',
                tooltip: null,
                badge: null,
                visible: true
            }, opts);

            this.id = this.opts.id;

            if (typeof this.opts.icon === 'undefined' && typeof this.opts.iconActive !== 'undefined') {
                this.opts.icon = this.opts.iconActive;
            } else if (typeof this.opts.icon !== 'undefined' && typeof this.opts.iconActive === 'undefined') {
                this.opts.iconActive = this.opts.icon;
            }

            if (this.opts.style === 'link') {
                Object.assign(this.opts, {strokeAlpha: 0, strokeActiveAlpha: 0, fillAlpha: 0, fillActiveAlpha: 0});
            }

            this._active = null;
            this._disabled = null;

            this.iconInactive = null;
            this.iconActive = null;
            this.text = null;

            this.button = null;
            this.content = null;

            this.tooltip = null;
            this.badge = null;

            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();
        }

        /**
         * Captures an event to inform InteractionMapper about processed events.
         *
         * @param {event|PIXI.InteractionEvent} event - The PIXI event to capture.
         */
        capture(event) {
            Events$1.capturedBy(event.data.originalEvent, this);
        }

        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        setup() {

            // Button
            //-----------------
            let button = new PIXI.Graphics();
            this.button = button;
            this.addChild(button);

            // Content
            //-----------------
            let content = new PIXI.Container();
            this.content = content;
            this.addChild(content);

            // Text
            //-----------------
            if (this.opts.label) {
                this.text = new PIXI.Text(this.opts.label, this.opts.textStyle);
            }

            // Icon
            //-----------------
            if (this.opts.icon) {
                this.iconInactive = this.loadIcon(this.opts.icon, this.opts.iconColor);
            }

            if (this.opts.iconActive) {
                this.iconActive = this.loadIcon(this.opts.iconActive, this.opts.iconColorActive);
            }

            // interaction
            //-----------------
            this.button.on('pointerover', e => {
                this.capture(e);
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .83, overwrite: 'none'});
            });

            this.button.on('pointermove', e => {
                this.capture(e);
            });

            this.button.on('pointerout', e => {
                this.capture(e);
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: 1, overwrite: 'none'});
            });

            this.button.on('pointerdown', e => {
                //this.capture(e)
                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .7, overwrite: 'none'});
            });

            this.button.on('pointerup', e => {
                this.capture(e);
                if (this.opts.beforeAction) {
                    this.opts.beforeAction.call(this, e, this);
                }

                if (this.opts.action) {
                    this.opts.action.call(this, e, this);
                }

                TweenMax.to([this.button, this.content], this.theme.fast, {alpha: .83, overwrite: 'none'});

                if (this.opts.type === 'checkbox') {
                    this.active = !this.active;
                }

                if (this.opts.afterAction) {
                    this.opts.afterAction.call(this, e, this);
                }
            });

            // disabled
            //-----------------
            this.disabled = this.opts.disabled;

            // active
            //-----------------
            this.active = this.opts.active;      // calls .layout()

            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({object: this, content: this.opts.tooltip});
                } else {
                    this.opts.tooltip = Object.assign({}, {object: this}, this.opts.tooltip);
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            // badge
            //-----------------
            if (this.opts.badge) {
                let opts = Object.assign({}, {
                    align: 'right',
                    verticalAlign: 'top',
                    offsetLeft: 0,
                    offsetTop: 0
                });
                if (typeof this.opts.badge === 'string') {
                    opts = Object.assign(opts, {content: this.opts.badge});
                } else {
                    opts = Object.assign(opts, this.opts.badge);
                }

                const badge = new Badge(opts);

                switch (opts.align) {
                    case 'left':
                        badge.x = this.x - badge.width / 2 + opts.offsetLeft;
                        break
                    case 'center':
                        badge.x = this.x + this.width / 2 - badge.width / 2 + opts.offsetLeft;
                        break
                    case 'right':
                        badge.x = this.x + this.width - badge.width / 2 + opts.offsetLeft;
                }

                switch (opts.verticalAlign) {
                    case 'top':
                        badge.y = this.y - badge.height / 2 + opts.offsetTop;
                        break
                    case 'middle':
                        badge.y = this.y + this.height / 2 - badge.height / 2 + opts.offsetTop;
                        break
                    case 'bottom':
                        badge.y = this.y + this.height - badge.height / 2 + opts.offsetTop;
                }

                this.addChild(badge);

                this.badge = badge;
            }

            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            return this
        }

        /**
         * Should be called to refresh the layout of the button. Can be used after resizing.
         *
         * @return {Button} A reference to the button for chaining.
         */
        layout() {

            // Clear content
            //-----------------
            this.removeChild(this.content);
            this.content = new PIXI.Container();
            this.addChild(this.content);

            // Set the icon
            //-----------------
            let icon = null;

            if (!this.active && this.iconInactive) {
                icon = this.iconInactive;
            } else if (this.active && this.iconActive) {
                icon = this.iconActive;
            }

            // Set the text
            //-----------------
            if (this.text) {
                this.text.position.set(0, 0);
            }

            // Width and Height
            //-----------------
            let width = 0;
            if (icon && this.text) {
                width = icon.width + this.text.width + 3 * this.opts.padding;
            } else if (icon) {
                width = icon.width + 2 * this.opts.padding;
            } else if (this.text) {
                width = this.text.width + 2 * this.opts.padding;
            }

            if (width < this.opts.minWidth) {
                width = this.opts.minWidth;
            }

            let height = 0;
            if (icon) {
                height = icon.height + 2 * this.opts.padding;
            } else if (this.text) {
                height = this.text.height + 2 * this.opts.padding;
            }

            if (height < this.opts.minHeight) {
                height = this.opts.minHeight;
            }

            this._width = width;
            this._height = height;

            // Position icon and text
            //-----------------
            if (icon && this.text) {
                if (this.opts.iconPosition === 'right') {
                    icon.x = this.text.width + this.opts.padding;
                } else {
                    this.text.x = icon.width + this.opts.padding;
                }
                this.content.addChild(icon, this.text);
            } else if (icon) {
                this.content.addChild(icon);
            } else if (this.text) {
                this.content.addChild(this.text);
            }

            this.layoutInnerContent();
            this.layoutContent();

            this.icon = icon;

            // draw
            //-----------------
            this.draw();

            return this
        }

        /**
         * Calculates the positions of the content children (icon and/or text).
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        layoutInnerContent() {

            for (let child of this.content.children) {
                switch (this.opts.verticalAlign) {
                    case 'top':
                        child.y = 0;
                        break
                    case 'middle':
                        child.y = this.content.height / 2 - child.height / 2;
                        break
                    case 'bottom':
                        child.y = this.content.height - child.height;
                        break
                }
            }

            return this
        }

        /**
         * Sets the horizontal and vertical position of the content.
         * Uses the option keys "align" and "verticalAlign".
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        layoutContent() {

            switch (this.opts.align) {
                case 'left':
                    this.content.x = this.opts.padding;
                    break
                case 'center':
                    this.content.x = ((this._width - this.content.width) / 2);
                    break
                case 'right':
                    this.content.x = this._width - this.opts.padding - this.content.width;
                    break
            }

            switch (this.opts.verticalAlign) {
                case 'top':
                    this.content.y = this.opts.padding;
                    break
                case 'middle':
                    this.content.y = (this._height - this.content.height) / 2;
                    break
                case 'bottom':
                    this.content.y = this._height - this.opts.padding - this.content.height;
                    break
            }

            return this
        }

        /**
         * Draws the canvas.
         *
         * @private
         * @return {Button} A reference to the button for chaining.
         */
        draw() {

            this.button.clear();
            if (this.active) {
                this.button.lineStyle(this.opts.strokeActiveWidth, this.opts.strokeActive, this.opts.strokeActiveAlpha);
                this.button.beginFill(this.opts.fillActive, this.opts.fillActiveAlpha);
            } else {
                this.button.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
                this.button.beginFill(this.opts.fill, this.opts.fillAlpha);
            }
            this.button.drawRoundedRect(0, 0, this._width, this._height, this.opts.radius);
            this.button.endFill();

            return this
        }

        /**
         * Gets or sets the active state.
         *
         * @member {boolean}
         */
        get active() {
            return this._active
        }
        set active(value) {

            this._active = value;

            if (this._active) {
                if (this.text) {
                    this.text.style = this.opts.textStyleActive;
                }
            } else {
                if (this.text) {
                    this.text.style = this.opts.textStyle;
                }
            }

            this.layout();
        }

        /**
         * Gets or sets the disabled state. When disabled, the button cannot be clicked.
         *
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }
        set disabled(value) {

            this._disabled = value;

            if (this._disabled) {
                this.button.interactive = false;
                this.button.buttonMode = false;
                this.button.alpha = .5;
                if (this.icon) {
                    this.icon.alpha = .5;
                }
                if (this.text) {
                    this.text.alpha = .5;
                }
            } else {
                this.button.interactive = true;
                this.button.buttonMode = true;
                this.button.alpha = 1;
                if (this.icon) {
                    this.icon.alpha = 1;
                }
                if (this.text) {
                    this.text.alpha = 1;
                }
            }
        }

        /**
         * Shows the button (sets his alpha values to 1).
         *
         * @return {Button} A reference to the button for chaining.
         */
        show() {

            this.opts.strokeAlpha = 1;
            this.opts.strokeActiveAlpha = 1;
            this.opts.fillAlpha = 1;
            this.opts.fillActiveAlpha = 1;

            this.layout();

            return this
        }

        /**
         * Hides the button (sets his alpha values to 0).
         *
         * @return {Button} A reference to the button for chaining.
         */
        hide() {

            this.opts.strokeAlpha = 0;
            this.opts.strokeActiveAlpha = 0;
            this.opts.fillAlpha = 0;
            this.opts.fillActiveAlpha = 0;

            this.layout();

            return this
        }

        /**
         * Loads an icon
         *
         * @private
         * @param {string|PIXI.DisplayObject} icon - The icon to load.
         * @param {number} color - The color of the icon (if not an PIXI.DisplayObject).
         * @return {PIXI.DisplayObject} Return the icon as an PIXI.DisplayObject.
         */
        loadIcon(icon, color) {

            let displayObject = null;

            if (icon instanceof PIXI.DisplayObject) {
                displayObject = icon;
            } else {
                let size = 17;
                if (this.text) {
                    size = this.text.height;
                } else if (this.opts.minHeight) {
                    size = this.opts.minHeight - (2 * this.opts.padding);
                }

                const url = Button.iconIsUrl(icon) ? icon : `../../assets/icons/png/flat/${icon}.png`;
                const iconTexture = PIXI.Texture.fromImage(url, true);

                const sprite = new PIXI.Sprite(iconTexture);
                sprite.tint = color;
                sprite.width = size;
                sprite.height = size;

                displayObject = sprite;
            }

            return displayObject
        }

        /**
         * Tests if an icon string is an url.
         *
         * @private
         * @static
         * @param {string} url - The url to test.
         * @return {boolean} true if the url is an url to an image.
         */
        static iconIsUrl(url) {
            return /\.(png|svg|gif|jpg|jpeg|tif|tiff)$/i.test(url)
        }

        /**
         * Gets or sets the color of the current icon (no matter how the status is). Changing the color, changes
         * the tint property of the icon sprite.
         *
         * @member {number}
         */
        get iconColor() {
            return this.icon ? this.icon.tint : null
        }
        set iconColor(value) {
            if (this.icon) {
                this.icon.tint = value;
            }
        }
    }

    /**
     * Class that represents a PixiJS ButtonGroup.
     * 
     * @example
     * // Create the button group
     * const buttonGroup = new ButtonGroup({
     *     buttons: [
     *         {label: 'Button 1', action: event => console.log(event)},
     *         {label: 'Button 2', action: event => console.log(event)},
     *         {label: 'Button 3', action: event => console.log(event)}
     *     ],
     *     minWidth: 100
     * })
     *
     * // Add the button group to a DisplayObject
     * app.scene.addChild(buttonGroup)
     *
     * @class
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/buttongroup.html|DocTest}
     */
    class ButtonGroup extends PIXI.Graphics {

        /**
         * Creates an instance of a ButtonGroup.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the button group.
         * @param {number} [opts.id=auto generated] - The id of the button group.
         * @param {number} [opts.x=0] - The x position of the button group. Can be also set after creation with buttonGroup.x = 0.
         * @param {number} [opts.y=0] - The y position of the button group. Can be also set after creation with buttonGroup.y = 0.
         * @param {object[]} [opts.buttons=[]] - An array of the buttons of the button group. One item of the array (one object)
         *     can have exactly the same properties as an Button object when instantiating a Button. If a property of the button group
         *     conflicts with a property of a button object, the value from the button object will be used.
         * @param {string|Theme=} [opts.theme=dark] - The theme to use for this button group. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.minWidth=44] - Button: The minimum width of one button.
         * @param {number} [opts.minHeight=44] - Button: The minimum height of one button.
         * @param {number} [opts.padding=Theme.padding] - Button: The inner spacing (distance from icon and/or label) the the border.
         * @param {number} [opts.margin=Theme.margin] - The outer spacing (distance from one button to the previous/next button).
         * @param {string} [opts.iconPosition=left] - Button: The position of the icon in relation to the label. Can be left or right.
         * @param {number} [opts.iconColor=Theme.iconColor] - Button: The color of the icon (set by the tint property) as a hex value.
         * @param {number} [opts.iconColorActive=Theme.iconColorActive] - Button: The color of the icon when activated.
         * @param {number} [opts.fill=Theme.fill] - Button: The color of the button background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - Button: The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.fillActive] - Button: The color of the button background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - Button: The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - Button: The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - Button: The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - Button: The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - Button: The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=Theme.strokeActiveWidth] - Button: The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - Button: The alpha value of the border when activated.
         * @param {object} [opts.textStyle=Theme.textStyle] - Button: A textstyle object for the styling of the label. See PIXI.TextStyle
         *     for possible options.
         * @param {number} [opts.textStyleActive=Theme.textStyleActive] - Button: A textstyle object for the styling of the label when the
         *     button is activated. See PIXI.TextStyle for possible options.
         * @param {string} [opts.style=default] - A shortcut for styling options. Possible values are default, link.
         * @param {number} [opts.radius=Theme.radius] - Button: The radius of the four corners of the button (which is a rounded rectangle).
         * @param {boolean} [opts.disabled=false] - Is the button group disabled? When disabled, the button group has a lower alpha value
         *     and cannot be clicked (interactive of every button is set to false).
         * @param {string} [opts.type=default] - The type of the button group. Can be default, checkbox or radio. When the type is
         *     checkbox, the active state is toggled for each button automatically. When the type is radio, only one button can
         *     be activated at the same time.
         * @param {string} [opts.orientation=horizontal] - The orientation of the button group. Can be horizontal or vertical.
         * @param {string} [opts.align=center] - Button: The horizontal position of the label and the icon. Possible values are
         *     left, center and right. Only affects the style when the minWidth is bigger than the width of the icon and label.
         * @param {string} [opts.verticalAlign=middle] - Button: The vertical position of the label and the icon. Possible values are
         *     top, middle and button. Only affects the style when the minHeight is bigger than the height of the icon and label.
         * @param {boolean} [opts.visible=true] - Is the button group initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                buttons: [],
                minWidth: 44,
                minHeight: 44,
                padding: theme.padding,
                margin: theme.margin,
                iconPosition: 'left',             // left, right
                iconColor: theme.iconColor,
                iconColorActive: theme.iconColorActive,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.fillActive,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.strokeActive,
                strokeActiveWidth: theme.strokeActiveWidth,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                textStyle: theme.textStyle,
                textStyleActive: theme.textStyleActive,
                style: 'default',
                radius: theme.radius,
                disabled: null,
                type: 'default',                   // default, checkbox, radio
                orientation: 'horizontal',
                align: 'center',                   // left, center, right
                verticalAlign: 'middle',           // top, middle, bottom
                visible: true
            }, opts);

            this.buttons = [];

            this._disabled = null;
            
            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        setup() {

            // Buttons
            //-----------------
            let position = 0;

            for (let it of this.opts.buttons) {

                delete it.x;
                delete it.y;

                if (this.opts.orientation === 'horizontal') {
                    it.x = position;
                } else {
                    it.y = position;
                }

                it.theme = it.theme || this.opts.theme;
                it.minWidth = it.minWidth || this.opts.minWidth;
                it.minHeight = it.minHeight || this.opts.minHeight;
                it.padding = it.padding || this.opts.padding;
                it.iconPosition = it.iconPosition || this.opts.iconPosition;
                it.iconColor = it.iconColor || this.opts.iconColor;
                it.iconColorActive = it.iconColorActive || this.opts.iconColorActive;
                it.fill = it.fill || this.opts.fill;
                it.fillAlpha = it.fillAlpha || this.opts.fillAlpha;
                it.fillActive = it.fillActive || this.opts.fillActive;
                it.fillActiveAlpha = it.fillActiveAlpha || this.opts.fillActiveAlpha;
                it.stroke = it.stroke || this.opts.stroke;
                it.strokeWidth = it.strokeWidth != null ? it.strokeWidth : this.opts.strokeWidth;
                it.strokeAlpha = it.strokeAlpha != null ? it.strokeAlpha : this.opts.strokeAlpha;
                it.strokeActive = it.strokeActive || this.opts.strokeActive;
                it.strokeActiveWidth = it.strokeActiveWidth != null ? it.strokeActiveWidth : this.opts.strokeActiveWidth;
                it.strokeActiveAlpha = it.strokeActiveAlpha != null ? it.strokeActiveAlpha : this.opts.strokeActiveAlpha;
                it.textStyle = it.textStyle || this.opts.textStyle;
                it.textStyleActive = it.textStyleActive || this.opts.textStyleActive;
                it.style = it.style || this.opts.style;
                it.radius = it.radius != null ? it.radius : this.opts.radius;
                if (!it.type) {
                    switch (this.opts.type) {
                        case 'checkbox':
                            it.type = this.opts.type;
                            break
                        default:
                            it.type = 'default';
                            break
                    }
                }
                //it.type = it.type || this.opts.type || 'default'
                it.align = it.align || this.opts.align;
                it.verticalAlign = it.verticalAlign || this.opts.verticalAlign;
                it.afterAction = (event, button) => {
                    if (this.opts.type === 'radio' && button.opts.type === 'default') {
                        this.buttons.forEach(it => {
                            if (it.opts.type === 'default') {
                                it.active = false;
                            }
                        });

                        if (button.opts.type === 'default') {
                            button.active = true;
                        }
                    }
                };

                if (it.tooltip) {
                    if (typeof it.tooltip === 'string') {
                        it.tooltip = {content: it.tooltip, container: this};
                    } else {
                        it.tooltip = Object.assign({}, {container: this}, it.tooltip);
                    }
                }
                
                let button = new Button(it);

                this.addChild(button);
                this.buttons.push(button);

                position += (this.opts.orientation === 'horizontal' ? button.width : button.height) + this.opts.margin;
            }

            if (this.opts.orientation === 'vertical') {
                const maxWidth = this.getMaxButtonWidth();

                this.buttons.forEach(it => {
                    it.opts.minWidth = maxWidth;
                    it.layout();
                });
            }

            // disabled
            //-----------------
            if (this.opts.disabled != null) {
                this.disabled = this.opts.disabled;
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the button group. Can be used after resizing.
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        layout() {
            
            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            // draw
            //-----------------
            this.draw();

            return this
        }
        
        /**
         * Draws the canvas.
         * 
         * @private
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        draw() {

            if (this.opts.margin === 0) {

                this.buttons.forEach(it => it.hide());

                this.clear();
                this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
                this.beginFill(this.opts.fill, this.opts.fillAlpha);
                this.drawRoundedRect(0, 0, this.width, this.height, this.opts.radius);

                // Draw borders
                this.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha / 2);

                this.buttons.forEach((it, i) => {
                    if (i > 0) {
                        this.moveTo(it.x, it.y);

                        if (this.opts.orientation === 'horizontal') {
                            this.lineTo(it.x, it.height);
                        } else {
                            this.lineTo(it.width, it.y);
                        }
                        
                    }
                });

                this.endFill();
            }

            return this
        }
        
        /**
         * Gets or sets the disabled state. When disabled, no button of the button group can be clicked.
         * 
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }

        set disabled(value) {

            this._disabled = value;

            this.buttons.forEach(it => it.disabled = value);
        }
        
        /**
         * Searches all buttons of the button group and returns the maximum width of one button.
         * 
         * @private
         * @return {number} The maximum with of a button of the button group.
         */
        getMaxButtonWidth() {

            let widths = this.buttons.map(it => it.width);

            return Math.max(...widths)
        }
        
        /**
         * Shows the button group (sets his alpha value to 1).
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        show() {

            this.alpha = 1;

            return this
        }

        /**
         * Hides the button group (sets his alpha value to 0).
         * 
         * @return {ButtonGroup} A reference to the button group for chaining.
         */
        hide() {

            this.alpha = 0;

            return this
        }
    }

    /**
     * Class that represents a PixiJS InteractivePopup.
     * The class is used for various other Popup-like classes
     * like Popup, Message...
     *
     * @class
     * @abstract
     * @extends AbstractPopup
     */
    class InteractivePopup extends AbstractPopup {

        /**
         * Creates an instance of an InteractivePopup (only for internal use).
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the popup.
         * @param {boolean} [opts.closeOnPopup=false] - Should the popup be closed when the user clicks on the popup?
         * @param {boolean} [opts.closeButton=true] - Should a close button be displayed on the upper right corner?
         * @param {object} [opts.button] - A Button object to be display on the lower right corner.
         * @param {object} [opts.buttonGroup] - A ButtonGroup object to be displayed on the lower right corner.
         */
        constructor(opts = {}) {

            opts = Object.assign({}, {
                closeOnPopup: false,
                closeButton: true,
                button: null,
                buttonGroup: null
            }, opts);

            super(opts);

            this._closeButton = null;
            this._buttons = null;

            // padding
            this.smallPadding = this.opts.padding / 2;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }

        /**
         * Creates the framework and instantiates everything.
         *
         * @private
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        setup() {

            super.setup();

            // interaction
            //-----------------
            this.on('pointerup', e => {
                if (this.opts.closeOnPopup) {
                    this.hide();
                } else {
                    e.stopPropagation();
                }
            });

            // closeButton
            //-----------------
            if (this.opts.closeButton) {
                let closeButton = PIXI.Sprite.fromImage('../../assets/icons/png/flat/close.png', true);
                closeButton.width = this.headerStyle.fontSize;
                closeButton.height = closeButton.width;
                closeButton.tint = this.theme.color2;
                // This is needed, because the closeButton belongs to the content. The popup must resize with the closeButton.
                if (this._header) {
                    closeButton.x = this._header.width + this.innerPadding;
                } else if (this._content) {
                    closeButton.x = this._content.width + this.innerPadding;
                }

                closeButton.interactive = true;
                closeButton.buttonMode = true;
                closeButton.on('pointerdown', e => {
                    this.hide();
                });

                this._closeButton = closeButton;
                this.addChild(closeButton);

                // maxWidth is set and a closeButton should be displayed
                //-----------------
                if (this.opts.maxWidth) {
                    const wordWrapWidth = this.opts.maxWidth - (2 * this.opts.padding) - this.smallPadding - this._closeButton.width;
                    if (this._header) {
                        this.headerStyle.wordWrapWidth = wordWrapWidth;
                    } else if (this._content) {
                        this.textStyle.wordWrapWidth = wordWrapWidth;
                    }
                }
            }

            // buttons
            //-----------------
            if (this.opts.button || this.opts.buttonGroup) {
                if (this.opts.button) {
                    this._buttons = new Button(Object.assign({textStyle: this.theme.textStyleSmall}, this.opts.button));
                } else {
                    this._buttons = new ButtonGroup(Object.assign({textStyle: this.theme.textStyleSmall}, this.opts.buttonGroup));
                }
                this.addChild(this._buttons);

                this._buttons.y = this.innerPadding + this.sy;
            }

            return this
        }

        /**
         * Should be called to refresh the layout of the popup. Can be used after resizing.
         *
         * @return {AbstractPopup} A reference to the popup for chaining.
         */
        layout() {

            super.layout();
            
            // closeButton
            //-----------------
            if (this.opts.closeButton) {
                this._closeButton.x = this.wantedWidth - this.smallPadding - this._closeButton.width;
                this._closeButton.y = this.smallPadding;
            }

            // buttons
            //-----------------
            if (this._buttons) {
                this._buttons.x = this.wantedWidth - this.opts.padding - this._buttons.width;
                this._buttons.y = this.wantedHeight - this.opts.padding - this._buttons.height;
            }

            return this
        }

        /**
         * Calculates the size of the children of the AbstractPopup.
         * Cannot use getBounds() because it is not updated when children
         * are removed.
         * 
         * @private
         * @override
         * @returns {object} An JavaScript object width the keys width and height.
         */
        getInnerSize() {

            let size = super.getInnerSize();

            if (this._closeButton) {
                size.width += this.smallPadding + this._closeButton.width;
            }

            if (this._buttons) {
                size.width = Math.max(size.width, this._buttons.x + this._buttons.width);
                size.height += this.innerPadding + this._buttons.height;
            }

            return size
        }
    }

    /**
     * Class that represents a PixiJS Popup.
     *
     * @example
     * // Create the popup
     * const popup = new Popup({
     *     header: 'Goethe',
     *     content: 'Man kann die Erfahrung nicht frh genug machen, wie entbehrlich man in der Welt ist.'
     * })
     *
     * // Add the popup to a DisplayObject
     * app.scene.addChild(popup)
     *
     * @class
     * @extends InteractivePopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/popup.html|DocTest}
     */
    class Popup extends InteractivePopup {

        /**
         * Creates an instance of a Popup.
         *
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the popup.
         * @param {boolean} [opts.closeButton=false] - Should a close button be displayed on the upper right corner?
         * @param {number} [opts.minWidth=0] - The minimum width of the popup.
         * @param {number} [opts.minHeight=0] - The minimum height of the popup.
         */
        constructor(opts = {}) {

            opts = Object.assign({}, {
                closeButton: false,
                minWidth: 0,
                minHeight: 0
            }, opts);

            super(opts);
        }
    }

    /**
     * Class that represents a PixiJS Modal.
     * 
     * @example
     * // Create the button and the modal when clicked
     * const button = new Button({
     *     label: 'Show Modal',
     *     action: e => {
     *         const modal = new Modal({
     *             app: app,
     *             header: 'This is the header',
     *             content: 'This is the text.'
     *         })
     *         app.scene.addChild(modal)
     *     }
     * })
     *
     * // Add the button to a DisplayObject
     * app.scene.addChild(button)
     *
     * @class
     * @extends PIXI.Container
     * @extends InteractivePopup
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/modal.html|DocTest}
     */
    class Modal extends PIXI.Container {

        /**
         * Creates an instance of a Modal.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the modal.
         * @param {number} [opts.id=auto generated] - The id of the modal.
         * @param {PIXIApp} [opts.app=window.app] - The app where the modal belongs to.
         * @param {number} [opts.backgroundFill=Theme.background] - The color of the background.
         * @param {number} [opts.backgroundFillAlpha=0.6] - The opacity of the background.
         * @param {boolean} [opts.closeOnBackground=true] - Should the modal be closed when the user clicks the
         *     background?
         * @param {boolean} [opts.visible=true] - Is the modal initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                app: window.app,
                backgroundFill: theme.background,
                backgroundFillAlpha: .6,
                closeOnBackground: true,
                visible: true
            }, opts);

            this.id = this.opts.id;

            this.background = null;
            this.popup = null;

            this.alpha = 0;
            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Modal} A reference to the modal for chaining.
         */
        setup() {

            // interaction
            //-----------------
            this.interactive = true;
            this.on('added', e => {
                if (this.visible) {
                    this.show();
                }
            });

            // background
            //-----------------
            let background = new PIXI.Graphics();
            this.background = background;
            this.addChild(this.background);

            if (this.opts.closeOnBackground) {
                background.interactive = true;
                background.on('pointerup', e => {
                    this.hide();
                });
            }

            // popup
            //-----------------
            const popupOpts = Object.assign({}, this.opts, {
                visible: true,
                onHidden: () => {
                    this.hide();
                }
            });
            let popup = new InteractivePopup(popupOpts);
            this.popup = popup;
            this.addChild(popup);
            popup.show();

            return this
        }
        
        /**
         * Should be called to refresh the layout of the modal. Can be used after resizing.
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        layout() {

            const width = this.opts.app.size.width;
            const height = this.opts.app.size.height;

            // background
            //-----------------
            this.background.clear();
            this.background.beginFill(this.opts.backgroundFill, this.opts.backgroundFillAlpha);
            this.background.drawRect(0, 0, width, height);
            this.background.endFill();

            // position
            this.popup.x = width / 2 - this.popup.width / 2;
            this.popup.y = height / 2 - this.popup.height / 2;

            return this
        }
        
        /**
         * Shows the modal (sets his alpha values to 1).
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        show() {
            TweenMax.to(this, this.theme.fast, {alpha: 1, onStart: () => this.visible = true});

            return this
        }
        
        /**
         * Hides the modal (sets his alpha values to 0).
         * 
         * @return {Modal} A reference to the modal for chaining.
         */
        hide() {
            TweenMax.to(this, this.theme.fast, {alpha: 0, onComplete: () => this.visible = false});

            return this
        }
        
        /**
         * Sets or gets the header. The getter always returns a PIXI.Text object. The setter can receive
         * a string or a PIXI.Text object.
         * 
         * @member {string|PIXI.Text}
         */
        get header() {
            return this.popup.header
        }
        set header(value) {
            this.opts.header = value;
            this.background.destroy();
            this.popup.destroy();
            this.setup().layout();
        }
        
        /**
         * Sets or gets the content. The getter always returns an PIXI.DisplayObject. The setter can receive
         * a string or a PIXI.DisplayObject.
         * 
         * @member {string|PIXI.DisplayObject}
         */
        get content() {
            return this.popup.content
        }
        set content(value) {
            this.opts.content = value;
            this.background.destroy();
            this.popup.destroy();
            this.setup().layout();
        }
    }

    /**
     * Class that represents a Message. A message pops up and disappears after a specific amount of time.
     * 
     * @example
     * // Create the PixiJS App
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Create a button
     * let button = new Button({
     *     label: 'Click me',
     *     action: e => {
     *         const message = new Message({
     *             app: app,
     *             header: 'Header',
     *             content: 'Text.'
     *         })
     *         app.scene.addChild(message)
     *     }
     * })
     * 
     * // Add the button to the scene
     * app.scene.addChild(button)
     *
     * @class
     * @extends InteractivePopup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/message.html|DocTest}
     */
    class Message extends InteractivePopup {

        /**
         * Creates an instance of a Message.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the message.
         * @param {PIXIApp} [opts.app=window.app] - The PIXIApp where this message belongs to.
         * @param {boolean} [opts.closeButton=false] - Should a close button be displayed in the upper right corner?
         * @param {number} [opts.minWidth=280] - The minimum width of the message box. Automatically expands with the content.
         * @param {number} [opts.minHeight=100] - The minimum height of the message box. Automatically expands with the content.
         * @param {number} [opts.margin=Theme.margin] - The outer spacing of the message box.
         * @param {string} [opts.align=right] - The horizontal position of the message box relative to the app. Possible
         *     values are left, center, right.
         * @param {string} [opts.verticalAlign=top] - The vertical position of the message box relative to the app. Possible
         *     values are top, middle, bottom.
         * @param {number} [opts.duration=5] - The duration in seconds when the message box should disappear.
         * @param {boolean} [opts.autoClose=true] - Should the message box be closed automatically?
         * @param {number} [opts.closeDuration=Theme.fast] - The duration in seconds of the closing of the message box.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);

            opts = Object.assign({}, {
                app: window.app,
                closeButton: false,
                minWidth: 280,
                minHeight: 100,
                margin: theme.margin,
                align: 'right',                     // left, center, right
                verticalAlign: 'top',               // top, middle, bottom
                duration: 5,
                autoClose: true,
                closeDuration: theme.fast
            }, opts);

            super(opts);
        }

        /**
         * Relayouts the position of the message box.
         * 
         * @return {Message} Returns the message box for chaining.
         */
        layout() {

            super.layout();

            // horizontal
            switch (this.opts.align) {
                case 'left':
                    this.x = this.opts.margin;
                    break
                case 'center':
                    this.x = (this.opts.app.size.width / 2) - (this.width / 2);
                    break
                case 'right':
                    this.x = this.opts.app.size.width - this.opts.margin - this.width;
                    break
            }

            // vertical
            switch (this.opts.verticalAlign) {
                case 'top':
                    this.y = this.opts.margin;
                    break
                case 'middle':
                    this.y = (this.opts.app.size.height / 2) - (this.height / 2);
                    break
                case 'bottom':
                    this.y = this.opts.app.size.height - this.opts.margin - this.height;
                    break
            }
        }

        /**
         * Shows the message box.
         * 
         * @private
         */
        show() {

            super.show();

            if (this.opts.autoClose) {
                window.setTimeout(() => {
                    this.hide();
                }, this.opts.duration * 1000);
            }
        }
    }

    /* global apollo, subscriptions, gql */

    /**
     * A special InteractionManager for fullscreen apps, which may
     * go beyond the limits of WebGL drawing buffers. On Safari and Chrome
     * the drawing buffers are limited to 4096 in width (Safari) or 4096x4096
     * in total buffer size (Chrome). The original InteractionManager.mapPositionToPoint
     * does not work with these extreme sizes which mainly occur if large
     * retina displays (>= 4K) are used with devicePixelRatio > 1.
     *
     * @private
     * @class
     * @extends PIXI.interaction.InteractionManager
     * @see {@link http://pixijs.download/dev/docs/PIXI.interaction.InteractionManager.html|PIXI.interaction.InteractionManager}
     * @see {@link https://stackoverflow.com/questions/29710696/webgl-drawing-buffer-size-does-not-equal-canvas-size}
     */
    class FullscreenInteractionManager extends PIXI.interaction.InteractionManager {

        mapPositionToPoint(point, x, y) {
            let resolution = this.renderer.resolution;
            let extendWidth = 1.0;
            let extendHeight = 1.0;
            let dy = 0;
            let canvas = this.renderer.view;
            let context = canvas.getContext('webgl');
            if (context.drawingBufferWidth < canvas.width ||
                context.drawingBufferHeight < canvas.height) {
                extendWidth = context.drawingBufferWidth / canvas.width;
                extendHeight = context.drawingBufferHeight / canvas.height;
                //dx = wantedWidth - context.drawingBufferWidth
                dy = (canvas.height - context.drawingBufferHeight) / resolution;
            }
            x *= extendWidth;
            y *= extendHeight;

            super.mapPositionToPoint(point, x, y + dy);
        }
    }

    /**
     * The class PixiApp extends the class PIXI.Application
     * by several functions and makes meaningful pre-assumptions.
     *
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 450,
     *     height: 150,
     *     fpsLogging: true,
     *     theme: 'light',
     *     transparent: false
     * }).setup().run()
     *
     * @class
     * @extends PIXI.Application
     * @see {@link http://pixijs.download/dev/docs/PIXI.Application.html|PIXI.Application}
     */
    class PIXIApp extends PIXI.Application {

        /**
         * Creates an instance of a PixiApp.
         *
         * @constructor
         * @param {object} [opts={}] - An options object. The following options can be set:
         * @param {number} [opts.width] - The width of the renderer. If no set, the application will run in fullscreen.
         * @param {number} [opts.height] - The height of the renderer. If no set, the application will run in fullscreen.
         * @param {HTMLElement} [opts.view] - The canvas HTML element. If not set, a render-element is added inside the body.
         * @param {boolean} [opts.transparent=true] - Should the render view be transparent?
         * @param {boolean} [opts.antialias=true] - Sets antialias (only applicable in chrome at the moment).
         * @param {number} [opts.resolution=window.devicePixelRatio | 1] - The resolution / device pixel ratio of the renderer, retina would be 2.
         * @param {boolean} [opts.autoResize=true] - Should the canvas-element be resized automatically if the resolution was set?
         * @param {number} [opts.backgroundColor=0x282828] - The color of the background.
         * @param {string|Theme} [opts.theme=dark] - The name of the theme (dark, light, red) or a Theme object to use for styling.
         * @param {boolean} [opts.fpsLogging=false] - If set to true, the current frames per second are displayed in the upper left corner.
         * @param {object} [opts.progress={}] - Can be used to add options to the progress bar. See class Progress for more informations.
         * @param {boolean} [opts.forceCanvas=false] - Prevents selection of WebGL renderer, even if such is present.
         * @param {boolean} [opts.roundPixels=true] - Align PIXI.DisplayObject coordinates to screen resolution.
         * @param {boolean} [opts.monkeyPatchMapping=true] - Monkey patch for canvas fullscreen support on large displays.
         */
        constructor({
            width = null, height = null, view = null,
            transparent = true, backgroundColor = 0x282828, theme = 'dark',
            antialias = true, resolution = window.devicePixelRatio || 1, autoResize = true,
            fpsLogging = false, progress = {}, forceCanvas = false, roundPixels = true, monkeyPatchMapping = true,
            graphql = false}) {

            const fullScreen = !width || !height;

            if (fullScreen) {
                width = window.innerWidth;
                height = window.innerHeight;
            }

            super({
                view: view,
                width: width,
                height: height,
                transparent: transparent,
                antialias: antialias,
                resolution: resolution,
                autoResize: autoResize,
                backgroundColor: backgroundColor,
                roundPixels: roundPixels,
                forceCanvas: forceCanvas
            });

            this.width = width;
            this.height = height;
            this.theme = Theme.fromString(theme);
            this.fpsLogging = fpsLogging;
            this.progressOpts = progress;
            this.fullScreen = fullScreen;
            this.orient = null;
            this.originalMapPositionToPoint = null;
            this.monkeyPatchMapping = monkeyPatchMapping;
            this.graphql = graphql;
            if (fullScreen) {
                console.log('App is in fullScreen mode');
                window.addEventListener('resize', this.resize.bind(this));
                document.body.addEventListener('orientationchange', this.checkOrientation.bind(this));
            }
            if (monkeyPatchMapping) {
                console.log('Using monkey patched coordinate mapping');
                // Pluggin the specializtion does not work. Monkey patching does
                // this.renderer.plugins.interaction = new FullscreenInteractionManager(this.renderer)
                this.monkeyPatchPixiMapping();
            }
        }

        /**
         * Extra setup method to construct complex scenes, etc...
         * Overwrite this method if you need additonal views and components.
         *
         * @return {PIXIApp} A reference to the PIXIApp for chaining.
         */
        setup() {
            this.scene = this.sceneFactory();
            this.stage.addChild(this.scene);

            // fpsLogging
            if (this.fpsLogging) {
                this.addFpsDisplay();
            }

            // GraphQL
            if (this.graphql && typeof apollo !== 'undefined') {

                const networkInterface = apollo.createNetworkInterface({
                    uri: '/graphql'
                });

                const wsClient = new subscriptions.SubscriptionClient(`wss://${location.hostname}/subscriptions`, {
                    reconnect: true,
                    connectionParams: {}
                });

                const networkInterfaceWithSubscriptions = subscriptions.addGraphQLSubscriptions(
                    networkInterface,
                    wsClient
                );

                this.apolloClient = new apollo.ApolloClient({
                    networkInterface: networkInterfaceWithSubscriptions
                });
            }

            // progress
            this._progress = new Progress(Object.assign({theme: this.theme}, this.progressOpts, {app: this}));
            this._progress.visible = false;
            this.stage.addChild(this._progress);

            return this
        }

        /**
         * Tests whether the width is larger than the height of the application.
         *
         * @return {boolean} Returns true if app is in landscape mode.
         */
        orientation() {
            return this.width > this.height
        }

        /**
         * Checks orientation and adapts view size if necessary. Implements a
         * handler for the orientationchange event.
         *
         * @param {event=} - orientationchange event
         */
        checkOrientation(event) {
            var value = this.orientation();
            if (value != this.orient) {
                setTimeout(100, function() {
                    this.orientationChanged(true);
                }.bind(this));
                this.orient = value;
            }
        }

        /**
         * Called if checkOrientation detects an orientation change event.
         *
         * @param {boolean=} [force=false] - Called if checkOrientation detects an orientation change event.
         */
        orientationChanged(force=false) {
            if (this.expandRenderer() || force) {
                this.layout();
            }
        }

        /**
         * Called after a resize. Empty method but can be overwritten to
         * adapt their layout to the new app size.
         *
         * @param {number} [width] - The width of the app.
         * @param {number} [height] - The height of the app.
         */
        layout(width, height) {

        }

        /**
         * Draws the display tree of the app. Typically this can be delegated
         * to the layout method.
         *
         */
        draw() {
            this.layout(this.width, this.height);
        }

        /*
         * Run the application. Override this method with everything
         * that is needed to maintain your App, e.g. setup calls, main loops, etc.
         *
         */
        run() {
            return this
        }

        /*
         * Overwrite this factory method if your application needs a special
         * scene object.
         *
         * @returns {PIXI.Container} - A new PIXI Container for use as a scene.
         */
        sceneFactory() {
            return new PIXI.Container()
        }

        /**
         * Adds the display of the frames per second to the renderer in the upper left corner.
         *
         * @return {PIXIApp} - Returns the PIXIApp for chaining.
         */
        addFpsDisplay() {
            const fpsDisplay = new FpsDisplay(this);
            this.stage.addChild(fpsDisplay);

            return this
        }

        /**
         * Returns the size of the renderer as an object with the keys width and height.
         *
         * @readonly
         * @member {object}
         */
        get size() {
            return {width: this.width, height: this.height}
        }

        /**
         * Returns the center of the renderer as an object with the keys x and y.
         *
         * @readonly
         * @member {object}
         */
        get center() {
            return {x: this.width / 2, y: this.height / 2}
        }

        /**
         * Resizes the renderer to fit into the window or given width and height.
         *
         * @param {object} [event] - The event.
         * @param {object=} [opts={}] - The event.
         * @param {number} [opts.width=window.innerWidth] - The width of the app to resize to.
         * @param {number} [opts.height=window.innerHeight] - The height of the app to resize to.
         * @return {PIXIApp} - Returns the PIXIApp for chaining.
         */
        resize(event, {width = window.innerWidth, height = window.innerHeight} = {}) {
            this.width = width;
            this.height = height;
            this.expandRenderer();
            this.layout(width, height);
            // if (this.scene) {
            // console.log("gl.drawingBufferWidth", this.renderer.view.getContext('webgl').drawingBufferWidth)
            // console.log("scene", this.scene.scale, this.renderer, this.renderer.autoResize, this.renderer.resolution)
            // }
            return this
        }

        /**
         * @todo Write the documentation.
         *
         * @private
         */
        monkeyPatchPixiMapping() {
            if (this.originalMapPositionToPoint === null) {
                let interactionManager = this.renderer.plugins.interaction;
                this.originalMapPositionToPoint = interactionManager.mapPositionToPoint;
                interactionManager.mapPositionToPoint = (point, x, y) => {
                    return this.fixedMapPositionToPoint(point, x, y)
                };
            }
        }

        /**
         * In some browsers the canvas is distorted if the screen resolution and 
         * overall size of the canvas exceeds the internal limits (e.g. 4096 x 4096 pixels).
         * To compensate these distortions we need to fix the mapping to the actual
         * drawing buffer coordinates.
         * @private
         * @param {any} local
         * @param {number} x
         * @param {number} y
         * @return {} interactionManager.mapPositionToPoint
         */
        fixedMapPositionToPoint(local, x, y) {
            let resolution = this.renderer.resolution;
            let interactionManager = this.renderer.plugins.interaction;
            let extendWidth = 1.0;
            let extendHeight = 1.0;
            let dy = 0;
            let canvas = this.renderer.view;
            let context = canvas.getContext('webgl');

            if (context !== null && (context.drawingBufferWidth < canvas.width ||
                context.drawingBufferHeight < canvas.height)) {
                extendWidth = context.drawingBufferWidth / canvas.width;
                extendHeight = context.drawingBufferHeight / canvas.height;
                //dx = wantedWidth - context.drawingBufferWidth
                dy = (canvas.height - context.drawingBufferHeight) / resolution;
            }
            x *= extendWidth;
            y *= extendHeight;
            return this.originalMapPositionToPoint.call(interactionManager, local, x, y + dy)
        }

        /**
         * Expand the renderer step-wise on resize.
         *
         * @param {number} [expand] - The amount of additional space for the renderer [px].
         * @return {boolean} true if the renderer was resized.
         */
        expandRenderer(expand=256) {
            let renderer = this.renderer;
            let resolution = this.renderer.resolution;
            let ww = this.width;
            let hh = this.height;
            let sw = this.screen.width;
            let sh = this.screen.height;
            if (ww > sw || hh > sh) {
                console.log('App.expandRenderer');
                renderer.resize(ww + expand, hh + expand);
                return true
            }

            renderer.resize(ww, hh);
            return false
        }

        /**
         * Set the loading progress of the application. If called for the first time, display the progress bar.
         *
         * @param {number} [value] - Should be a value between 0 and 100. If 100, the progress bar will disappear.
         * @return {PIXIApp|Progress} The PixiApp object for chaining or the Progress object when the method was
         *     called without a parameter.
         */
        progress(value) {

            if (typeof value === 'undefined') {
                return this._progress
            }

            this._progress.visible = true;
            this._progress.progress = value;

            return this
        }

        /**
         * Opens a new Modal object binded to this app.
         *
         * @param {object} [opts] - An options object for the Modal object.
         * @return {Modal} Returns the Modal object.
         */
        modal(opts = {}) {

            let modal = new Modal(Object.assign({theme: this.theme}, opts, {app: this}));
            this.scene.addChild(modal);

            return modal
        }

        /**
         * Opens a new Message object binded to this app.
         *
         * @param {object} [opts] - An options object for the Message object.
         * @return {Message} Returns the Message object.
         */
        message(opts = {}) {

            let message = new Message(Object.assign({theme: this.theme}, opts, {app: this}));
            this.scene.addChild(message);

            return message
        }

        /**
         * Loads sprites, e.g. images into the PIXI TextureCache.
         *
         * @param {string|string[]} resources - A String or an Array of urls to the images to load.
         * @param {function} [loaded] - A callback which is executed after all resources has been loaded.
         *     Receives one paramter, a Map of sprites where the key is the path of the image which was
         *     loaded and the value is the PIXI.Sprite object.
         * @param {object} [opts] - An options object for more specific parameters.
         * @param {boolean} [opts.resolutionDependent=true] - Should the sprites be loaded dependent of the
         *     renderer resolution?
         * @param {boolean} [opts.progress=false] - Should a progress bar display the loading status?
         * @return {PIXIApp} The PIXIApp object for chaining.
         */
        loadSprites(resources, loaded = null, {resolutionDependent = true, progress = false} = {}) {

            this.loadTextures(resources, textures => {

                let sprites = new Map();

                for (let [key, texture] of textures) {
                    sprites.set(key, new PIXI.Sprite(texture));
                }

                if (loaded) {
                    loaded.call(this, sprites);
                }

            }, {resolutionDependent, progress});

            return this
        }

        /**
         * Loads textures, e.g. images into the PIXI TextureCache.
         *
         * @param {string|string[]} resources - A String or an Array of urls to the images to load.
         * @param {function} [loaded] - A callback which is executed after all resources has been loaded.
         *     Receives one paramter, a Map of textures where the key is the path of the image which was
         *     loaded and the value is the PIXI.Texture object.
         * @param {object} [opts] - An options object for more specific parameters.
         * @param {boolean} [opts.resolutionDependent=true] - Should the textures be loaded dependent of the
         *     renderer resolution?
         * @param {boolean} [opts.progress=false] - Should a progress bar display the loading status?
         * @return {PIXIApp} The PIXIApp object for chaining.
         */
        loadTextures(resources, loaded = null, {resolutionDependent = true, progress = false} = {}) {

            if (!Array.isArray(resources)) {
                resources = [resources];
            }

            const loader = this.loader;

            for (let resource of resources) {

                if (!loader.resources[resource]) {
                    
                    if (resolutionDependent) {
                        let resolution = Math.round(this.renderer.resolution);
                        switch (resolution) {
                            case 2:
                                loader.add(resource, resource.replace(/\.([^.]*)$/, '@2x.$1'));
                                break
                            case 3:
                                loader.add(resource, resource.replace(/\.([^.]*)$/, '@3x.$1'));
                                break
                            default:
                                loader.add(resource);
                                break
                        }
                    } else {
                        loader.add(resource);
                    }
                }
            }

            if (progress) {
                loader.on('progress', e => {
                    this.progress(e.progress);
                });
            }

            loader.load((loader, resources) => {
                const textures = new Map();

                for (let key in resources) {
                    textures.set(key, resources[key].texture);
                }

                if (loaded) {
                    loaded.call(this, textures);
                }
            });

            return this
        }

        /**
         * Queries the GraphQL endpoint.
         *
         * @param {string} [query] - The GraphQL query string.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.query
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        query(query, opts = {}) {

            if (typeof query === 'string') {
                opts = Object.assign({}, opts, {query});
            } else {
                opts = Object.assign({}, query);
            }

            opts.query = opts.query.trim();

            if (!opts.query.startsWith('query')) {
                if (opts.query.startsWith('{')) {
                    opts.query = `query ${opts.query}`;
                } else {
                    opts.query = `query {${opts.query}}`;
                }
            }

            opts.query = gql(opts.query);

            return this.apolloClient.query(opts)
        }

        /**
         * Mutate the GraphQL endpoint.
         *
         * @param {string} [mutation] - The GraphQL mutation string.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.mutate
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        mutate(mutation, opts = {}) {

            if (typeof mutation === 'string') {
                opts = Object.assign({}, opts, {mutation});
            } else {
                opts = Object.assign({}, mutation);
            }

            opts.mutation = opts.mutation.trim();

            if (!opts.mutation.startsWith('mutation')) {
                if (opts.mutation.startsWith('{')) {
                    opts.mutation = `mutation ${opts.mutation}`;
                } else {
                    opts.mutation = `mutation {${opts.mutation}}`;
                }
            }

            opts.mutation = gql(opts.mutation);

            return this.apolloClient.mutate(opts)
        }

        /**
         * Subscribe the GraphQL endpoint.
         *
         * @param {string} [subscription] - The GraphQL subscription.
         * @param {object} [opts={}] - An options object. The following options can be set:
         *     http://dev.apollodata.com/core/apollo-client-api.html#ApolloClient.query
         * @return {Promise} Returns a Promise which is either resolved with the resulting data or
         *     rejected with an error.
         */
        subscribe(subscription, opts = {}) {

            if (typeof subscription === 'string') {
                opts = Object.assign({}, opts, {subscription});
            } else {
                opts = Object.assign({}, subscription);
            }

            opts.subscription = opts.subscription.trim();

            if (!opts.subscription.startsWith('subscription')) {
                if (opts.subscription.startsWith('{')) {
                    opts.subscription = `subscription ${opts.subscription}`;
                } else {
                    opts.subscription = `subscription {${opts.subscription}}`;
                }
            }

            opts.query = gql(opts.subscription);

            delete opts.subscription;

            return this.apolloClient.subscribe(opts)
        }

        /**
         * Supports the page as a global coordinate system and converts browser page coordinates
         * to local DisplayObject coordinates.
         *
         * @param {DisplayObject} displayObject - The PIXI displayObject.
         * @param {number} x - The x coordinate.
         * @param {number} y - The y coordinate.
         *  
         * @return {PIXI.Point} Returns a PIXI.Point.
         */

        convertPointFromPageToNode(displayObject, x, y) {
            let resolution = this.renderer.resolution;
            console.log("resolution", resolution);
            let pixiGlobal = window.convertPointFromPageToNode(app.view,  x, y);
            pixiGlobal.x /= resolution;
            pixiGlobal.y /= resolution;
            return displayObject.toLocal(new PIXI.Point(pixiGlobal.x, pixiGlobal.y))
        }

        /**
         * Supports the page as a global coordinate system and converts local DisplayObject coordinates
         * to browser page coordinates.
         *
         * @param {DisplayObject} displayObject - The PIXI displayObject.
         * @param {number} x - The x coordinate.
         * @param {number} y - The y coordinate.
         *  
         * @return {Point} Returns a DOM Point.
         */

        convertPointFromNodeToPage(displayObject, x, y) {
            let resolution = this.renderer.resolution;
            let pixiGlobal = displayObject.toGlobal(new PIXI.Point(x, y));
            pixiGlobal.x *= resolution;
            pixiGlobal.y *= resolution;
           // console.log("app.convertPointFromNodeToPage", pixiGlobal)
            return window.convertPointFromNodeToPage(app.view, pixiGlobal.x, pixiGlobal.y)
        }
    }

    /**
     * The class fpsdisplay shows in the upper left corner
     * of the renderer the current image refresh rate.
     *
     * @private
     * @class
     * @extends PIXI.Graphics
     * @see {@link http://pixijs.download/dev/docs/PIXI.Graphics.html|PIXI.Graphics}
     */
    class FpsDisplay extends PIXI.Graphics {

        /**
         * Creates an instance of a FpsDisplay.
         *
         * @constructor
         * @param {PIXIApp} app - The PIXIApp where the frames per second should be displayed.
         */
        constructor(app) {

            super();

            this.app = app;

            this.lineStyle(3, 0x434f4f, 1)
                .beginFill(0x434f4f, .6)
                .drawRoundedRect(0, 0, 68, 32, 5)
                .endFill()
                .position.set(20, 20);

            this.text = new PIXI.Text(this.fps, new PIXI.TextStyle({
                fontFamily: 'Arial',
                fontSize: 14,
                fontWeight: 'bold',
                fill: '#f6f6f6',
                stroke: '#434f4f',
                strokeThickness: 3
            }));
            this.text.position.set(6, 6);

            this.addChild(this.text);

            this.refreshFps();

            window.setInterval(this.refreshFps.bind(this), 1000);
        }

        /**
         * Refreshes fps numer.
         *
         * @return {PIXIApp} Returns the PIXIApp object for chaining.
         */
        refreshFps() {
            this.text.text = `${(this.app.ticker.FPS).toFixed(1)} fps`;

            return this
        }
    }

    /**
     * A Gaussian blur filter. With this filter, you can blur an area of a PIXI.DisplayObject. This cannot
     * be done with the PIXI.filters.BlurFilter (when you use the PIXI.filters.BlurFilter with
     * an filter area, all pixels outside of the area are not displayed). Attention: The area of
     * the filter is always in global scope, NOT relative to the PIXI.DisplayObject the filter
     * is assigned to!
     *
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 480,
     *     height: 270,
     *     transparent: false
     * }).setup().run()
     * 
     * // Add a video sprite
     * const sprite = new PIXI.Sprite(PIXI.Texture.fromVideo("assets/blurfilter.mp4"))
     * sprite.width = app.size.width
     * sprite.height = app.size.height
     * app.scene.addChild(sprite)
     * 
     * // Create the filter and assign it to the scene
     * const blurFilter = new BlurFilter(new PIXI.Rectangle(20, 20, 80, 60))
     * app.scene.filters = [blurFilter]
     * 
     * @class
     * @extends PIXI.Filter
     * @param {PIXI.Rectangle|PIXI.DisplayObject} rectangle The area where the blur effect should be applied to. Relative to the
     *     canvas, NOT relative to the PIXI.DisplayObject where the blur effect is assigned to!
     * @param {number} [blur=50] The strength of the blur.
     */
    class BlurFilter extends PIXI.Filter {
        
        constructor(rectangle, blur = 50) {
            super();

            if (rectangle instanceof PIXI.DisplayObject) {
                rectangle = rectangle.getBounds();
            }

            this.tiltShiftXFilter = new TiltShiftXFilter(rectangle, blur);
            this.tiltShiftYFilter = new TiltShiftYFilter(rectangle, blur);
        }

        apply(filterManager, input, output) {
            let renderTarget = filterManager.getRenderTarget(true);
            this.tiltShiftXFilter.apply(filterManager, input, renderTarget);
            this.tiltShiftYFilter.apply(filterManager, renderTarget, output);
            filterManager.returnRenderTarget(renderTarget);
            //console.log(filterManager)
        }

        /**
         * The strength of the blur.
         *
         * @member {number}
         */
        get blur() {
            return this.tiltShiftXFilter.blur
        }
        set blur(value) {
            this.tiltShiftXFilter.blur = this.tiltShiftYFilter.blur = value;
        }
        
        /**
         * The blur rectangle.
         *
         * @member {PIXI.Rectangle}
         */
        get rectangle() {
            return this.tiltShiftXFilter.rectangle
        }
        set rectangle(value) {
            
            if (value instanceof PIXI.DisplayObject) {
                value = value.getBounds();
            }

            this.tiltShiftXFilter.rectangle = this.tiltShiftYFilter.rectangle = value;
        }
    }

    /**
     * A TiltShiftAxisFilter.
     *
     * @class
     * @extends PIXI.Filter
     * @abstract
     * @private
     */
    class TiltShiftAxisFilter extends PIXI.Filter {

        constructor(rectangle, blur){

            const vertex = `
            attribute vec2 aVertexPosition;
            attribute vec2 aTextureCoord;

            uniform mat3 projectionMatrix;

            varying vec2 vTextureCoord;

            void main(void) {
                gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
                vTextureCoord = aTextureCoord;
            }
        `;

            const fragment = `
            varying vec2 vTextureCoord;

            uniform vec4 filterArea;
            uniform sampler2D uSampler;
            uniform vec4 rectangle;
            uniform float blur;
            uniform vec2 delta;
            uniform vec2 texSize;

            float random(vec3 scale, float seed) {
                return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
            }

            void main(void) {
                // textureCoord to pixelCoord
                vec2 pixelCoord = vTextureCoord * filterArea.xy - vec2(4.0, 4.0);   // FIXME: There's a shift of 4 * 4 pixels, don't know why...

                if (pixelCoord.x >= rectangle.x && pixelCoord.x <= rectangle.z && pixelCoord.y >= rectangle.y && pixelCoord.y <= rectangle.w) {
                    vec4 color = vec4(0.0);
                    float total = 0.0;

                    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);

                    for (float t = -30.0; t <= 30.0; t++) {
                        float percent = (t + offset - 0.5) / 30.0;
                        float weight = 1.0 - abs(percent);
                        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * blur);
                        sample.rgb *= sample.a;
                        color += sample * weight;
                        total += weight;
                    }

                    gl_FragColor = color / total;
                    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;
                } else {
                    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
                }
            }
        `;

            super(vertex, fragment);

            this.uniforms.rectangle = [rectangle.left, rectangle.top, rectangle.right, rectangle.bottom];
            this.uniforms.blur = blur;
            this.uniforms.delta = new PIXI.Point(0, 0);
            this.uniforms.texSize = new PIXI.Point(480, 270);

            this.updateDelta();
        }

        /**
         * The strength of the blur.
         *
         * @member {number}
         * @memberof PIXI.filters.TiltShiftAxisFilter#
         */
        get blur() {
            return this.uniforms.blur
        }
        set blur(value) {
            this.uniforms.blur = value;
        }
        
        /**
         * The blur rectangle.
         *
         * @member {PIXI.Rectangle}
         * @memberof PIXI.filters.TiltShiftAxisFilter#
         */
        get rectangle() {
            const rect = this.uniforms.rectangle;
            return new PIXI.Rectangle(rect[0], rect[1], rect[2], rect[3])
        }
        set rectangle(value) {
            this.uniforms.rectangle = [value.left, value.top, value.right, value.bottom];
        }
    }

    /**
     * A TiltShiftXFilter.
     *
     * @class
     * @extends PIXI.TiltShiftAxisFilter
     * @private
     */
    class TiltShiftXFilter extends TiltShiftAxisFilter {
        /**
         * Updates the filter delta values.
         */
        updateDelta() {
            this.uniforms.delta.x = 0.1;
            this.uniforms.delta.y = 0;
        }
    }

    /**
     * A TiltShiftYFilter.
     *
     * @class
     * @extends PIXI.TiltShiftAxisFilter
     * @private
     */
    class TiltShiftYFilter extends TiltShiftAxisFilter {
        /**
         * Updates the filter delta values.
         */
        updateDelta() {
            this.uniforms.delta.x = 0;
            this.uniforms.delta.y = 0.1;
        }
    }

    /* globals WebKitPoint */

    /** Tests whether an object is empty
     * @param {Object} obj - the object to be tested
     * @return {boolean}
     */
    function isEmpty(obj) {
        // > isEmpty({})
        // true
        for (let i in obj) {
            return false
        }
        return true
    }

    function lerp(start, stop, amt) {
        return amt * (stop - start) + start
    }

    /** Returns an id that is guaranteed to be unique within the livetime of the
     * application
     * @return {string}
     */
    let _idGenerator = 0;
    function getId() {
        return 'id' + _idGenerator++
    }

    class Dates {
        static create(fullYear, month, day) {
            return new Date(Date.UTC(fullYear, month, day))
        }

        static daysInMonth(date) {
            return new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate()
        }

        static nextYear(date, offset = 1) {
            return this.create(date.getFullYear() + offset, 0, 1)
        }

        static nextMonth(date) {
            return this.create(date.getFullYear(), date.getMonth() + 1, 1)
        }

        static nextDay(date) {
            return this.create(
                date.getFullYear(),
                date.getMonth(),
                date.getDate() + 1
            )
        }

        static nextHour(date) {
            // See http://stackoverflow.com/questions/1050720/adding-hours-to-javascript-date-object
            return new Date(date.getTime() + 60 * 60 * 1000)
        }

        static nextMinute(date) {
            // See above
            return new Date(date.getTime() + 60 * 1000)
        }

        static nextSecond(date) {
            // See above
            return new Date(date.getTime() + 1000)
        }

        static nextMillisecond(date) {
            // See above
            return new Date(date.getTime() + 1)
        }

        static *iterYears(start, end) {
            let date = this.create(start.getFullYear(), 0, 1);
            while (date <= end) {
                yield date;
                date = this.nextYear(date);
            }
            yield date;
        }

        static *iterMonths(year, limit = 12) {
            let month = 0;
            while (month < limit) {
                let date = this.create(year.getFullYear(), month, 1);
                yield date;
                month += 1;
            }
        }

        static *iterMonthsOfYears(years) {
            for (let year of years) {
                for (let month of this.iterMonths(year)) {
                    yield month;
                }
            }
        }

        static *iterDays(month) {
            let day = 1;
            let limit = Dates.daysInMonth(month);
            while (day <= limit) {
                let date = this.create(month.getFullYear(), month.getMonth(), day);
                yield date;
                day += 1;
            }
        }

        static *iterDaysOfMonths(months) {
            for (let month of months) {
                for (let day of this.iterDays(month)) {
                    yield day;
                }
            }
        }
    }
    /* Color conversion functions */

    class Colors {
        // http://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb

        static rgb2num(red, green, blue) {
            let rgb = blue | (green << 8) | (red << 16);
            return 0x000000 + rgb
        }

        static rgb2hex(red, green, blue) {
            let rgb = blue | (green << 8) | (red << 16);
            return '#' + (0x1000000 + rgb).toString(16).slice(1)
        }

        static hex2rgb(hex) {
            // long version
            let r = hex.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);
            if (r) {
                return r.slice(1, 4).map(x => {
                    return parseInt(x, 16)
                })
            }
            // short version
            r = hex.match(/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i);
            if (r) {
                return r.slice(1, 4).map(x => {
                    return 0x11 * parseInt(x, 16)
                })
            }
            return null
        }

        static rgb(r, g, b) {
            return {r, g, b}
        }

        static lerp(rgb1, rgb2, amount) {
            return {
                r: Math.round(lerp(rgb1.r, rgb2.r, amount)),
                g: Math.round(lerp(rgb1.g, rgb2.g, amount)),
                b: Math.round(lerp(rgb1.b, rgb2.b, amount))
            }
        }

        static get violet() {
            return Colors.rgb2num(89, 34, 131)
        }

        static get steelblue() {
            return Colors.rgb2num(0, 130, 164)
        }

        static get ochre() {
            return Colors.rgb2num(181, 157, 0)
        }

        static get turquoise() {
            return Colors.rgb2num(34, 164, 131)
        }

        static get eminence() {
            return Colors.rgb2num(150, 60, 134)
        }
    }

    class Cycle extends Array {
        constructor(...items) {
            super();
            for (let item of items) {
                this.push(item);
            }
            this.index = 0;
        }

        next() {
            if (this.index == this.length) {
                this.index = 0;
            }
            return this[this.index++]
        }

        current() {
            if (this.index === this.length) {
                this.index = 0;
            }
            return this[this.index]
        }
    }

    /** Static methods to compute 2D points with x and y coordinates.
     */
    class Points {
        static length(a) {
            return Math.sqrt(a.x * a.x + a.y * a.y)
        }

        static normalize(p) {
            let len = this.length(p);
            return this.multiplyScalar(p, 1 / len)
        }

        static mean(a, b) {
            return {x: (a.x + b.x) / 2, y: (a.y + b.y) / 2}
        }

        static subtract(a, b) {
            return {x: a.x - b.x, y: a.y - b.y}
        }

        static multiply(a, b) {
            return {x: a.x * b.x, y: a.y * b.y}
        }

        static multiplyScalar(a, b) {
            return {x: a.x * b, y: a.y * b}
        }

        static add(a, b) {
            return {x: a.x + b.x, y: a.y + b.y}
        }

        static negate(p) {
            return {x: -p.x, y: -p.y}
        }

        static angle(p1, p2) {
            return Math.atan2(p1.y - p2.y, p1.x - p2.x)
        }

        static arc(p, alpha, radius) {
            return {
                x: p.x + radius * Math.cos(alpha),
                y: p.y + radius * Math.sin(alpha)
            }
        }

        static distance(a, b) {
            let dx = a.x - b.x;
            let dy = a.y - b.y;
            return Math.sqrt(dx * dx + dy * dy)
        }

        static fromPageToNode(element, p) {
            //    if (window.webkitConvertPointFromPageToNode) {
            //             return window.webkitConvertPointFromPageToNode(element,
            //                                                     new WebKitPoint(p.x, p.y))
            //         }
            return window.convertPointFromPageToNode(element, p.x, p.y)
        }

        static fromNodeToPage(element, p) {
            //  if (window.webkitConvertPointFromNodeToPage) {
            //             return window.webkitConvertPointFromNodeToPage(element,
            //                                                     new WebKitPoint(p.x, p.y))
            //         }
            return window.convertPointFromNodeToPage(element, p.x, p.y)
        }
    }

    /** Static methods to compute angles.
     */
    class Angle {
        static normalize(angle) {
            let twoPI = Math.PI * 2.0;
            while (angle > Math.PI) {
                angle -= twoPI;
            }
            while (angle < -Math.PI) {
                angle += twoPI;
            }
            return angle
        }

        static normalizeDegree(angle) {
            let full = 360.0;
            while (angle > 180.0) {
                angle -= full;
            }
            while (angle < -180.0) {
                angle += full;
            }
            return angle
        }

        static diff(a, b) {
            return Angle.normalize(Math.atan2(Math.sin(a - b), Math.cos(a - b)))
        }

        static degree2radian(degree) {
            return Math.PI * degree / 180.0
        }

        static radian2degree(rad) {
            return 180.0 / Math.PI * rad
        }
    }

    class Elements$1 {
        static setStyle(element, styles) {
            for (let key in styles) {
                element.style[key] = styles[key];
            }
        }

        static addClass(element, cssClass) {
            element.classList.add(cssClass);
        }

        static removeClass(element, cssClass) {
            element.classList.remove(cssClass);
        }

        static toggleClass(element, cssClass) {
            element.classList.toggle(cssClass);
        }

        static hasClass(element, cssClass) {
            return element.classList.contains(cssClass)
        }
    }

    class MapProxy {
        /* This class is needed if we want to use the interaction classes
        in Firefox 45.8 and modern Browsers.

        A workaround for https://github.com/babel/babel/issues/2334
      */
        constructor() {
            this.map = new Map();
        }

        get size() {
            return this.map.size
        }

        get(key) {
            return this.map.get(key)
        }

        set(key, value) {
            return this.map.set(key, value)
        }

        delete(key) {
            return this.map.delete(key)
        }

        clear() {
            return this.map.clear()
        }

        has(key) {
            return this.map.has(key)
        }

        keys() {
            return this.map.keys()
        }

        values() {
            return this.map.values()
        }

        entries() {
            return this.map.entries()
        }

        forEach(func) {
            this.map.forEach(func);
        }
    }

    /* Based om https://gist.github.com/cwleonard/e124d63238bda7a3cbfa */
    class Polygon {
        /*
         *  This is the Polygon constructor. All points are center-relative.
         */
        constructor(center) {
            this.points = new Array();
            this.center = center;
        }

        /*
         *  Point x and y values should be relative to the center.
         */
        addPoint(p) {
            this.points.push(p);
        }

        /*
         *  Point x and y values should be absolute coordinates.
         */
        addAbsolutePoint(p) {
            this.points.push({x: p.x - this.center.x, y: p.y - this.center.y});
        }

        /*
         * Returns the number of sides. Equal to the number of vertices.
         */
        getNumberOfSides() {
            return this.points.length
        }

        /*
         * rotate the polygon by a number of radians
         */
        rotate(rads) {
            for (let i = 0; i < this.points.length; i++) {
                let x = this.points[i].x;
                let y = this.points[i].y;
                this.points[i].x = Math.cos(rads) * x - Math.sin(rads) * y;
                this.points[i].y = Math.sin(rads) * x + Math.cos(rads) * y;
            }
        }

        /*
         *  The draw function takes as a parameter a Context object from
         *  a Canvas element and draws the polygon on it.
         */
        draw(context, {lineWidth = 2, stroke = '#000000', fill = null} = {}) {
            context.beginPath();
            context.moveTo(
                this.points[0].x + this.center.x,
                this.points[0].y + this.center.y
            );
            for (let i = 1; i < this.points.length; i++) {
                context.lineTo(
                    this.points[i].x + this.center.x,
                    this.points[i].y + this.center.y
                );
            }
            context.closePath();
            context.lineWidth = lineWidth;
            if (stroke) {
                context.strokeStyle = stroke;
                context.stroke();
            }
            if (fill) {
                context.fillStyle = fill;
                context.fill();
            }
        }

        absolutePoints() {
            let result = new Array();
            for (let p of this.points) {
                result.push(Points.add(p, this.center));
            }
            return result
        }

        flatAbsolutePoints() {
            let result = new Array();
            for (let p of this.points) {
                let a = Points.add(p, this.center);
                result.push(a.x);
                result.push(a.y);
            }
            return result
        }

        /*
         *  This function returns true if the given point is inside the polygon,
         *  and false otherwise.
         */
        containsPoint(pnt) {
            let nvert = this.points.length;
            let testx = pnt.x;
            let testy = pnt.y;

            let vertx = new Array();
            for (let q = 0; q < this.points.length; q++) {
                vertx.push(this.points[q].x + this.center.x);
            }

            let verty = new Array();
            for (let w = 0; w < this.points.length; w++) {
                verty.push(this.points[w].y + this.center.y);
            }

            let i,
                j = 0;
            let c = false;
            for (i = 0, j = nvert - 1; i < nvert; j = i++) {
                if (
                    verty[i] > testy != verty[j] > testy &&
                    testx <
                        (vertx[j] - vertx[i]) *
                            (testy - verty[i]) /
                            (verty[j] - verty[i]) +
                            vertx[i]
                )
                    c = !c;
            }
            return c
        }

        multiplyScalar(scale) {
            let center = Points.multiplyScalar(this.center, scale);
            let clone = new Polygon(center);
            for (let p of this.points) {
                clone.addPoint(Points.multiplyScalar(p, scale));
            }
            return clone
        }

        /*
         *  To detect intersection with another Polygon object, this
         *  function uses the Separating Axis Theorem. It returns false
         *  if there is no intersection, or an object if there is. The object
         *  contains 2 fields, overlap and axis. Moving the polygon by overlap
         *  on axis will get the polygons out of intersection.
         */
        intersectsWith(other) {
            let axis = {x: 0, y: 0};
            let tmp, minA, maxA, minB, maxB;
            let side, i;
            let smallest = null;
            let overlap = 99999999;

            /* test polygon A's sides */
            for (side = 0; side < this.getNumberOfSides(); side++) {
                /* get the axis that we will project onto */
                if (side == 0) {
                    axis.x =
                        this.points[this.getNumberOfSides() - 1].y -
                        this.points[0].y;
                    axis.y =
                        this.points[0].x -
                        this.points[this.getNumberOfSides() - 1].x;
                } else {
                    axis.x = this.points[side - 1].y - this.points[side].y;
                    axis.y = this.points[side].x - this.points[side - 1].x;
                }

                /* normalize the axis */
                tmp = Math.sqrt(axis.x * axis.x + axis.y * axis.y);
                axis.x /= tmp;
                axis.y /= tmp;

                /* project polygon A onto axis to determine the min/max */
                minA = maxA = this.points[0].x * axis.x + this.points[0].y * axis.y;
                for (i = 1; i < this.getNumberOfSides(); i++) {
                    tmp = this.points[i].x * axis.x + this.points[i].y * axis.y;
                    if (tmp > maxA) maxA = tmp;
                    else if (tmp < minA) minA = tmp;
                }
                /* correct for offset */
                tmp = this.center.x * axis.x + this.center.y * axis.y;
                minA += tmp;
                maxA += tmp;

                /* project polygon B onto axis to determine the min/max */
                minB = maxB =
                    other.points[0].x * axis.x + other.points[0].y * axis.y;
                for (i = 1; i < other.getNumberOfSides(); i++) {
                    tmp = other.points[i].x * axis.x + other.points[i].y * axis.y;
                    if (tmp > maxB) maxB = tmp;
                    else if (tmp < minB) minB = tmp;
                }
                /* correct for offset */
                tmp = other.center.x * axis.x + other.center.y * axis.y;
                minB += tmp;
                maxB += tmp;

                /* test if lines intersect, if not, return false */
                if (maxA < minB || minA > maxB) {
                    return false
                } else {
                    let o = maxA > maxB ? maxB - minA : maxA - minB;
                    if (o < overlap) {
                        overlap = o;
                        smallest = {x: axis.x, y: axis.y};
                    }
                }
            }

            /* test polygon B's sides */
            for (side = 0; side < other.getNumberOfSides(); side++) {
                /* get the axis that we will project onto */
                if (side == 0) {
                    axis.x =
                        other.points[other.getNumberOfSides() - 1].y -
                        other.points[0].y;
                    axis.y =
                        other.points[0].x -
                        other.points[other.getNumberOfSides() - 1].x;
                } else {
                    axis.x = other.points[side - 1].y - other.points[side].y;
                    axis.y = other.points[side].x - other.points[side - 1].x;
                }

                /* normalize the axis */
                tmp = Math.sqrt(axis.x * axis.x + axis.y * axis.y);
                axis.x /= tmp;
                axis.y /= tmp;

                /* project polygon A onto axis to determine the min/max */
                minA = maxA = this.points[0].x * axis.x + this.points[0].y * axis.y;
                for (i = 1; i < this.getNumberOfSides(); i++) {
                    tmp = this.points[i].x * axis.x + this.points[i].y * axis.y;
                    if (tmp > maxA) maxA = tmp;
                    else if (tmp < minA) minA = tmp;
                }
                /* correct for offset */
                tmp = this.center.x * axis.x + this.center.y * axis.y;
                minA += tmp;
                maxA += tmp;

                /* project polygon B onto axis to determine the min/max */
                minB = maxB =
                    other.points[0].x * axis.x + other.points[0].y * axis.y;
                for (i = 1; i < other.getNumberOfSides(); i++) {
                    tmp = other.points[i].x * axis.x + other.points[i].y * axis.y;
                    if (tmp > maxB) maxB = tmp;
                    else if (tmp < minB) minB = tmp;
                }
                /* correct for offset */
                tmp = other.center.x * axis.x + other.center.y * axis.y;
                minB += tmp;
                maxB += tmp;

                /* test if lines intersect, if not, return false */
                if (maxA < minB || minA > maxB) {
                    return false
                } else {
                    let o = maxA > maxB ? maxB - minA : maxA - minB;
                    if (o < overlap) {
                        overlap = o;
                        smallest = {x: axis.x, y: axis.y};
                    }
                }
            }
            return {overlap: overlap + 0.001, axis: smallest}
        }

        static fromPoints(points) {
            let min = {x: Number.MAX_VALUE, y: Number.MAX_VALUE};
            let max = {x: Number.MIN_VALUE, y: Number.MIN_VALUE};
            for (let p of points) {
                min.x = Math.min(p.x, min.x);
                max.x = Math.max(p.x, max.x);
                min.y = Math.min(p.y, min.y);
                max.y = Math.max(p.y, max.y);
            }
            let center = Points.mean(min, max);
            let polygon = new Polygon(center);
            for (let p of points) {
                polygon.addAbsolutePoint(p);
            }
            return polygon
        }
    }

    // In order to test this interface implementation run jsc interface.js

    class Interface {
        // Abstract interface that should be extended in interface subclasses.
        // By convention all interfaces should start with an upper 'I'

        static implementationError(klass) {
            let interfaceKeys = Reflect.ownKeys(this.prototype);
            let classKeys = Reflect.ownKeys(klass.prototype);
            for(let key of interfaceKeys) {
                let interfaceDesc = this.prototype[key];
                let classDesc = klass.prototype[key];
                if (typeof(classDesc) == 'undefined')
                    return 'Missing ' + key
            }
            return null
        }

        static implementedBy(klass) {
            // In the first step only checks whether the methods of this
            // interface are all implemented by the given class
            let error = this.implementationError(klass);
            return error == null
        }

            // TODO: Specify optional methods
    //     static optionalMethods() {
    //         return [this.onMouseWheel]
    //     }
    }

    /* globals Hammer, propagating */

    /** Interaction patterns

        See interaction.html for explanation
    */

    class IInteractionTarget extends Interface {
        capture(event) {
            return typeof true
        }

        onStart(event, interaction) { }
        onMove(event, interaction) { }
        onEnd(event, interaction) { }

        onMouseWheel(event) { }
    }

    class IInteractionMapperTarget extends Interface {
        capture(event) {
            return typeof true
        }

        findTarget(event, local, global) {
            return IInteractionTarget
        }
    }

    class PointMap extends MapProxy {
        // Collects touch points, mouse coordinates, etc. as key value pairs.
        // Keys are pointer and touch ids, the special "mouse" key.
        // Values are points, i.e. all objects with numeric x and y properties.
        constructor(points = {}) {
            super();
            for (let key in points) {
                this.set(key, points[key]);
            }
        }

        toString() {
            let points = [];
            for (let key of this.keys()) {
                let value = this.get(key);
                points.push(`${key}:{x:${value.x}, y:${value.y}}`);
            }
            let attrs = points.join(', ');
            return `[PointMap ${attrs}]`
        }

        clone() {
            let result = new PointMap();
            for (let key of this.keys()) {
                let value = this.get(key);
                result.set(key, { x: value.x, y: value.y });
            }
            return result
        }

        farthests() {
            if (this.size == 0) {
                return null
            }
            let pairs = [];
            for (let p of this.values()) {
                for (let q of this.values()) {
                    pairs.push([p, q]);
                }
            }
            let sorted = pairs.sort((a, b) => {
                return Points.distance(b[0], b[1]) - Points.distance(a[0], a[1])
            });
            return sorted[0]
        }

        mean() {
            if (this.size == 0) {
                return null
            }
            let x = 0.0,
                y = 0.0;
            for (let p of this.values()) {
                x += p.x;
                y += p.y;
            }
            return { x: x / this.size, y: y / this.size }
        }
    }

    class InteractionDelta {
        constructor(x, y, zoom, rotate, about) {
            this.x = x;
            this.y = y;
            this.zoom = zoom;
            this.rotate = rotate;
            this.about = about;
        }

        toString() {
            let values = [];
            for (let key of Object.keys(this)) {
                let value = this[key];
                if (key == 'about') {
                    values.push(`${key}:{x:${value.x}, y:${value.y}}`);
                } else {
                    values.push(`${key}:${value}`);
                }
            }
            let attrs = values.join(', ');
            return `[InteractionDelta ${attrs}]`
        }
    }

    class InteractionPoints {
        constructor(parent = null) {
            this.parent = parent;
            this.current = new PointMap();
            this.previous = new PointMap();
            this.start = new PointMap();
            this.ended = new PointMap();
            this.timestamps = new Map();
        }

        moved(key) {
            let current = this.current.get(key);
            let previous = this.previous.get(key);
            return Points.subtract(current, previous)
        }

        move() {
            let current = this.current.mean();
            let previous = this.previous.mean();
            return Points.subtract(current, previous)
        }

        delta() {
            var current = [];
            var previous = [];
            for (let key of this.current.keys()) {
                let c = this.current.get(key);
                if (this.previous.has(key)) {
                    let p = this.previous.get(key);
                    current.push(c);
                    previous.push(p);
                }
            }
            if (current.length >= 2) {
                if (current.length > 2) {
                    current = this.current.farthests();
                    previous = this.previous.farthests();
                }
                let c1 = current[0];
                let c2 = current[1];

                let p1 = previous[0];
                let p2 = previous[1];

                let cm = Points.mean(c1, c2);
                let pm = Points.mean(p1, p2);

                let delta = Points.subtract(cm, pm);
                let zoom = 1.0;
                let distance1 = Points.distance(p1, p2);
                let distance2 = Points.distance(c1, c2);
                if (distance1 != 0 && distance2 != 0) {
                    zoom = distance2 / distance1;
                }
                let angle1 = Points.angle(c2, c1);
                let angle2 = Points.angle(p2, p1);
                let alpha = Angle.diff(angle1, angle2);
                return new InteractionDelta(delta.x, delta.y, zoom, alpha, cm)
            } else if (current.length == 1) {
                let delta = Points.subtract(current[0], previous[0]);
                return new InteractionDelta(delta.x, delta.y, 1.0, 0.0, current[0])
            }
            return null
        }

        started(key, point) {
            this.current.set(key, point);
            this.start.set(key, point);
            this.previous.set(key, point);
            this.timestamps.set(key, performance.now());
        }

        update(key, point) {
            // Returns true iff the key is new
            this.current.set(key, point);
            if (!this.start.has(key)) {
                this.start.set(key, point);
                this.previous.set(key, point);
                this.timestamps.set(key, performance.now());
                return true
            }
            return false
        }

        updatePrevious() {
            for (let key of this.current.keys()) {
                this.previous.set(key, this.current.get(key));
            }
        }

        stop(key, point) {
            if (this.current.has(key)) {
                this.current.delete(key);
                this.previous.delete(key);
                this.ended.set(key, point);
            }
        }

        finish(key, point) {
            this.current.delete(key);
            this.previous.delete(key);
            this.start.delete(key);
            this.timestamps.delete(key);
            this.ended.delete(key);
        }

        isFinished() {
            return this.current.size == 0
        }

        isNoLongerTwoFinger() {
            return this.previous.size > 1 && this.current.size < 2
        }

        isTap(key) {
            return this.parent.isTap(key)
        }

        isLongPress(key) {
            return this.parent.isLongPress(key)
        }
    }

    class Interaction extends InteractionPoints {
        constructor(tapDistance = 10, longPressTime = 500.0) {
            super();
            this.tapDistance = tapDistance;
            this.longPressTime = longPressTime;
            this.targets = new Map();
            this.subInteractions = new Map(); // target:Object : InteractionPoints
        }

        stop(key, point) {
            super.stop(key, point);
            for (let points of this.subInteractions.values()) {
                points.stop(key, point);
            }
        }

        addTarget(key, target) {
            this.targets.set(key, target);
            this.subInteractions.set(target, new InteractionPoints(this));
        }

        removeTarget(key) {
            let target = this.targets.get(key);
            this.targets.delete(key);
            // Only remove target if no keys are refering to the target
            let remove = true;
            for (let t of this.targets.values()) {
                if (target === t) {
                    remove = false;
                }
            }
            if (remove) {
                this.subInteractions.delete(target);
            }
        }

        finish(key, point) {
            super.finish(key, point);
            this.removeTarget(key);
        }

        mapInteraction(points, aspects, mappingFunc) {
            // Map centrally registered points to target interactions
            // Returns an array of [target, updated subInteraction] pairs
            let result = new Map();
            for (let key in points) {
                if (this.targets.has(key)) {
                    let target = this.targets.get(key);
                    if (this.subInteractions.has(target)) {
                        let interaction = this.subInteractions.get(target);
                        for (let aspect of aspects) {
                            let pointMap = this[aspect];
                            let point = pointMap.get(key);
                            let mapped = mappingFunc(point, target);
                            interaction[aspect].set(key, mapped);
                        }
                        result.set(target, interaction);
                    }
                }
            }
            return result
        }

        isTap(key) {
            let ended = this.ended.get(key);
            let start = this.start.get(key);
            if (
                start &&
                ended &&
                Points.distance(ended, start) < this.tapDistance
            ) {
                let t1 = this.timestamps.get(key);
                let tookLong = performance.now() > t1 + this.longPressTime;
                if (tookLong) {
                    return false
                }
                return true
            }
            return false
        }

        isAnyTap() {
            for (let key of this.ended.keys()) {
                if (this.isTap(key)) return true
            }
            return false
        }

        isLongPress(key) {
            let ended = this.ended.get(key);
            let start = this.start.get(key);
            if (
                start &&
                ended &&
                Points.distance(ended, start) < this.tapDistance
            ) {
                let t1 = this.timestamps.get(key);
                let tookLong = performance.now() > t1 + this.longPressTime;
                if (tookLong) {
                    return true
                }
                return false
            }
            return false
        }

        isAnyLongPress() {
            for (let key of this.ended.keys()) {
                if (this.isLongPress(key)) return true
            }
            return false
        }

        isStylus(key) {
            return key === 'stylus'
        }
    }

    /**
     * This class implements the main delegate functionality: All necessary event handlers are registered for the
     * given element. Uses PointerEvents if available or TouchEvents on iOS. The fallback is on mouse events.
     * Collects the events if the interaction target captures the start event (i.e. declares that
     * the target wants the start event as well as all following move and end evcents.)
     *
     * @export
     * @class InteractionDelegate
     */
    class InteractionDelegate {
        // Long press: http://stackoverflow.com/questions/1930895/how-long-is-the-event-onlongpress-in-the-android
        // Stylus support: https://w3c.github.io/touch-events/

        /**
         * Creates an instance of InteractionDelegate.
         * @param {any} element
         * @param {any} target
         * @param {any} [{ mouseWheelElement = null, useCapture = true, capturePointerEvents = true, debug = false }={}]
         * @memberof InteractionDelegate
         */
        constructor(
            element,
            target,
            { mouseWheelElement = null, useCapture = true, capturePointerEvents = true, debug = false } = {}
        ) {
            this.debug = debug;
            this.interaction = new Interaction();
            this.element = element;
            this.mouseWheelElement = mouseWheelElement || element;
            this.target = target;
            this.useCapture = useCapture;
            this.capturePointerEvents = capturePointerEvents;
            this.setupInteraction();
        }

        setupInteraction() {
            if (this.debug) {
                let error = this.targetInterface.implementationError(
                    this.target.constructor
                );
                if (error != null) {
                    throw new Error('Expected IInteractionTarget: ' + error)
                }
            }
            this.setupTouchInteraction();
            this.setupMouseWheelInteraction();
        }

        get targetInterface() {
            return IInteractionTarget
        }

        setupTouchInteraction() {
            let element = this.element;
            let useCapture = this.useCapture;
            if (window.PointerEvent) {
                if (this.debug) console.log('Pointer API' + window.PointerEvent);
                element.addEventListener(
                    'pointerdown',
                    e => {
                        if (this.debug) console.log('pointerdown', e.pointerId);
                        if (this.capture(e)) {
                            if (this.capturePointerEvents) {
                                try {
                                    element.setPointerCapture(e.pointerId);
                                } catch (e) { }
                            }
                            this.onStart(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointermove',
                    e => {
                        if (this.debug) console.log('pointermove', e.pointerId);

                        if (
                            e.pointerType == 'touch' ||
                            (e.pointerType == 'mouse' && Events$1.isMouseDown(e))
                        ) {
                            // this.capture(e) &&
                            if (this.debug)
                                console.log('pointermove captured', e.pointerId);
                            this.onMove(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointerup',
                    e => {
                        if (this.debug) console.log('pointerup');
                        this.onEnd(e);
                        if (this.capturePointerEvents) {
                            try {
                                element.releasePointerCapture(e.pointerId);
                            } catch (e) { }
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'pointercancel',
                    e => {
                        if (this.debug) console.log('pointercancel');
                        this.onEnd(e);
                        if (this.capturePointerEvents)
                            element.releasePointerCapture(e.pointerId);
                    },
                    useCapture
                );

                if (!this.capturePointerEvents) {
                    element.addEventListener(
                        'pointerleave',
                        e => {
                            if (this.debug) console.log('pointerleave');
                            if (e.target == element) this.onEnd(e);
                        },
                        useCapture
                    );
                }

                if (!this.capturePointerEvents) {
                    element.addEventListener(
                        'pointerout',
                        e => {
                            if (this.debug) console.log('pointerout');
                            if (e.target == element) this.onEnd(e);
                        },
                        useCapture
                    );
                }

            } else if (window.TouchEvent) {
                if (this.debug) console.log('Touch API');
                element.addEventListener(
                    'touchstart',
                    e => {
                        if (this.debug)
                            console.log('touchstart', this.touchPoints(e));
                        if (this.capture(e)) {
                            for (let touch of e.changedTouches) {
                                this.onStart(touch);
                            }
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchmove',
                    e => {
                        if (this.debug)
                            console.log('touchmove', this.touchPoints(e), e);
                        for (let touch of e.changedTouches) {
                            this.onMove(touch);
                        }
                        for (let touch of e.targetTouches) {
                            this.onMove(touch);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchend',
                    e => {
                        if (this.debug) console.log('touchend', this.touchPoints(e));
                        for (let touch of e.changedTouches) {
                            this.onEnd(touch);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'touchcancel',
                    e => {
                        if (this.debug)
                            console.log(
                                'touchcancel',
                                e.targetTouches.length,
                                e.changedTouches.length
                            );
                        for (let touch of e.changedTouches) {
                            this.onEnd(touch);
                        }
                    },
                    useCapture
                );
            } else {
                if (this.debug) console.log('Mouse API');

                element.addEventListener(
                    'mousedown',
                    e => {
                        if (this.debug) console.log('mousedown', e);
                        if (this.capture(e)) {
                            this.onStart(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'mousemove',
                    e => {
                        // Dow we only use move events if the mouse is down?
                        // HOver effects have to be implemented by other means
                        // && Events.isMouseDown(e))

                        if (Events$1.isMouseDown(e)) {
                            if (this.debug)
                                console.log('mousemove', e);
                            this.onMove(e);
                        }
                    },
                    useCapture
                );
                element.addEventListener(
                    'mouseup',
                    e => {
                        if (this.debug) console.log('mouseup', e);
                        this.onEnd(e);
                    },
                    true
                );
                if (!this.capturePointerEvents) {
                    element.addEventListener(
                        'mouseout',
                        e => {
                            if (e.target == element) {
                                this.onEnd(e);
                                console.warn("Shouldn't happen: mouseout ends interaction");
                            }

                        },
                        useCapture
                    );
                }

            }
        }

        isDescendant(parent, child) {
            if (parent == child) return true
            let node = child.parentNode;
            while (node != null) {
                if (node == parent) {
                    return true
                }
                node = node.parentNode;
            }
            return false
        }

        touchPoints(event) {
            let result = [];
            for (let touch of event.changedTouches) {
                result.push(this.extractPoint(touch));
            }
            return result
        }

        setupMouseWheelInteraction() {
            this.mouseWheelElement.addEventListener(
                'mousewheel',
                this.onMouseWheel.bind(this),
                true
            );
            this.mouseWheelElement.addEventListener(
                'DOMMouseScroll',
                this.onMouseWheel.bind(this),
                true
            );
        }

        onMouseWheel(event) {
            if (this.capture(event) && this.target.onMouseWheel) {
                this.target.onMouseWheel(event);
            }
        }

        onStart(event) {
            let extracted = this.extractPoint(event);
            this.startInteraction(event, extracted);
            this.target.onStart(event, this.interaction);
        }

        onMove(event) {
            let extracted = this.extractPoint(event, 'all');
            this.updateInteraction(event, extracted);
            this.target.onMove(event, this.interaction);
            this.interaction.updatePrevious();
        }

        onEnd(event) {
            let extracted = this.extractPoint(event, 'changedTouches');
            this.endInteraction(event, extracted);
            this.target.onEnd(event, this.interaction);
            this.finishInteraction(event, extracted);
        }

        /**
         * Asks the target whether the event should be captured
         * 
         * @param {any} event 
         * @returns {bool}
         * @memberof InteractionDelegate
         */
        capture(event) {
            if (Events$1.isCaptured(event)) {
                return false
            }
            let captured = this.target.capture(event);
            return captured
        }

        getPosition(event) {
            return { x: event.clientX, y: event.clientY }
        }

        extractPoint(event, touchEventKey = 'all') {
            // 'targetTouches'
            let result = {};
            switch (event.constructor.name) {
                case 'MouseEvent':
                    let buttons = event.buttons || event.which;
                    if (buttons) result['mouse'] = this.getPosition(event);
                    break
                case 'PointerEvent':
                    result[event.pointerId.toString()] = this.getPosition(event);
                    break
                case 'Touch':
                    let id =
                        event.touchType === 'stylus'
                            ? 'stylus'
                            : event.identifier.toString();
                    result[id] = this.getPosition(event);
                    break
                //             case 'TouchEvent':
                //                 // Needs to be observed: Perhaps changedTouches are all we need. If so
                //                 // we can remove the touchEventKey default parameter
                //                 if (touchEventKey == 'all') {
                //                     for(let t of event.targetTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                     for(let t of event.changedTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                 }
                //                 else {
                //                     for(let t of event.changedTouches) {
                //                         result[t.identifier.toString()] = this.getPosition(t)
                //                     }
                //                 }
                //                 break
                default:
                    break
            }
            return result
        }

        interactionStarted(event, key, point) {
            // Callback: can be overwritten
        }

        interactionEnded(event, key, point) {
            // Callback: can be overwritten
        }

        interactionFinished(event, key, point) { }

        startInteraction(event, extracted) {
            for (let key in extracted) {
                let point = extracted[key];
                this.interaction.started(key, point);
                this.interactionStarted(event, key, point);
            }
        }

        updateInteraction(event, extracted) {
            for (let key in extracted) {
                let point = extracted[key];
                let updated = this.interaction.update(key, point);
                if (updated) {
                    console.warn("new pointer in updateInteraction shouldn't happen");
                    this.interactionStarted(event, key, point);
                }
            }
        }

        endInteraction(event, ended) {
            for (let key in ended) {
                let point = ended[key];
                this.interaction.stop(key, point);
                this.interactionEnded(event, key, point);
            }
        }

        finishInteraction(event, ended) {
            for (let key in ended) {
                let point = ended[key];
                this.interaction.finish(key, point);
                this.interactionFinished(event, key, point);
            }
        }
    }
    /**
     * A special InteractionDelegate that maps events to specific parts of
     * the interaction target. The InteractionTarget must implement a findTarget
     * method that returns an object implementing the IInteractionTarget interface.
     *
     * If the InteractionTarget also implements a mapPositionToPoint method this
     * is used to map the points to the local coordinate space of the the target.
     *
     * This makes it easier to lookup elements and relate events to local
     * positions.
     * 
     * @export
     * @class InteractionMapper
     * @extends {InteractionDelegate}
     */
    class InteractionMapper$1 extends InteractionDelegate {

        constructor(
            element,
            target,
            { tapDistance = 10, longPressTime = 500.0, useCapture = true, mouseWheelElement = null } = {}
        ) {
            super(element, target, { tapDistance, useCapture, longPressTime, mouseWheelElement });
        }

        get targetInterface() {
            return IInteractionMapperTarget
        }

        mapPositionToPoint(point, element = null) {
            if (this.target.mapPositionToPoint) {
                return this.target.mapPositionToPoint(point, element)
            }
            return point
        }

        interactionStarted(event, key, point) {
            if (this.target.findTarget) {
                let local = this.mapPositionToPoint(point);
                let found = this.target.findTarget(event, local, point);
                if (found != null) {
                    this.interaction.addTarget(key, found);
                }
            }
        }

        onMouseWheel(event) {
            if (this.capture(event)) {
                if (this.target.findTarget) {
                    let point = this.getPosition(event);
                    let local = this.mapPositionToPoint(point);
                    let found = this.target.findTarget(event, local, point);
                    if (found != null && found.onMouseWheel) {
                        found.onMouseWheel(event);
                        return
                    }
                }
                if (this.target.onMouseWheel) {
                    this.target.onMouseWheel(event);
                } else {
                    console.warn('Target has no onMouseWheel callback', this.target);
                }
            }
        }

        onStart(event) {
            let extracted = this.extractPoint(event);
            this.startInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['current', 'start'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onStart(event, interaction);
            }
        }

        onMove(event) {
            let extracted = this.extractPoint(event, 'all');
            this.updateInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['current', 'previous'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onMove(event, interaction);
                interaction.updatePrevious();
            }
            this.interaction.updatePrevious();
        }

        onEnd(event) {
            let extracted = this.extractPoint(event, 'changedTouches');
            this.endInteraction(event, extracted);
            let mapped = this.interaction.mapInteraction(
                extracted,
                ['ended'],
                this.mapPositionToPoint.bind(this)
            );
            for (let [target, interaction] of mapped.entries()) {
                target.onEnd(event, interaction);
            }
            this.finishInteraction(event, extracted);
        }

        /**
         *
         *
         * @static
         * @param {string|array} types - An event type, an array of event types or event types seperated by a space sign. The following
         *     events are possible:
         *         pan, panstart, panmove, panend, pancancel, panleft, panright, panup, pandown
         *         pinch, pinchstart, pinchmove, pinchend, pinchcancel, pinchin, pinchout
         *         press, pressup
         *         rotate, rotatestart, rotatemove, rotateend, rotatecancel
         *         swipe, swipeleft, swiperight, swipeup, swipedown
         *         tap
         * @param {HTMLElement|HTMLElement[]} elements - An HTML element or an array of HTML elements.
         * @param {function} [cb] - The callback. A function which is executed after the event occurs. Receives the event object as the
         *     first paramter
         * @param {object} [opts] - An options object. See the hammer documentation for more details.
         */
        static on(types, elements, cb, opts = {}) {

            opts = Object.assign({}, {

            }, opts);

            if (typeof Hammer === 'undefined') {
                console.error('Hammer.js not found!');
                return this
            }

            // convert to array
            types = Array.isArray(types) ? types : types.split(/\s/);
            if (elements instanceof NodeList || elements instanceof HTMLCollection) {
                elements = Array.from(elements);
            }
            elements = Array.isArray(elements) ? elements : [elements];

            for (let i = 0; i < types.length; i++) {

                const type = types[i].toLowerCase();

                // list of hammer events
                const useHammer = /^(tap|doubletap|press|pan|swipe|pinch|rotate).*$/.test(type);
                
                // if it is a hammer event
                if (useHammer) {

                    for (let j = 0; j < elements.length; j++) {

                        let hammer = new Hammer(elements[j], opts);

                        if (window.propagating !== 'undefined') {
                            hammer = propagating(hammer);
                        }

                        // recognizers
                        if (type.startsWith('pan')) {
                            hammer.get('pan').set(Object.assign({ direction: Hammer.DIRECTION_ALL }, opts));
                        } else if (type.startsWith('pinch')) {
                            hammer.get('pinch').set(Object.assign({ enable: true }, opts));
                        } else if (type.startsWith('press')) {
                            hammer.get('press').set(opts);
                        } else if (type.startsWith('rotate')) {
                            hammer.get('rotate').set(Object.assign({ enable: true }, opts));
                        } else if (type.startsWith('swipe')) {
                            hammer.get('swipe').set(Object.assign({ direction: Hammer.DIRECTION_ALL }, opts));
                        } else if (type.startsWith('tap')) {
                            hammer.get('tap').set(opts);
                        }

                        hammer.on(type, cb);
                    }

                } else {

                    for (let j = 0; j < elements.length; j++) {
                        Hammer.on(elements[j], type, cb);
                    }
                }
            }

            return this
        }
    }

    window.InteractionMapper = InteractionMapper$1;

    /** Report capabilities with guaranteed values.
     */
    class Capabilities {

        /** Returns the browser userAgent.
        @return {string}
        */
        static get userAgent() {
            return navigator.userAgent || 'Unknown Agent'
        }

        /** Tests whether the app is running on a mobile device.
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isMobile() {
            return (/Mobi/.test(navigator.userAgent))
        }

        /** Tests whether the app is running on a iOS device.
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isIOS() {
            return (/iPad|iPhone|iPod/.test(navigator.userAgent)) && !window.MSStream
        }

         /** Tests whether the app is running in a Safari environment.
        See https://stackoverflow.com/questions/7944460/detect-safari-browser
        Implemented as a readonly attribute.
        @return {boolean}
        */
        static get isSafari() {
            return navigator.vendor && navigator.vendor.indexOf('Apple') > -1 &&
                   navigator.userAgent && !navigator.userAgent.match('CriOS')
        }

        /** Returns the display resolution. Necessary for retina displays.
        @return {number}
        */
        static get devicePixelRatio() {
            return window.devicePixelRatio || 1
        }

        /** Returns true if the device is a multi-touch table. This method is currently not universal usable and not sure!
        @return {boolean}
        */
        static get isMultiTouchTable() {
            return Capabilities.devicePixelRatio > 2 && Capabilities.isMobile === false && /Windows/i.test(Capabilities.userAgent)
        }

        /** Returns true if mouse events are supported
        @return {boolean}
        */
        static supportsMouseEvents() {
            return typeof(window.MouseEvent) != 'undefined'
        }

        /** Returns true if touch events are supported
        @return {boolean}
        */
        static supportsTouchEvents() {
            return typeof(window.TouchEvent) != 'undefined'
        }

        /** Returns true if pointer events are supported
        @return {boolean}
        */
        static supportsPointerEvents() {
            return typeof(window.PointerEvent) != 'undefined'
        }

        /** Returns true if DOM templates are supported
        @return {boolean}
        */
        static supportsTemplate() {
            return 'content' in document.createElement('template');
        }
    }

    /** Basic tests for Capabilities.
     */
    class CapabilitiesTests {

        static testConfirm() {
            let bool = confirm('Please confirm');
            document.getElementById('demo').innerHTML = (bool) ? 'Confirmed' : 'Not confirmed';
        }

        static testPrompt() {
            let person = prompt('Please enter your name', 'Harry Potter');
            if (person != null) {
                demo.innerHTML =
                'Hello ' + person + '! How are you today?';
            }
        }

        static testUserAgent() {
            let agent = 'User-agent: ' + Capabilities.userAgent;
            user_agent.innerHTML = agent;
        }

        static testDevicePixelRatio() {
            let value = 'Device Pixel Ratio: ' + Capabilities.devicePixelRatio;
            device_pixel_ratio.innerHTML = value;
        }

        static testMultiTouchTable() {
            let value = 'Is the device a multi-touch table? ' + Capabilities.isMultiTouchTable;
            multi_touch_table.innerHTML = value;
        }

        static testSupportedEvents() {
            let events = [];
            if (Capabilities.supportsMouseEvents()) {
                events.push('MouseEvents');
            }
            if (Capabilities.supportsTouchEvents()) {
                events.push('TouchEvents');
            }
            if (Capabilities.supportsPointerEvents()) {
                events.push('PointerEvents');
            }
            supported_events.innerHTML = 'Supported Events: ' + events.join(', ');
        }

        static testAll() {
            this.testUserAgent();
            this.testDevicePixelRatio();
            this.testMultiTouchTable();
            this.testSupportedEvents();
        }
    }

    /* Optional global variables, needed in DocTests. */
    window.Capabilities = Capabilities;
    window.CapabilitiesTests = CapabilitiesTests;

    /**
     * A base class for scatter specific events.
     *
     * @constructor
     * @param {name} String - The name of the event
     * @param {target} Object - The target of the event
     */
    class BaseEvent {
        constructor(name, target) {
            this.name = name;
            this.target = target;
        }
    }

    // Event types
    const START = 'onStart';
    const UPDATE = 'onUpdate';
    const END = 'onEnd';

    /**
     * A scatter event that describes how the scatter has changed.
     *
     * @constructor
     * @param {target} Object - The target scatter of the event
     * @param {optional} Object - Optional parameter
     */
    class ScatterEvent extends BaseEvent {
        constructor(
            target,
            {
                translate = { x: 0, y: 0 },
                scale = null,
                rotate = 0,
                about = null,
                fast = false,
                type = null
            } = {}
        ) {
            super('scatterTransformed', { target: target });
            this.translate = translate;
            this.scale = scale;
            this.rotate = rotate;
            this.about = about;
            this.fast = fast;
            this.type = type;
        }

        toString() {
            return (
                "Event('scatterTransformed', scale: " +
                this.scale +
                ' about: ' +
                this.about.x +
                ', ' +
                this.about.y +
                ')'
            )
        }
    }

    /**
     * A scatter resize event that describes how the scatter has changed.
     *
     * @constructor
     * @param {target} Object - The target scatter of the event
     * @param {optional} Object - Optional parameter
     */
    class ResizeEvent extends BaseEvent {
        constructor(target, { width = 0, height = 0 } = {}) {
            super('scatterResized', { width: width, height: height });
            this.width = width;
            this.height = height;
        }

        toString() {
            return (
                'Event(scatterResized width: ' +
                this.width +
                'height: ' +
                this.height +
                ')'
            )
        }
    }

    /**
     * A abstract base class that implements the throwable behavior of a scatter
     * object.
     *
     * @constructor
     */
    class Throwable {
        constructor({
            movableX = true,
            movableY = true,
            throwVisibility = 44,
            throwDamping = 0.95,
            autoThrow = true
        } = {}) {
            this.movableX = movableX;
            this.movableY = movableY;
            this.throwVisibility = throwVisibility;
            this.throwDamping = throwDamping;
            this.autoThrow = autoThrow;
            this.velocities = [];
            this.velocity = null;
            this.timestamp = null;
        }

        observeVelocity() {
            this.lastframe = performance.now();
        }

        addVelocity(delta, buffer = 5) {
            let t = performance.now();
            let dt = t - this.lastframe;
            this.lastframe = t;
            let velocity = { t: t, dt: dt, dx: delta.x, dy: delta.y };
            this.velocities.push(velocity);
            while (this.velocities.length > buffer) {
                this.velocities.shift();
            }
        }

        meanVelocity(milliseconds = 30) {
            this.addVelocity({ x: 0, y: 0 });
            let sum = { x: 0, y: 0 };
            let count = 0;
            let t = 0;
            for (let i = this.velocities.length - 1; i > 0; i--) {
                let v = this.velocities[i];
                t += v.dt;
                let nv = { x: v.dx / v.dt, y: v.dy / v.dt };
                sum = Points.add(sum, nv);
                count += 1;
                if (t > milliseconds) {
                    break
                }
            }
            if (count === 0) return sum // empty vector
            return Points.multiplyScalar(sum, 1 / count)
        }

        killAnimation() {
            this.velocity = null;
            this.velocities = [];
        }

        startThrow() {
            this.velocity = this.meanVelocity();
            if (this.velocity != null) {
                // Call next velocity to ansure that specializations
                // that use keepOnStage are called
                this.velocity = this.nextVelocity(this.velocity);
                if (this.autoThrow) this.animateThrow(performance.now());
            } else {
                this.onDragComplete();
            }
        }

        animateThrow(time) {
            if (this.velocity != null) {
                let t = performance.now();
                let dt = t - this.lastframe;
                this.lastframe = t;
                // console.log("animateThrow", dt)
                let next = this.nextVelocity(this.velocity);
                let prevLength = Points.length(this.velocity);
                let nextLength = Points.length(next);
                if (nextLength > prevLength) {
                    let factor = nextLength / prevLength;
                    next = Points.multiplyScalar(next, 1 / factor);
                    console.log('Prevent acceleration', factor, this.velocity, next);
                }
                this.velocity = next;
                let d = Points.multiplyScalar(this.velocity, dt);
                this._move(d);
                this.onDragUpdate(d);
                if (dt == 0 || this.needsAnimation()) {
                    requestAnimationFrame(this.animateThrow.bind(this));
                    return
                } else {
                    if (this.isOutside()) {
                        requestAnimationFrame(this.animateThrow.bind(this));
                    }
                }
            }
            this.onDragComplete();
        }

        needsAnimation() {
            return Points.length(this.velocity) > 0.01
        }

        nextVelocity(velocity) {
            // Must be overwritten: computes the changed velocity. Implement
            // damping, collison detection, etc. here
            let next = Points.multiplyScalar(velocity, this.throwDamping);
            return {
                x: (this.movableX) ? next.x : 0,
                y: (this.movableY) ? next.y : 0
            }
        }

        _move(delta) { }

        onDragComplete() { }

        onDragUpdate(delta) { }
    }

    class AbstractScatter extends Throwable {
        constructor({
            minScale = 0.1,
            maxScale = 1.0,
            startScale = 1.0,
            autoBringToFront = true,
            autoThrow = true,
            translatable = true,
            scalable = true,
            rotatable = true,
            resizable = false,
            movableX = true,
            movableY = true,
            throwVisibility = 44,
            throwDamping = 0.95,
            overdoScaling = 1,
            mouseZoomFactor = 1.1,
            rotationDegrees = null,
            rotation = null,
            onTransform = null,
            interactive = true
        } = {}) {
            if (rotationDegrees != null && rotation != null) {
                throw new Error('Use rotationDegrees or rotation but not both')
            } else if (rotation != null) {
                rotationDegrees = Angle.radian2degree(rotation);
            } else if (rotationDegrees == null) {
                rotationDegrees = 0;
            }
            super({
                movableX,
                movableY,
                throwVisibility,
                throwDamping,
                autoThrow
            });
            this.interactive = interactive;
            this.startRotationDegrees = rotationDegrees;
            this.startScale = startScale; // Needed to reset object
            this.minScale = minScale;
            this.maxScale = maxScale;
            this.overdoScaling = overdoScaling;
            this.translatable = translatable;
            if (!translatable) {
                this.movableX = false;
                this.movableY = false;
            }
            this.scalable = scalable;
            this.rotatable = rotatable;
            this.resizable = resizable;
            this.mouseZoomFactor = mouseZoomFactor;
            this.autoBringToFront = autoBringToFront;
            this.dragging = false;
            this.onTransform = onTransform != null ? [onTransform] : null;
        }

        addTransformEventCallback(callback) {
            if (this.onTransform == null) {
                this.onTransform = [];
            }
            this.onTransform.push(callback);
        }

        startGesture(interaction) {
            this.bringToFront();
            this.killAnimation();
            this.observeVelocity();
            return true
        }

        gesture(interaction) {
            
            let delta = interaction.delta();
            //console.log("gesture", delta)
            if (delta != null) {
                this.addVelocity(delta);
                this.transform(delta, delta.zoom, delta.rotate, delta.about);
                if (delta.zoom != 1) this.interactionAnchor = delta.about;
            }
        }

        get polygon() {
            let w2 = this.width * this.scale / 2;
            let h2 = this.height * this.scale / 2;
            let center = this.center;
            let polygon = new Polygon(center);
            polygon.addPoint({ x: -w2, y: -h2 });
            polygon.addPoint({ x: w2, y: -h2 });
            polygon.addPoint({ x: w2, y: h2 });
            polygon.addPoint({ x: -w2, y: h2 });
            polygon.rotate(this.rotation);
            return polygon
        }

        isOutside() {
            let stagePolygon = this.containerPolygon;
            let polygon = this.polygon;
            let result = stagePolygon.intersectsWith(polygon);
            return result === false || result.overlap < this.throwVisibility
        }

        recenter() {
            // Return a small vector that guarantees that the scatter is moving
            // towards the center of the stage
            let center = this.center;
            let target = this.container.center;
            let delta = Points.subtract(target, center);
            return Points.normalize(delta)
        }

        nextVelocity(velocity) {
            return this.keepOnStage(velocity)
        }

        bouncing() {
            // Implements the bouncing behavior of the scatter. Moves the scatter
            // to the center of the stage if the scatter is outside the stage or
            // not within the limits of the throwVisibility.

            let stagePolygon = this.containerPolygon;
            let polygon = this.polygon;
            let result = stagePolygon.intersectsWith(polygon);
            if (result === false || result.overlap < this.throwVisibility) {
                let cv = this.recenter();
                let recentered = false;
                while (result === false || result.overlap < this.throwVisibility) {
                    polygon.center.x += cv.x;
                    polygon.center.y += cv.y;
                    this._move(cv);
                    result = stagePolygon.intersectsWith(polygon);
                    recentered = true;
                }
                return recentered
            }
            return false
        }

        keepOnStage(velocity, collision = 0.5) {
            let stagePolygon = this.containerPolygon;
            if (!stagePolygon) return
            let polygon = this.polygon;
            let bounced = this.bouncing();
            if (bounced) {
                let stage = this.containerBounds;
                let x = this.center.x;
                let y = this.center.y;
                let dx = this.movableX ? velocity.x : 0;
                let dy = this.movableY ? velocity.y : 0;
                let factor = this.throwDamping;
                // if (recentered) {
                if (x < 0) {
                    dx = -dx;
                    factor = collision;
                }
                if (x > stage.width) {
                    dx = -dx;
                    factor = collision;
                }
                if (y < 0) {
                    dy = -dy;
                    factor = collision;
                }
                if (y > stage.height) {
                    dy = -dy;
                    factor = collision;
                }
                // }
                return Points.multiplyScalar({ x: dx, y: dy }, factor)
            }
            return super.nextVelocity(velocity)
        }

        endGesture(interaction) {
            this.startThrow();
        }

        rotateDegrees(degrees, anchor) {
            let rad = Angle.degree2radian(degrees);
            this.rotate(rad, anchor);
        }

        rotate(rad, anchor) {
            this.transform({ x: 0, y: 0 }, 1.0, rad, anchor);
        }

        move(d, { animate = 0 } = {}) {
            if (this.translatable) {
                if (animate > 0) {
                    let startPos = this.position;
                    TweenLite.to(this, animate, {
                        x: '+=' + d.x,
                        y: '+=' + d.y,
                        /* scale: scale, uo: not defined, why was this here? */
                        onUpdate: e => {
                            let p = this.position;
                            let dx = p.x - startPos.x;
                            let dy = p.x - startPos.y;
                            this.onMoved(dx, dy);
                        }
                    });
                } else {
                    this._move(d);
                    this.onMoved(d.x, d.y);
                }
            }
        }

        moveTo(p, { animate = 0 } = {}) {
            let c = this.origin;
            let delta = Points.subtract(p, c);
            this.move(delta, { animate: animate });
        }

        centerAt(p, { animate = 0 } = {}) {
            let c = this.center;
            let delta = Points.subtract(p, c);
            this.move(delta, { animate: animate });
        }

        zoom(
            scale,
            {
                animate = 0,
                about = null,
                delay = 0,
                x = null,
                y = null,
                onComplete = null
            } = {}
        ) {
            let anchor = about || this.center;
            if (scale != this.scale) {
                if (animate > 0) {
                    TweenLite.to(this, animate, {
                        scale: scale,
                        delay: delay,
                        onComplete: onComplete,
                        onUpdate: this.onZoomed.bind(this)
                    });
                } else {
                    this.scale = scale;
                    this.onZoomed(anchor);
                }
            }
        }

        _move(delta) {
            this.x += this.movableX ? delta.x : 0;
            this.y += this.movableX ? delta.y : 0;
        }

        transform(translate, zoom, rotate, anchor) {
            let delta = {
                x: this.movableX ? translate.x : 0,
                y: this.movableY ? translate.y : 0
            };
            if (this.resizable) var vzoom = zoom;
            if (!this.translatable) delta = { x: 0, y: 0 };
            if (!this.rotatable) rotate = 0;
            if (!this.scalable) zoom = 1.0;
            if (zoom == 1.0 && rotate == 0) {
                this._move(delta);
                if (this.onTransform != null) {
                    let event = new ScatterEvent(this, {
                        translate: delta,
                        scale: this.scale,
                        rotate: 0,
                        about: anchor,
                        fast: false,
                        type: UPDATE
                    });
                    this.onTransform.forEach(function (f) {
                        f(event);
                    });
                }
                return
            }
            let origin = this.rotationOrigin;
            let beta = Points.angle(origin, anchor);
            let distance = Points.distance(origin, anchor);
           
            let {scale: newScale, zoom: thresholdedZoom} = this.calculateScale(zoom);

            let newOrigin = Points.arc(anchor, beta + rotate, distance * thresholdedZoom);
            let extra = Points.subtract(newOrigin, origin);
            let offset = Points.subtract(anchor, origin);
            this._move(offset);
            this.scale = newScale;
            this.rotation += rotate;
            offset = Points.negate(offset);
            offset = Points.add(offset, extra);
            offset = Points.add(offset, translate);
            this._move(offset);

            delta.x += extra.x;
            delta.y += extra.y;
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: delta,
                    scale: newScale,
                    rotate: rotate,
                    about: anchor
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
            if (this.resizable) {
                this.resizeAfterTransform(vzoom);
            }
        }

        /**
         * For a given zoom, a new scale is calculated, taking
         * min and max scale into account.
         * 
         * @param {number} zoom - The zoom factor, to scale the object with.
         * @returns {object} - Returns an object containing the a value for a valid scale and the corrected zoom factor.
         */
        calculateScale(zoom) {
            let scale = this.scale * zoom;

            let minScale = this.minScale / this.overdoScaling;
            let maxScale = this.maxScale * this.overdoScaling;
            if (scale < minScale) {
                scale = minScale;
                zoom = scale / this.scale;
            }
            if (scale > maxScale) {
                scale = maxScale;
                zoom = scale / this.scale;
            }

            return {zoom, scale}
        }

        resizeAfterTransform(zoom) {
            // Overwrite this in subclasses.
        }

        validScale(scale) {
            scale = Math.max(scale, this.minScale);
            scale = Math.min(scale, this.maxScale);
            return scale
        }

        animateZoomBounce(dt = 1) {
            if (this.zoomAnchor != null) {
                let zoom = 1;
                let amount = Math.min(0.01, 0.3 * dt / 100000.0);
                if (this.scale < this.minScale) zoom = 1 + amount;
                if (this.scale > this.maxScale) zoom = 1 - amount;
                if (zoom != 1) {
                    this.transform({ x: 0, y: 0 }, zoom, 0, this.zoomAnchor);
                    requestAnimationFrame(dt => {
                        this.animateZoomBounce(dt);
                    });
                    return
                }
                this.zoomAnchor = null;
            }
        }

        checkScaling(about, delay = 0) {
            this.zoomAnchor = about;
            clearTimeout(this.animateZoomBounce.bind(this));
            setTimeout(this.animateZoomBounce.bind(this), delay);
        }

        onMouseWheel(event) {
            if (event.claimedByScatter) {
                if (event.claimedByScatter != this) return
            }
            this.killAnimation();
            this.targetScale = null;
            let direction = event.detail < 0 || event.wheelDelta > 0;
            let globalPoint = { x: event.clientX, y: event.clientY };
            let centerPoint = this.mapPositionToContainerPoint(globalPoint);
            if (event.shiftKey) {
                let degrees = direction ? 5 : -5;
                let rad = Angle.degree2radian(degrees);
                return this.transform({ x: 0, y: 0 }, 1.0, rad, centerPoint)
            }
            const zoomFactor = this.mouseZoomFactor;
            let zoom = direction ? zoomFactor : 1 / zoomFactor;
            this.transform({ x: 0, y: 0 }, zoom, 0, centerPoint);
            this.checkScaling(centerPoint, 200);
            //
            //         if (this.onTransform != null) {
            //             let event = new ScatterEvent(this, {
            //                 translate: {x: 0, y: 0},
            //                 scale: this.scale,
            //                 rotate: 0,
            //                 about: null,
            //                 fast: false,
            //                 type: ZOOM
            //             })
            //             this.onTransform.forEach(function(f) {
            //                 f(event)
            //             })
            //         }
        }

        onStart(event, interaction) {
            
            if (this.startGesture(interaction)) {
                this.dragging = true;
                this.interactionAnchor = null;
            }
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: { x: 0, y: 0 },
                    scale: this.scale,
                    rotate: 0,
                    about: null,
                    fast: false,
                    type: START
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }

        onMove(event, interaction) {
            /** As long as mouseout && mouseleave interrupt we cannot be sure that
             * dragging remains correct.
             */
            if (this.dragging) {
                this.gesture(interaction);
            }
        }

        onEnd(event, interaction) {
            //console.log("Scatter.onEnd", this.dragging)
            if (interaction.isFinished()) {
                this.endGesture(interaction);
                this.dragging = false;
                for (let key of interaction.ended.keys()) {
                    if (interaction.isTap(key)) {
                        let point = interaction.ended.get(key);
                        this.onTap(event, interaction, point);
                    }
                }
                if (this.onTransform != null) {
                    let event = new ScatterEvent(this, {
                        translate: { x: 0, y: 0 },
                        scale: this.scale,
                        rotate: 0,
                        about: null,
                        fast: false,
                        type: END
                    });
                    this.onTransform.forEach(function (f) {
                        f(event);
                    });
                }
            }
            let about = this.interactionAnchor;
            if (about != null) {
                this.checkScaling(about, 100);
            }
        }

        onTap(event, interaction, point) { }

        onDragUpdate(delta) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    fast: true,
                    translate: delta,
                    scale: this.scale,
                    about: this.currentAbout,
                    type: null
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }

        onDragComplete() {
            if (this.onTransform) {
                let event = new ScatterEvent(this, {
                    scale: this.scale,
                    about: this.currentAbout,
                    fast: false,
                    type: null
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }

        onMoved(dx, dy, about) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    translate: { x: dx, y: dy },
                    about: about,
                    fast: true,
                    type: null
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }

        onResizing() {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    scale: this.scale,
                    fast: false,
                    type: null
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }

        onZoomed(about) {
            if (this.onTransform != null) {
                let event = new ScatterEvent(this, {
                    scale: this.scale,
                    about: about,
                    fast: false,
                    type: null
                });
                this.onTransform.forEach(function (f) {
                    f(event);
                });
            }
        }
    }


    class DOMScatter extends AbstractScatter {
        constructor(
            element,
            container,
            {
                startScale = 1.0,
                minScale = 0.1,
                maxScale = 1.0,
                overdoScaling = 1.5,
                autoBringToFront = true,
                translatable = true,
                scalable = true,
                rotatable = true,
                movableX = true,
                movableY = true,
                rotationDegrees = null,
                rotation = null,
                onTransform = null,
                transformOrigin = 'center center',
                // extras which are in part needed
                x = 0,
                y = 0,
                width = null,
                height = null,
                resizable = false,
                simulateClick = false,
                verbose = true,
                onResize = null,
                touchAction = 'none',
                throwVisibility = 44,
                throwDamping = 0.95,
                autoThrow = true
            } = {}
        ) {
            super({
                minScale,
                maxScale,
                startScale,
                overdoScaling,
                autoBringToFront,
                translatable,
                scalable,
                rotatable,
                movableX,
                movableY,
                resizable,
                rotationDegrees,
                rotation,
                onTransform,
                throwVisibility,
                throwDamping,
                autoThrow
            });
            if (container == null || width == null || height == null) {
                throw new Error('Invalid value: null')
            }
            this.element = element;
            this.x = x;
            this.y = y;
            this.oldX = 0;
            this.oldY = 0;
            this.meanX = x;
            this.meanY = y;
            this.width = width;
            this.height = height;
            this.throwVisibility = Math.min(width, height, throwVisibility);
            this.container = container;
            this.simulateClick = simulateClick;
            this.scale = startScale;
            this.rotationDegrees = this.startRotationDegrees;
            this.transformOrigin = transformOrigin;
            this.initialValues = {
                x: x,
                y: y,
                width: width,
                height: height,
                scale: startScale,
                rotation: this.startRotationDegrees,
                transformOrigin: transformOrigin
            };
            // For tweenlite we need initial values in _gsTransform
            TweenLite.set(element, this.initialValues);
            this.onResize = onResize;
            this.verbose = verbose;
            if (touchAction !== null) {
                Elements$1.setStyle(element, { touchAction });
            }
            this.resizeButton = null;
            if(resizable){
                let button = document.createElement("div");
                button.style.position = "absolute";
                button.style.right = "0px";
                button.style.bottom = "0px";
                button.style.width = "50px";
                button.style.height = "50px";
                // button.style.borderRadius = "100% 0px 0px 0px";
                // button.style.background = this.element.style.backgroundColor
                button.className = "interactiveElement";
                this.element.appendChild(button);

                button.addEventListener('pointerdown',(e)=>{
                    this.startResize(e);
                });

                button.addEventListener('pointermove',(e)=>{
                    this.resize(e);
                });

                button.addEventListener('pointerup',(e)=>{
                    this.stopResize(e);
                });
                this.resizeButton = button;
            }
            container.add(this);
        }

        /** Returns geometry data as object. **/
        getState() {
            return {
                scale: this.scale,
                x: this.x,
                y: this.y,
                rotation: this.rotation
            }
        }

        get rotationOrigin() {
            return this.center
        }

        get x() {
            return this._x
        }

        get y() {
            return this._y
        }

        set x(value) {
            this._x = value;
            TweenLite.set(this.element, { x: value });
        }

        set y(value) {
            this._y = value;
            TweenLite.set(this.element, { y: value });
        }

        get position() {
            let transform = this.element._gsTransform;
            let x = transform.x;
            let y = transform.y;
            return { x, y }
        }

        get origin() {
            let p = this.fromNodeToPage(0, 0);
            return Points.fromPageToNode(this.container.element, p)
        }

        get bounds() {
            let stage = this.container.element.getBoundingClientRect();
            let rect = this.element.getBoundingClientRect();
            return {
                top: rect.top - stage.top,
                left: rect.left - stage.left,
                width: rect.width,
                height: rect.height
            }
        }

        get center() {
            let r = this.bounds;
            let w2 = r.width / 2;
            let h2 = r.height / 2;
          //   if (this.resizable) {
    //             w2 *= this.scale
    //             h2 *= this.scale
    //         }
            var x = r.left + w2;
            var y = r.top + h2;
            return { x, y }
        }

        set rotation(radians) {
            let rad = radians; // Angle.normalize(radians)
            let degrees = Angle.radian2degree(rad);
            TweenLite.set(this.element, { rotation: degrees });
            this._rotation = rad;
        }

        set rotationDegrees(degrees) {
            let deg = degrees; // Angle.normalizeDegree(degrees)
            TweenLite.set(this.element, { rotation: deg });
            this._rotation = Angle.degree2radian(deg);
        }

        get rotation() {
            return this._rotation
        }

        get rotationDegrees() {
            return this._rotation
        }

        set scale(scale) {
            TweenLite.set(this.element, {
                scale: scale,
                transformOrigin: this.transformOrigin
            });
            this._scale = scale;
        }

        get scale() {
            return this._scale
        }

        get containerBounds() {
            return this.container.bounds
        }

        get containerPolygon() {
            return this.container.polygon
        }

        mapPositionToContainerPoint(point) {
            return this.container.mapPositionToPoint(point)
        }

        capture(event) {
            return true
        }

        reset() {
            TweenLite.set(this.element, this.initialValues);
        }

        hide() {
            TweenLite.to(this.element, 0.1, {
                display: 'none',
                onComplete: e => {
                    this.element.parentNode.removeChild(this.element);
                }
            });
        }

        show() {
            TweenLite.set(this.element, { display: 'block' });
        }

        showAt(p, rotationDegrees) {
            TweenLite.set(this.element, {
                display: 'block',
                x: p.x,
                y: p.y,
                rotation: rotationDegrees,
                transformOrigin: this.transformOrigin
            });
        }

        bringToFront() {
            // this.element.parentNode.appendChild(this.element)
            // uo: On Chome and Electon appendChild leads to flicker
            TweenLite.set(this.element, { zIndex: DOMScatter.zIndex++ });
        }

        toggleVideo(element) {
            if (element.paused) {
                element.play();
            } else {
                element.pause();
            }
        }

        onTap(event, interaction, point) {
            if (this.simulateClick) {
                let p = Points.fromPageToNode(this.element, point);
                let iframe = this.element.querySelector('iframe');
                if (iframe) {
                    let doc = iframe.contentWindow.document;
                    let element = doc.elementFromPoint(p.x, p.y);
                    if (element == null) {
                        return
                    }
                    switch (element.tagName) {
                        case 'VIDEO':
                            console.log(element.currentSrc);
                            if (PopupMenu) {
                                PopupMenu.open(
                                    {
                                        Fullscreen: () =>
                                            window.open(element.currentSrc),
                                        Play: () => element.play()
                                    },
                                    { x, y }
                                );
                            } else {
                                this.toggleVideo(element);
                            }
                            break
                        default:
                            element.click();
                    }
                }
            }
        }

        isDescendant(parent, child) {
            let node = child.parentNode;
            while (node != null) {
                if (node == parent) {
                    return true
                }
                node = node.parentNode;
            }
            return false
        }

        fromPageToNode(x, y) {
            return Points.fromPageToNode(this.element, { x, y })
        }

        fromNodeToPage(x, y) {
            return Points.fromNodeToPage(this.element, { x, y })
        }

        _move(delta) {
            // UO: We need to keep TweenLite's _gsTransform and the private
            // _x and _y attributes aligned
            let x = this.element._gsTransform.x;
            let y = this.element._gsTransform.y;
            if (this.movableX) {
                x += delta.x;
            }
            if (this.movableY) {
                y += delta.y;
            }
            this._x = x;
            this._y = y;
            TweenLite.set(this.element, { x: x, y: y });
        }

        resizeAfterTransform(zoom) {
           //  let w = this.width * this.scale
    //         let h = this.height * this.scale
    //         TweenLite.set(this.element, { width: w, height: h })
            if (this.onResize) {
                let event = new ResizeEvent(this, { width: w, height: h });
                this.onResize(event);
            }
            if (this.resizeButton != null) ;
        }

        startResize(e){
            e.preventDefault();
            console.log("starting resize");
            let oldPostition = {x:$(this.element).position().left, y:$(this.element).position().top};
            this.bringToFront();

            this.element.style.transformOrigin = "0% 0%";

                let newPostition = {x:$(this.element).position().left, y:$(this.element).position().top};

                let offset = Points.subtract(oldPostition,newPostition);

                this.oldX = e.clientX;
                this.oldY = e.clientY;

                e.target.setAttribute('resizing',"true");
                e.target.setPointerCapture(e.pointerId);

                TweenMax.to(this.element, 0, {css:{left:"+="+offset.x+"px"}});
                TweenMax.to(this.element, 0, {css:{top:"+="+offset.y+"px"}});
        }

        resize(e){
            e.preventDefault();

            let rotation = Angle.radian2degree(this.rotation);

            rotation = (rotation+360)%360;

            if(e.target.getAttribute('resizing')=="true"){

                let deltaX = (e.clientX-this.oldX);
                let deltaY = (e.clientY-this.oldY);

                let r = Math.sqrt(Math.pow(deltaX, 2) + Math.pow(deltaY, 2));
                let phi = Angle.radian2degree(Math.atan2(deltaX, deltaY));

                phi = ((phi) + 630) % 360;
                let rot = ((rotation + 90) + 630) % 360;

                let diffAngle = ((0 + rot) + 360) % 360;
                let phiCorrected = (phi + diffAngle + 360) % 360;

                let resizeW = r * Math.cos(Angle.degree2radian(phiCorrected));
                let resizeH = -r * Math.sin(Angle.degree2radian(phiCorrected));

                if(this.element.offsetWidth+resizeW/this.scale>this.width*0.3 && this.element.offsetHeight+resizeH/this.scale>this.height*0.3) TweenMax.to(this.element, 0, {width: this.element.offsetWidth+resizeW/this.scale, height: this.element.offsetHeight+resizeH/this.scale});

                this.oldX = e.clientX;
                this.oldY = e.clientY;
                this.onResizing();
            }
        }

        stopResize(e){e.preventDefault();

            let oldPostition = {x:$(this.element).position().left, y:$(this.element).position().top};

            this.element.style.transformOrigin = "50% 50%";

            let newPostition = {x:$(this.element).position().left, y:$(this.element).position().top};

            let offset = Points.subtract(oldPostition,newPostition);

            TweenMax.to(this.element, 0, {css:{left:"+="+offset.x+"px"}});
            TweenMax.to(this.element, 0, {css:{top:"+="+offset.y+"px"}});

            e.target.setAttribute('resizing',"false");
        }
    }

    DOMScatter.zIndex = 1000;

    class CardLoader {
        constructor(
            src,
            {
                x = 0,
                y = 0,
                width = 1000,
                height = 800,
                maxWidth = null,
                maxHeight = null,
                scale = 1,
                minScale = 0.5,
                maxScale = 1.5,
                rotation = 0
            } = {}
        ) {
            this.src = src;
            this.x = x;
            this.y = y;
            this.scale = scale;
            this.rotation = 0;
            this.maxScale = maxScale;
            this.minScale = minScale;
            this.wantedWidth = width;
            this.wantedHeight = height;
            this.maxWidth = maxWidth != null ? maxWidth : window.innerWidth;
            this.maxHeight = maxHeight != null ? maxHeight : window.innerHeight;
            this.addedNode = null;
        }

        unload() {
            if (this.addedNode) {
                this.addedNode.remove();
                this.addedNode = null;
            }
        }
    }

    class DOMFlip {
        constructor(
            domScatterContainer,
            flipTemplate,
            frontLoader,
            backLoader,
            {
                closeOnMinScale = false,
                flipDuration = 1,
                fadeDuration = 0.2,
                overdoScaling = 1,
                autoLoad = false,
                center = null,
                preloadBack = false,
                translatable = true,
                scalable = true,
                rotatable = true,
                onFront = null,
                onBack = null,
                onClose = null,
                onUpdate = null,
                onRemoved = null,
                onLoaded = null
            } = {}
        ) {
            this.domScatterContainer = domScatterContainer;
            this.id = getId();
            this.flipDuration = flipDuration;
            this.fadeDuration = fadeDuration;
            this.closeOnMinScale = closeOnMinScale;
            this.flipTemplate = flipTemplate;
            this.frontLoader = frontLoader;
            this.backLoader = backLoader;
            this.translatable = translatable;
            this.scalable = scalable;
            this.rotatable = rotatable;
            this.onFrontFlipped = onFront;
            this.onBackFlipped = onBack;
            this.onClose = onClose;
            this.onRemoved = onRemoved;
            this.onUpdate = onUpdate;
            this.onLoaded = onLoaded;
            this.center = center;
            this.preloadBack = preloadBack;
            this.overdoScaling = overdoScaling;
            if (autoLoad) {
                this.load();
            }
        }

        load() {
            return new Promise((resolve, reject) => {
                let t = this.flipTemplate;
                let dom = this.domScatterContainer.element;
                let wrapper = t.content.querySelector('.flipWrapper');
                wrapper.id = this.id;
                let clone = document.importNode(t.content, true);
                dom.appendChild(clone);
                // We cannot use the document fragment itself because it
                // is not part of the main dom tree. After the appendChild
                // call we can access the new dom element by id
                this.cardWrapper = dom.querySelector('#' + this.id);
                let front = this.cardWrapper.querySelector('.front');
                this.frontLoader.load(front).then(loader => {
                    this.frontLoaded(loader).then((obj) => {
                        if (this.onLoaded) this.onLoaded();
                        resolve(this);
                });
            });
            })
        }

        frontLoaded(loader) {
            return new Promise((resolve, reject) => {
                let scatter = new DOMScatter(
                    this.cardWrapper,
                    this.domScatterContainer,
                    {
                        x: loader.x,
                        y: loader.y,
                        startScale: loader.scale,
                        scale: loader.scale,
                        maxScale: loader.maxScale,
                        minScale: loader.minScale,
                        width: loader.wantedWidth,
                        height: loader.wantedHeight,
                        rotation: loader.rotation,
                        translatable: this.translatable,
                        scalable: this.scalable,
                        rotatable: this.rotatable,
                        overdoScaling: this.overdoScaling
                    }
                );

                if (this.center) {
                    scatter.centerAt(this.center);
                }

                if (this.closeOnMinScale) {

                    const removeOnMinScale = function () {
                        if (scatter.scale <= scatter.minScale) {
                            this.flippable.close();

                            // 'Disable' overdoscaling to avoid weird jumps on close.
                            scatter.minScale /= scatter.overdoScaling;
                            scatter.overdoScaling = 1;

                            //Remove callback
                            if (scatter.onTransform) {
                                let callbackIdx = scatter.onTransform.indexOf(removeOnMinScale);
                                scatter.onTransform.splice(callbackIdx, 1);
                            }
                        }

                    }.bind(this);



                    scatter.addTransformEventCallback(removeOnMinScale);
                }

                let flippable = new DOMFlippable(this.cardWrapper, scatter, this);
                let back = this.cardWrapper.querySelector('.back');

                if (this.preloadBack) {
                    this.backLoader.load(back).then(loader => {
                        this.setupFlippable(flippable, loader);
                    });
                }
                this.flippable = flippable;
                resolve(this);
            })
        }

        centerAt(p) {
            this.center = p;
            this.flippable.centerAt(p);
        }

        zoom(scale) {
            this.flippable.zoom(scale);
        }

        setupFlippable(flippable, loader) {
            flippable.wantedWidth = loader.wantedWidth;
            flippable.wantedHeight = loader.wantedHeight;
            flippable.wantedScale = loader.scale;
            flippable.minScale = loader.minScale;
            flippable.maxScale = loader.maxScale;
            flippable.scaleButtons();
        }

        start({ targetCenter = null } = {}) {
            console.log('DOMFlip.start', targetCenter);
            if (this.preloadBack) this.flippable.start({ duration: this.flipDuration, targetCenter });
            else {
                let back = this.cardWrapper.querySelector('.back');
                let flippable = this.flippable;
                this.backLoader.load(back).then(loader => {
                    this.setupFlippable(flippable, loader);
                    flippable.start({ duration: this.flipDuration, targetCenter });
                });
            }
        }

        fadeOutAndRemove() {
            TweenLite.to(this.cardWrapper, this.fadeDuration, {
                opacity: 0,
                onComplete: () => {
                    this.cardWrapper.remove();
                }
            });
        }

        closed() {
            this.unload();
        }

        unload(){
            if (!this.preloadBack) {
                this.backLoader.unload();
            }
        }
    }

    class DOMFlippable {
        constructor(element, scatter, flip) {
            // Set log to console.log or a custom log function
            // define data structures to store our touchpoints in

            this.element = element;
            this.flip = flip;
            this.card = element.querySelector('.flipCard');
            this.front = element.querySelector('.front');
            this.back = element.querySelector('.back');
            this.flipped = false;
            this.scatter = scatter;
            this.onFrontFlipped = flip.onFrontFlipped;
            this.onBackFlipped = flip.onBackFlipped;
            this.onClose = flip.onClose;
            this.onRemoved = flip.onRemoved;
            this.onUpdate = flip.onUpdate;

            this.flipDuration = flip.flipDuration;
            this.fadeDuration = flip.fadeDuration;
            scatter.addTransformEventCallback(this.scatterTransformed.bind(this));
            console.log('lib.DOMFlippable', 5000);
            TweenLite.set(this.element, { perspective: 5000 });
            TweenLite.set(this.card, { transformStyle: 'preserve-3d' });
            TweenLite.set(this.back, { rotationY: -180 });
            TweenLite.set([this.back, this.front], {
                backfaceVisibility: 'hidden',
                perspective: 5000
            });
            TweenLite.set(this.front, { visibility: 'visible' });
            this.infoBtn = element.querySelector('.infoBtn');
            this.backBtn = element.querySelector('.backBtn');
            this.closeBtn = element.querySelector('.closeBtn');
            /* Buttons are not guaranteed to exist. */
            if (this.infoBtn) {
                InteractionMapper$1.on('tap', this.infoBtn, event => this.flip.start());

                this.enable(this.infoBtn);
            }
            if (this.backBtn) {
                InteractionMapper$1.on('tap', this.backBtn, event => this.start());
            }
            if (this.closeBtn) {
                InteractionMapper$1.on('tap', this.closeBtn, event => this.close());
                this.enable(this.closeBtn);
            }
            this.scaleButtons();
            this.bringToFront();
        }

        close() {
            this.disable(this.infoBtn);
            this.disable(this.closeBtn);
            if (this.onClose) {
                this.onClose(this);
                this.flip.closed();
            } else {
                this.scatter.zoom(0.1, {
                    animate: this.fadeDuration,
                    onComplete: () => {
                        this.element.remove();
                        this.flip.closed();
                        if (this.onRemoved) {
                            this.onRemoved.call(this);
                        }
                    }
                });
            }
        }

        showFront() {
            TweenLite.set(this.front, { visibility: 'visible' });
        }

        centerAt(p) {
            this.scatter.centerAt(p);
        }

        zoom(scale) {
            this.scatter.zoom(scale);
        }

        get buttonScale() {
            let iscale = 1.0;

            if (this.scatter != null) {
                let scale = this.scatter.scale || 1;
                iscale = 1.0 / scale;
            }
            return iscale
        }

        scaleButtons() {
            //This also works for svgs.
            // if (this.infoBtn)
            //     this.infoBtn.style.transform = "scale(" + this.buttonScale + ")"

            // if (this.backBtn)
            //     this.backBtn.style.transform = "scale(" + this.buttonScale + ")"

            // if (this.closeBtn)
            //     this.closeBtn.style.transform = "scale(" + this.buttonScale + ")"

            console.log(this.buttonScale);
            //// This did not work with svgs!
            TweenLite.set([this.infoBtn, this.backBtn, this.closeBtn], {
                scale: this.buttonScale
            });
        }

        bringToFront() {
            this.scatter.bringToFront();
            TweenLite.set(this.element, { zIndex: DOMScatter.zIndex++ });
        }

        clickInfo() {
            this.bringToFront();
            this.infoBtn.click();
        }

        scatterTransformed(event) {
            this.scaleButtons();
        }

        targetRotation(alpha) {
            let ortho = 90;
            let rest = alpha % ortho;
            let delta = 0.0;
            if (rest > ortho / 2.0) {
                delta = ortho - rest;
            } else {
                delta = -rest;
            }
            return delta
        }

        infoValues(info) {
            let startX = this.element._gsTransform.x;
            let startY = this.element._gsTransform.y;
            let startAngle = this.element._gsTransform.rotation;
            let startScale = this.element._gsTransform.scaleX;
            let w = this.element.style.width;
            let h = this.element.style.height;
            console.log(info, startX, startY, startAngle, startScale, w, h);
        }

        show(element, duration = 0, alpha = 1) {
            if (element) {
                TweenLite.to(element, duration, { autoAlpha: alpha }); // visibility: 'visible', display: 'initial'})
            }
        }

        hide(element, duration = 0, alpha = 0) {
            if (element) {
                TweenLite.to(element, duration, { autoAlpha: alpha }); // {visibility: 'hidden', display: 'none'})
            }
        }



        enable(button) {
            this.show(button, this.fadeDuration);
            if (button) {
                TweenLite.set(button, { pointerEvents: 'auto' });
            }
        }

        disable(button) {
            this.hide(button, this.fadeDuration);
            if (button) {
                TweenLite.set(button, { pointerEvents: 'none' });
            }
        }

        start({ targetCenter = null } = {}) {
            this.bringToFront();
            if (!this.flipped) {
                this.startX = this.element._gsTransform.x;
                this.startY = this.element._gsTransform.y;
                this.startAngle = this.element._gsTransform.rotation;
                this.startScale = this.element._gsTransform.scaleX;
                this.startWidth = this.element.style.width;
                this.startHeight = this.element.style.height;
                this.scatterStartWidth = this.scatter.width;
                this.scatterStartHeight = this.scatter.height;
                this.show(this.back);
                this.disable(this.infoBtn);
                this.disable(this.closeBtn);
            } else {
                this.show(this.front,this.fadeDuration);
                this.disable(this.backBtn);
            }
            let { scalable, translatable, rotatable } = this.scatter;
            this.saved = { scalable, translatable, rotatable };
            this.scatter.scalable = false;
            this.scatter.translatable = false;
            this.scatter.rotatable = false;
            this.scatter.killAnimation();

            this.flipped = !this.flipped;
            let targetY = this.flipped ? 180 : 0;
            let targetZ = this.flipped
                ? this.startAngle + this.targetRotation(this.startAngle)
                : this.startAngle;
            let targetScale = this.flipped ? this.wantedScale : this.startScale;
            let w = this.flipped ? this.wantedWidth : this.startWidth;
            let h = this.flipped ? this.wantedHeight : this.startHeight;
            let dw = this.wantedWidth - this.scatter.width;
            let dh = this.wantedHeight - this.scatter.height;
            let tc = targetCenter;
            let xx = tc != null ? tc.x - w / 2 : this.startX - dw / 2;
            let yy = tc != null ? tc.y - h / 2 : this.startY - dh / 2;
            let x = this.flipped ? xx : this.startX;
            let y = this.flipped ? yy : this.startY;

            console.log("DOMFlippable.start", this.flipped, targetCenter, x, y, this.saved);
            let onUpdate = this.onUpdate !== null ? () => this.onUpdate(this) : null;
            console.log(this.flipDuration);
            TweenLite.to(this.card, this.flipDuration, {
                rotationY: targetY,
                ease: Power1.easeOut,
                transformOrigin: '50% 50%',
                onUpdate,
                onComplete: e => {
                    if (this.flipped) {
                        //this.hide(this.front)
                        this.enable(this.backBtn);
                        this.show(this.backBtn);

                        if (this.onFrontFlipped) {
                            this.onFrontFlipped(this);
                        }
                    } else {

                        if (this.onBackFlipped == null) {
                            this.enable(this.infoBtn, this.fadeDuration);
                            this.enable(this.closeBtn, this.fadeDuration);
                        } else {
                            this.onBackFlipped(this);
                        }
                        this.flip.unload();
                    }
                    this.scatter.scale = targetScale;
                    this.scaleButtons();
                    this.scatter.rotationDegrees = targetZ;
                    this.scatter.width = this.flipped ? w : this.scatterStartWidth;
                    this.scatter.height = this.flipped ? h : this.scatterStartHeight;

                    let { scalable, translatable, rotatable } = this.saved;
                    this.scatter.scalable = scalable;
                    this.scatter.translatable = translatable;
                    this.scatter.rotatable = rotatable;
                },
                force3D: true
            });

            // See https://greensock.com/forums/topic/7997-rotate-the-shortest-way/
            TweenLite.to(this.element, this.flipDuration / 2, {
                scale: targetScale,
                ease: Power1.easeOut,
                rotationZ: targetZ + '_short',
                transformOrigin: '50% 50%',
                width: w,
                height: h,
                x: x,
                y: y,
                onComplete: e => {
                    if (this.flipped) {
                        this.hide(this.front);
                       // this.hide(this.infoBtn)
                    } else {
                        this.hide(this.back);
                       // this.show(this.infoBtn)
                    }
                }
            });
        }
    }

    function isEven(n) {
        return n % 2 == 0
    }

    /**
     * A utility class that holds information typically provided by DZI files, i.e.
     * height and width of the overall image, overlap, and image type.
     *
     * @constructor
     * @param {obj} attrs - A JSON-Object holding the listed keys and values
     * @example
     *     {
     *         "tileSize": 1024,
     *         "format": "jpeg",
     *         "overlap": 1,
     *         "height": 4794,
     *         "width": 4095,
     *         "clip": { "minLevel": 12, "maxLevel": 20, "startCol": 301436, "startRow": 354060 },
     *                   // optional: minLevel and maxLevel define the level bounds
     *                   // startCol: first col at maxLevel
     *                   // startRow: first row at maxLevel
     *         "path": "var/Vermeer/Vermeer_files",
     *         "type": "dzi",  // optional: dzi (default) or map
     *         "urlTileTemplate": "{path}/{level}/{column}/{row}.{format}"
     *           // optional: {path}/{level}/{column}_{row}.{format} (default) or
     *           // a template String with the format of the URL
     *     }
     */
    class DeepZoomInfo {
        constructor(attrs) {
            for (let key in attrs) {
                this[key] = attrs[key];
            }
            this.maxLevel = 0; // The highest level number, typically corresponds to the
            // number in the file system for the folder with tiles
            this.clip = this.clip || null; // e.g. { level: 12, col: 301436, row: 354060 }
            this.type = this.type || 'dzi';
            this.urlTileTemplate =
                this.urlTileTemplate || '{path}/{level}/{column}_{row}.{format}';
            this.setupDimensions();
        }

        /* Computes the needed number of layers from the width and height
        *  of the image. Note that this includes the level 0, i.e. 0 ... 4
        * means that 5 levels exist.
        **/
        numLevels() {
            let maxDimension = Math.max(this.width, this.height);
            let boundary = this.type === 'dzi' ? 1 : this.tileSize;
            let numLevels = 0;
            while (maxDimension >= boundary) {
                maxDimension /= 2;
                numLevels++;
            }
            return numLevels
        }

        /** Computes the scale at the given level.
         * @param {number} level - The level of the wanted layer
         * @returns {number} scale
         **/
        getScale(level) {
            let scale = 1;
            if (this.type === 'dzi') {
                scale = Math.pow(0.5, this.maxLevel - level + 1);
            } else {
                scale = Math.pow(0.5, this.maxLevel - level);
            }
            return scale
        }

        /** Computes the scaled width and height of the given level.
         * @param {number} level - The level of the wanted layer
         * @returns {array} size - The width and height
         **/
        getDimensions(level) {
            let scale = this.getScale(level);
            let w = Math.ceil(this.width * scale);
            let h = Math.ceil(this.height * scale);
            return [w, h]
        }

        /** Computes the number of cols and rows of tiles.
         * @param {number} level - The level of the wanted layer
         * @returns {array} size - The cols and rows
         **/
        getNumTiles(level) {
            let dim = this.getDimensions(level);
            let cols = Math.ceil(dim[0] / this.tileSize);
            let rows = Math.ceil(dim[1] / this.tileSize);
            if (this.clip) {
                let rest = this.rests[level];
                if (rest) {
                    if (rest.restCol) {
                        cols += 1;
                    }
                    if (rest.restRows) {
                        rows += 1;
                    }
                }
            }
            return [cols, rows]
        }

        setupDimensions(loadBaseImage = false) {
            /** Setup instance variables and load the base image, i.e. the largest
            image that can be represented as a single tile.
            @private
            **/
            let ww = this.width;
            let hh = this.height;
            let scale = 1.0;
            let level = 0;
            let single = 0;
            const tsize = this.tileSize;

            if (this.clip) {
                this.baseLevel = this.clip.minLevel;
                this.maxLevel = this.clip.maxLevel;
                this.baseImage = null;
                this.size = this.getDimensions(this.baseLevel);
                this.offsets = {};
                this.rests = {};
                let startCol = this.clip.startCol;
                let startRow = this.clip.startRow;
                let floatStartCol = startCol;
                let floatStartRow = startRow;
                for (let i = this.maxLevel; i >= this.baseLevel; i--) {
                    this.offsets[i] = {startCol, startRow};
                    let restCol = floatStartCol % 1;
                    let restRow = floatStartRow % 1;
                    this.rests[i] = {restCol, restRow};
                    startCol = Math.floor(startCol / 2);
                    startRow = Math.floor(startRow / 2);
                    floatStartCol /= 2;
                    floatStartRow /= 2;
                }
            } else {
                const boundary = this.type === 'dzi' ? 1.0 : tsize;
                while (ww > boundary && hh > boundary) {
                    if (ww >= tsize && hh >= tsize) {
                        single += 1;
                    }
                    scale = scale / 2.0;
                    ww = Math.ceil(this.width * scale);
                    hh = Math.ceil(this.height * scale);
                    level += 1;
                }
                this.baseLevel = level - single;
                this.maxLevel = this.numLevels() - 1;
                this.baseURL = this.urlForTile(this.baseLevel, 0, 0, false);

                if (loadBaseImage) {
                    this.imageForURL(this.baseURL, e => {
                        this.size = [e.target.naturalWidth, e.target.naturalHeight];
                        this.baseImage = e.target;
                    });
                } else {
                    this.baseImage = null;
                    this.size = this.getDimensions(this.baseLevel);
                }
            }
        }

        get maxLoadableLevel() {
            if (this.clip) {
                return this.maxLevel
            }
            return this.type === 'dzi' ? this.maxLevel : this.maxLevel
        }

        /** Computes the url for the given level, column and and row.
         * @param {number} level - The level of the wanted layer
         * @param {number} column - The column of the tile
         * @param {number} row - The row of the tile
         * @returns {string} url
         **/
        urlForTile(level, column, row, compressed = true) {
            let format = this.format;
            if (compressed && this.compression) {
                let supported = Capabilities.isIOS ? 'pvr' : 'dds';
                if (this.compression.indexOf(supported) >= 0) {
                    format = supported;
                }
            }
            if (this.clip) {
                let offset = this.offsets[level];
                if (offset) {
                    let {startCol, startRow} = offset;
                    column += startCol;
                    row += startRow;
                }
            }
            let url = this.urlTileTemplate
                .replace(/\{path\}/g, this.path)
                .replace(/\{level\}/g, level)
                .replace(/\{row\}/g, row)
                .replace(/\{column\}/g, column)
                .replace(/\{format\}/g, format);
            return url
        }

        /** Loads the image for the given url and executes a callback function
        on completion.
        * @param {string} url - The url of the tile
        * @param {function} complete - The callback function
        * @returns {Image} obj
        **/
        imageForURL(url, complete) {
            let img = new Image();
            img.onload = complete.bind(this);
            img.src = url;
            return img
        }

        /** Computes the columns and rows as well as scaled width and height.
         * @param {number} level - The level of the wanted layer
         * @returns {array} [cols, rows, width, height]
         **/
        dimensions(level) {
            let dim = this.getDimensions(level);
            let tiles = this.getNumTiles(level);
            return [tiles[0], tiles[1], dim[0], dim[1]]
        }

        test() {
            //console.log("w=" + this.width + " h=" + this.height + " maxlevel=" + this.maxLevel + " base=" + this.baseLevel)
            for (let i = 0; i <= this.maxLevel; i++) {
                console.log(
                    ' ' +
                        i +
                        ' -> ' +
                        this.getScale(i) +
                        ' [' +
                        this.dimensions(i) +
                        ']'
                );
            }
            console.log(this.urlForTile(this.baseLevel, 0, 0));
        }
    }

    /**
     * A utility class that describes a quad tree of tiles. Each tile on a given
     * level has up to four corresponding tiles on the next level. A TileQuadNode
     * uses the attributes nw (i.e. northwest), ne, sw, se to link to the
     * quad nodes on the next level. The previous attributes links to the quad
     * one level below that holds the given quad as nw, ne, sw, or se.
     * We use this node class because we need a representation of tiles that are
     * needed but not loaded yet to compute tiles which can be abandoned to reduce
     * the memory pressure.
     *
     * @constructor
     * @param {level} Number - The level the quad node belongs to
     * @param {col} Number - The col of the quad
     * @param {row} Number - The level the quad node belongs to
     * @param {url} String - The level the quad node belongs to
     */
    class TileQuadNode {
        constructor(level, col, row, url) {
            this.level = level;
            this.col = col;
            this.row = row;
            this.url = url;
            this.nw = null;
            this.ne = null;
            this.sw = null;
            this.se = null;
            this.previous = null;
        }

        /** Return True if this node has no successors and can be used as
        an indicator of tiles to free.
        **/
        noQuads() {
            if (this.previous === null) return false
            return (
                this.nw === null &&
                this.ne === null &&
                this.sw === null &&
                this.se === null
            )
        }

        /** Unlink the given quad node

        * @param {node} TileQuadNode - The TileQuadNode to remove
        **/
        unlink(node) {
            if (this.nw === node) this.nw = null;
            if (this.ne === node) this.ne = null;
            if (this.sw === node) this.sw = null;
            if (this.se === node) this.se = null;
        }

        /** Link this quad node to the given previous node. Use the north
        * and west flags to address nw, ne, sw, and se.

        * @param {node} TileQuadNode - The TileQuadNode to remove
        * @param {north} Boolean - Link to north (true) or south (false)
        * @param {west} Boolean - Link to west (true) or east (false)
        **/
        link(north, west, previous) {
            this.previous = previous;
            if (north) {
                if (west) {
                    previous.nw = this;
                } else {
                    previous.ne = this;
                }
            } else {
                if (west) {
                    previous.sw = this;
                } else {
                    previous.se = this;
                }
            }
        }
    }

    /** The current Tile implementation simply uses PIXI.Sprites.
     *
     * BTW: PIXI.extras.TilingSprite is not appropriate. It should be used for
     * repeating patterns.
     **/
    class Tile extends PIXI.Sprite {
        constructor(texture) {
            super(texture);
        }
    }

    /**
     * A Tile Loader component that can be plugged into a Tiles Layer.
     */
    class TileLoader {
        constructor(tiles) {
            this.debug = false;
            this.tiles = tiles;
            this.setup();
        }

        /** Setup collections and instance vars. */
        setup() {
            this.map = new Map(); // Map {url : [ col, row]}
            this.loading = new Set(); // Set url
            this.loaded = new Map(); // Map {url : sprite }
            this.loadQueue = [];
        }

        /** Schedules a tile url for loading. The loading itself must be triggered
        by a call to loadOneTile or loadAll

        * @param {String} url - the url of the texture / tile
        * @param {Number} col - the tile col
        * @param {Number} row - the tile row
        **/
        schedule(url, col, row) {
            if (this.loaded.has(url)) return false
            if (this.loading.has(url)) return false
            this.map.set(url, [col, row]);
            this.loading.add(url);
            this.loadQueue.push(url);
            return true
        }

        /** Cancels loading by clearing the load queue **/
        cancel() {
            this.loadQueue = [];
            this.loading.clear();
        }

        /** Destroys alls collections. **/
        destroy() {
            this.setup();
        }

        /** Private method. Informs the tile layer about a texture for a given url.
         * Creates the sprite for the loaded texture and informs the tile layer.
         * @param {String} url - the url
         * @param {Object} texture - the loaded resource
         **/
        _textureAvailable(url, col, row, texture) {
            let tile = new Tile(texture);
            this.loaded.set(url, tile);
            this.tiles.tileAvailable(tile, col, row, url);
        }
    }

    /**
     * A Tile Loader component that can be plugged into a Tiles Layer.
     * Uses the PIXI Loader but can be replaced with othe loaders implementing
     * the public methods without underscore.
     * Calls the Tiles.tileAvailable method if the sprite is available.
     **/
    class PIXITileLoader extends TileLoader {

        constructor(tiles, compression) {
            super(tiles);
            this.loader = new PIXI.loaders.Loader();
            this.loader.on('load', this._onLoaded.bind(this));
            this.loader.on('error', this._onError.bind(this));
            if (compression) {
                this.loader.pre(PIXI.compressedTextures.imageParser());
            }
        }

        schedule(url, col, row) {
            // Overwritten schedule to avoid BaseTexture and Texture already loaded errors.
            let texture = PIXI.utils.TextureCache[url];
            if (texture) {
                if (this.debug) console.log('Texture already loaded', texture);
                this._textureAvailable(url, col, row, texture);
                return false
            }
            let base = PIXI.utils.BaseTextureCache[url];
            if (base) {
                if (this.debug) console.log('BaseTexture already loaded', base);
                let texture = new PIXI.Texture(base);
                this._textureAvailable(url, col, row, texture);
                return false
            }
            return super.schedule(url, col, row)
        }

        /** Load one and only one of the scheduled tiles **/
        loadOneTile() {
            this._loadOneTile();
        }

        /** Load all scheduled tiles **/
        loadAll() {
            this._loadAllTiles();
        }

        /** Destroys the loader completly **/
        destroy() {
            this.loader.reset();
            super.destroy();
        }

        _onError(loader, error) {
            console.warn('Cannot load', error);
        }

        /** Private method. Called by the PIXI loader after each successfull
         * loading of a single tile.
         * Creates the sprite for the loaded texture and informs the tile layer.
         * @param {Object} loader - the loader instance
         * @param {Object} resource - the loaded resource with url and texture attr
         **/
        _onLoaded(loader, resource) {
            try {
                let [col, row] = this.map.get(resource.url);
                this._textureAvailable(resource.url, col, row, resource.texture);
            }
            catch(err) {
                console.warn("Texture unavailable: " + err.message);
            }
        }

        /** Private method: loads one tile from the queue. **/
        _loadOneTile(retry = 1) {
            //console.log("_loadOneTile")
            if (this.loader.loading) {
                setTimeout(() => {
                    this._loadOneTile();
                }, retry);
                return
            }
            if (this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                this.loader.add(url, url);
                this.loader.load();
            }
        }

        /** Private method: loads all tiles from the queue in batches. Batches are
        helpfull to avoid loading tiles that are no longer needed because the
        user has already zoomed to a different level.**/
        _loadAllTiles(batchSize = 8, retry = 16) {
            if (this.loadQueue.length > 0) {
                if (this.loader.loading) {
                    //console.log("Loader busy", this.loadQueue.length)
                    setTimeout(() => {
                        this._loadAllTiles();
                    }, retry);
                    return
                }
                let i = 0;
                let urls = [];
                while (i < batchSize && this.loadQueue.length > 0) {
                    let url = this.loadQueue.pop();
                    if (!this.loaded.has(url)) {
                        urls.push(url);
                        i += 1;
                    }
                }
                this.loader.add(urls).load(() => this._loadAllTiles());
            }
        }
    }

    class WorkerTileLoader extends TileLoader {

        constructor(tiles) {
            super(tiles);
            let worker = this.worker = new Worker("../../lib/pixi/tileloader.js");
            worker.onmessage = (event) => {
                if (event.data.success) {
                     let {url, col, row, buffer} = event.data;
                     //console.log("WorkerTileLoader.loaded", url, buffer)
                     let CompressedImage = PIXI.compressedTextures.CompressedImage;
                     let compressed = CompressedImage.loadFromArrayBuffer(buffer, url);
                     let base = new PIXI.BaseTexture(compressed);
                     let texture = new PIXI.Texture(base);
                     this._textureAvailable(url, col, row, texture);
                }
             };
        }

        loadOne() {
            if (this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                let [col, row] = this.map.get(url);
                let tile = [col, row, url];
                this.worker.postMessage({command: "load", tiles: [tile]});
            }
        }

        loadAll() {
            let tiles = [];
            while(this.loadQueue.length > 0) {
                let url = this.loadQueue.pop();
                let [col, row] = this.map.get(url);
                tiles.push([col, row, url]);
            }
            this.worker.postMessage({command: "load", tiles});
        }

        cancel() {
            super.cancel();
            this.worker.postMessage({command: "abort"});
        }

        destroy() {
            this.worker.postMessage({command: "abort"});
            this.worker.terminate();
            this.worker = null;
            super.destroy();
        }
    }
    /**
     * A layer of tiles that represents a zoom level of a DeepZoomImage as a grid
     * of sprites.
     * @constructor
     * @param {number} level - the zoom level of the tile layer
     * @param {DeepZoomImage} view - the zoomable image the layer belongs to
     * @param {number} scale - the scale of the tile layer
     * @param {number} cols - the number of columns of the layer
     * @param {number} rows - the number of rows of the layer
     * @param {number} width - the width of the layer in pixel
     * @param {number} height - the height of the layer in pixel
     * @param {number} tileSize - the size of a single tile in pixel
     * @param {number} overlap - the overlap of the tiles in pixel
     * @param {number} fadeInTime - time needed to fade in tiles if TweenLite is set
     **/
    class Tiles extends PIXI.Container {
        constructor(
            level,
            view,
            scale,
            cols,
            rows,
            width,
            height,
            tileSize,
            overlap,
            fadeInTime = 0.25
        ) {
            super();
            this.debug = false;
            this.showGrid = false;
            this.view = view;
            this.level = level;
            this.cols = cols;
            this.rows = rows;
            this.pixelWidth = width;
            this.pixelHeight = height;
            this.tileSize = tileSize;
            this.overlap = overlap;
            this.needed = new Map(); // url as key, [col, row] as value
            this.requested = new Set();
            this.available = new Map();
            this.scale.set(scale, scale);
            this.tileScale = scale;
            this.fadeInTime = fadeInTime;
            this.keep = false;
            if (this.view.preferWorker && view.info.compression.length>0)
                this.loader = new WorkerTileLoader(this);
            else
                this.loader = new PIXITileLoader(this, view.info.compression);
            this.interactive = false;
            this._highlight = null;
            this.pprint();
        }

        /** Tests whether all tiles are loaded. **/
        isComplete() {
            return this.cols * this.rows === this.children.length
        }

        /** Returns the highligh graphics layer for debugging purposes.
         **/
        get highlight() {
            if (this._highlight == null) {
                let graphics = new PIXI.Graphics();
                graphics.beginFill(0xffff00, 0.1);
                graphics.lineStyle(2, 0xffff00);
                graphics.drawRect(1, 1, tileSize - 2, tileSize - 2);
                graphics.endFill();
                graphics.interactive = false;
                this._highlight = graphics;
            }
            return this._highlight
        }

        /** Helper method pretty printing debug information. **/
        pprint() {
            if (this.debug)
                console.log(
                    'Tiles level: ' +
                        this.level +
                        ' scale: ' +
                        this.scale.x +
                        ' cols: ' +
                        this.cols +
                        ' rows: ' +
                        this.rows +
                        ' w: ' +
                        this.pixelWidth +
                        ' h: ' +
                        this.pixelHeight +
                        ' tsize:' +
                        this.tileSize
                );
        }

        /** Computes the tile position and obeys the overlap.
         * @param {number} col - The column of the tile
         * @param {number} row - The row of the tile
         * @returns {PIXI.Point} obj
         **/
        tilePosition(col, row) {
            let x = col * this.tileSize;
            let y = row * this.tileSize;
            let overlap = this.overlap;
            if (col != 0) {
                x -= overlap;
            }
            if (row != 0) {
                y -= overlap;
            }
            return new PIXI.Point(x, y)
        }

        /** Computes the tile size without overlap
         * @param {number} col - The column of the tile
         * @param {number} row - The row of the tile
         * @returns {PIXI.Point} obj
         **/
        tileDimensions(col, row) {
            let w = this.tileSize;
            let h = this.tileSize;
            let pos = this.tilePosition(col, row);
            if (col == this.cols - 1) {
                w = this.pixelWidth - pos.x;
            }
            if (row == this.rows - 1) {
                h = this.pixelHeight - pos.y;
            }
            return new PIXI.Point(w, h)
        }

        /** Method to support debugging. Highlights the specified tile at col, row **/
        highlightTile(col, row) {
            if (col > -1 && row > -1 && col < this.cols && row < this.rows) {
                let graphics = this.highlight;
                let dim = this.tileDimensions(col, row);
                graphics.position = this.tilePosition(col, row);
                graphics.clear();
                graphics.beginFill(0xff00ff, 0.1);
                graphics.lineStyle(2, 0xffff00);
                graphics.drawRect(1, 1, dim.x - 2, dim.y - 2);
                graphics.endFill();
                this.addChild(this.highlight);
            } else {
                this.removeChild(this.highlight);
            }
        }

        /** Loads the tiles for the given urls and adds the tiles as sprites.
         * @param {array} urlpos - An array of URL, pos pairs
         * @param {boolean} onlyone - Loads only on tile at a time if true
         **/
        loadTiles(urlpos, onlyone, refCol, refRow) {
            if (this.showGrid) {
                this.highlightTile(refCol, refRow);
            }
            urlpos.forEach(d => {
                let [url, col, row] = d;
                if (this.loader.schedule(url, col, row)) {
                    if (onlyone) {
                        return this.loader.loadOneTile()
                    }
                }
            });
            this.loader.loadAll();
        }

        /** Private method: add a red border to a tile for debugging purposes. **/
        _addTileBorder(tile, col, row) {
            let dim = this.tileDimensions(col, row);
            let graphics = new PIXI.Graphics();
            graphics.beginFill(0, 0);
            graphics.lineStyle(2, 0xff0000);
            graphics.drawRect(1, 1, dim.x - 2, dim.y - 2);
            graphics.endFill();
            tile.addChild(graphics);
        }

        /** Adds a tile. **/
        addTile(tile, col, row, url) {
            if (this.available.has(url)) return
            this.addChild(tile);
            this.available.set(url, tile);
        }

        //    * Remove a tile. **/
        //     removeTile(col, row, url) {
        //         if (this.available.has(url)) {
        //             let tile = this.available.get(url)
        //             this.removeChild(tile)
        //             tile.destroy(true)
        //             if (this.debug) console.log("Destroyed tile", url)
        //             this.available.delete(url)
        //         }
        //     }

        /** Called by the loader after each successfull loading of a single tile.
         * Adds the sprite to the tile layer.
         * @param {Object} tile - the loaded tile sprite
         * @param {Number} col - the col position
         * @param {Number} row - the rowposition
         **/
        tileAvailable(tile, col, row, url) {
            let pos = this.tilePosition(col, row);
            if (this.showGrid) {
                this._addTileBorder(tile, col, row);
            }
            tile.position = pos;
            tile.interactive = false;
            if (TweenMax) {
                tile.alpha = 0;
                TweenMax.to(tile, this.fadeInTime, {alpha: this.alpha});
            }
            this.addTile(tile, col, row, url);
        }

        /** Destroys the tiles layer and    destroys the loader. Async load calls are
         * cancelled.
         **/
        destroy() {
            this.loader.destroy();
            //app.renderer.textureGC.unload(this)
            super.destroy(true); // Calls destroyChildren
            this.available.clear();
        }

        /* Destroys the tiles which are not with the bounds of the app to free
        * memory.
        **/
        destroyTiles(quadTrees) {
            let count = 0;
            for (let [url, tile] of this.available.entries()) {
                if (!quadTrees.has(url)) {
                    this.removeChild(tile);
                    tile.destroy(true);
                    this.requested.delete(url);
                    this.available.delete(url);
                    count += 1;
                }
            }
            if (count && this.debug)
                console.log('destroyObsoleteTiles', this.level, count);
        }

        tintTiles(quadTrees) {
            for (let [url, tile] of this.available.entries()) {
                if (!quadTrees.has(url)) tile.tint = 0xff0000;
            }
        }

        untintTiles() {
            for (let [url, tile] of this.available.entries()) {
                tile.tint = 0xffffff;
            }
        }
    }

    /**
    * The main class of a deeply zoomable image that is represented by a hierarchy
    * of tile layers for each zoom level. This gives the user the impression that
    * even huge pictures (up to gigapixel-images) can be zoomed instantaneously,
    * since the tiles at smaller levels are scaled immediately and overloaded by
    * more detailed tiles at the larger level as fast as possible.

    * @constructor
    * @param {DeepZoomInfo} deepZoomInfo - Information extracted from a JSON-Object
    */
    class DeepZoomImage extends PIXI.Container {
        constructor(
            deepZoomInfo,
            {
                debug = false,
                shadow = false,
                center = false,
                highResolution = true,
                autoLoadTiles = true,
                preferWorker = false,
                minimumLevel = 0,
                alpha = 1
            } = {}
        ) {
            super();
            this.debug = debug;
            this.shadow = shadow;
            this.preferWorker = preferWorker;
            this.resolution = highResolution
                ? Math.round(window.devicePixelRatio)
                : 1;
            this.alpha = alpha;
            this.fastLoads = 0;
            this.autoLoadTiles = autoLoadTiles;
            this.minimumLevel = minimumLevel;
            this.quadTrees = new Map(); // url as keys, TileQuadNodes as values
            this.setup(deepZoomInfo, center);
            if (debug) {
                console.log('DeepZoomImage.constructor', minimumLevel);
                console.log("   prefers worker loader");
            }
        }

        /** Reads the DeepZoomInfo object and initializes all tile layers.
         * Called by the constructor.
         * Creates the sprite for the loaded texture and add the sprite to the tile
         * layer.
         * @param {Object} deepZoomInfo - the DeepZoomInfo instance
         * @param {boolean} center - If true ensures that the pivot is set to the center
         **/
        setup(deepZoomInfo, center) {
            this.info = deepZoomInfo;
            this.interactive = true;
            this.tileLayers = {};

            this._foreground = null;
            this.tileContainer = new PIXI.Container();
            this.tileContainer.interactive = false;

            let [w, h] = this.baseSize;
            if (this.shadow) {
                this.filters = [new PIXI.filters.DropShadowFilter(45, 3)];
            }
            this.addChild(this.tileContainer);

            if (deepZoomInfo.clip) {
                let mask = new PIXI.Graphics();
                mask.beginFill(1, 1);
                mask.drawRect(0, 0, w, h);
                mask.endFill();
                this.mask = mask;
                mask.alpha= 0;
                this.addChild(mask);
                this.minimumLevel = deepZoomInfo.baseLevel;
            }
            this.currentLevel = Math.max(this.minimumLevel, deepZoomInfo.baseLevel);
            if (this.autoLoadTiles) {
                this.setupTiles(center);
            }
        }

        /** Default setup method for tiles. Loads all tiles of the current level.
        Can be overwritten in subclasses.
        @param {boolean} center - If true ensures that the pivot is set to the center
        **/
        setupTiles(center = false) {
            // First load background tile
            let tiles = this.ensureAllTiles(this.currentLevel);
            if (center) {
                this.pivot.set(w / 2, h / 2);
            }
            let scaleLevel = this.levelForScale(1);
            this.ensureAllTiles(scaleLevel);
        }

        removeTileQuadNode(level, col, row, url) {
            if (this.quadTrees.has(url)) {
                let quad = this.quadTrees.get(url);
                this.tileQuadRemoved(quad);
                this.quadTrees.delete(url);
            }
        }

        addTileQuadNode(level, col, row, url) {
            if (this.quadTrees.has(url)) return this.quadTrees.get(url)
            let quad = new TileQuadNode(level, col, row, url);
            this.quadTrees.set(url, quad);
            this.tileQuadAdded(quad);
            return quad
        }

        tileQuadRemoved(quad) {
            let below = quad.previous;
            // if (this.debug) console.log("tileQuadRemoved", quad)
            if (below) {
                below.unlink(quad);
                if (below.noQuads()) {
                    if (this.debug) console.log('Removed tile below');
                    let levelBelow = quad.level - 1;
                    if (levelBelow < this.minimumLevel) return
                    let c = Math.floor(quad.col / 2);
                    let r = Math.floor(quad.row / 2);
                    let urlBelow = this.info.urlForTile(levelBelow, c, r);
                    if (this.quadTrees.has(urlBelow)) {
                        this.removeTileQuadNode(levelBelow, c, r, urlBelow);
                    }
                }
            }
        }

        tileQuadAdded(quad) {
            let levelBelow = quad.level - 1;
            if (levelBelow < this.minimumLevel) return
            //if (this.debug) console.log("tileQuadAdded", quad)
            let c = Math.floor(quad.col / 2);
            let r = Math.floor(quad.row / 2);
            let urlBelow = this.info.urlForTile(levelBelow, c, r);
            let below = null;
            if (!this.quadTrees.has(urlBelow)) {
                below = this.addTileQuadNode(levelBelow, c, r, urlBelow);
                quad.link(isEven(quad.row), isEven(quad.col), below);
            }
        }

        /** Returns the tile layer level that corresponds to the given scale.
         * @param {number} scale - the scale factor
         **/
        levelForScale(scale) {
            let level = Math.round(Math.log2(scale * this.resolution)); // Math.floor(Math.log2(event.scale))+1
            let newLevel = this.info.baseLevel + Math.max(level, 0);
            return Math.min(newLevel, this.info.maxLoadableLevel)
        }


        /** Adds a tile layer to the DeepZoomImage.
         * @param {string} key - the access key
         * @param {Tiles} tiles - the tile layer object
         **/
        addTiles(key, tiles) {
            this.tileContainer.addChild(tiles);
            this.tileLayers[key] = tiles;
        }

        /** Getter for PIXI.Container foreground layer.
         * Adds a PIXI.Container if necessary.
         **/
        get foreground() {
            if (this._foreground == null) {
                this._foreground = new PIXI.Container();
                this.addChild(this._foreground);
            }
            return this._foreground
        }

        /** Getter for the DeepZoomInfo base level size.
         **/
        get baseSize() {
            return this.info.getDimensions(this.info.baseLevel)
        }

        /** Getter for the current scaled size in pixels.
         **/
        get pixelSize() {
            let [w, h] = this.baseSize;
            return [w * this.scale.x, h * this.scale.y]
        }

        /** Getter for the max scale factor.
         **/
        get maxScale() {
            let delta = this.info.maxLevel - this.info.baseLevel;
            return Math.pow(2, delta) / this.resolution * 2
        }

        /** Getter for the current width.
         **/
        get width() {
            return this.pixelSize[0]
        }

        /** Getter for the current height.
         **/
        get height() {
            return this.pixelSize[1]
        }
        

        /* Overrides PIXI.Container.hitArea()
         * Allows to optimize the hit testing. Container with hit areas are directly
         * hit tested without consideration of children.
         */
        get hitArea() {
            // Defining the hitArea resulted hitting the scatter in masked area
            // when a mask was used (@Tsch[submaps]). Removing the hitArea() altogether
            // broke the interaction in other projects (@googleart). 
            // Fix: When masked, the hitArea is ignored by returning null.
            // TODO: test if childs are hittested, without setting interactiveChildren.
            // Opel, 03-05-2018
            if(this.mask){
                return null
            }
            return this
        }

        /* Overrides PIXI.Container.contains()
         * Allows to optimize the hit testing.
         */
        contains(x, y) {
            let [w, h] = this.baseSize;
            return x >= 0 && x <= w && y >= 0 && y <= h
        }

        /** Overrides PIXI.Container._calculateBounds()
         * Only considers the base size and reduces the calculation to a single
         * rect.
         */
        _calculateBounds() {
            let [w, h] = this.baseSize;
            this._bounds.addFrame(this.transform, 0, 0, w, h);
        }

        /** Overrides PIXI.Container.calculateBounds()
         * Skips the children and only considers the deep zoom base size. Calls
         * the also overwritten _calculateBounds method.
         */
        calculateBounds() {
            this._bounds.clear();
            this._calculateBounds();
            this._lastBoundsID = this._boundsID;
        }

        /** Returns a single sprite that can be used a thumbnail representation of
         * large images.
         * @return {Sprite} sprite - A sprite with a single tile texture
         */
        thumbnail() {
            return new PIXI.Sprite.fromImage(this.info.baseURL)
        }

        /** Returns a list of all tiles of a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @return {Array[]} - An array of [url, col, row] arrays
         **/
        allTiles(tiles, level) {
            let result = [];
            for (let col = 0; col < tiles.cols; col++) {
                for (let row = 0; row < tiles.rows; row++) {
                    let url = this.info.urlForTile(level, col, row);
                    result.push([url, col, row]);
                }
            }
            return result
        }

        /** Loads all tiles that are needed to fill the app bounds.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @param {boolean} debug
         * @return {Array[]} - An array of [url, col, row] arrays
         */
        neededTiles(tiles, level, debug = false) {
            let result = [];
            let tsize = tiles.tileSize;
            let domBounds = app.view.getBoundingClientRect();
            let maxWidth = domBounds.width;
            let maxHeight = domBounds.height;
            let offset = tsize;
            let bounds = new PIXI.Rectangle(
                -offset,
                -offset,
                maxWidth + 2 * offset,
                maxHeight + 2 * offset
            );
            let scaledTileSize = tsize * tiles.tileScale;
            let pointInWindow = new PIXI.Point();

            let worldTransform = this.worldTransform;
            let worldCenter = new PIXI.Point(maxWidth / 2, maxWidth / 2);

            let tilesCenter = this.toLocal(worldCenter);
            /* UO: we need a toLocal call here since the transform may need an update
            which is guaranteed by the toLocal method. */
            let centerCol = Math.round(tilesCenter.x / scaledTileSize);
            let centerRow = Math.round(tilesCenter.y / scaledTileSize);

            let maxTilesWidth =
                Math.ceil(maxWidth / tiles.tileSize / 2 + 6) * this.resolution;
            let maxTilesHeight =
                Math.ceil(maxHeight / tiles.tileSize / 2 + 4) * this.resolution;

            let startCol = Math.max(0, centerCol - maxTilesWidth);
            let endCol = Math.min(tiles.cols, centerCol + maxTilesWidth);

            let startRow = Math.max(0, centerRow - maxTilesHeight);
            let endRow = Math.min(tiles.rows, centerRow + maxTilesHeight);

            for (let col = startCol; col < endCol; col++) {
                let cx = (col + 0.5) * scaledTileSize;
                for (let row = startRow; row < endRow; row++) {
                    let cy = (row + 0.5) * scaledTileSize;
                    let tileCenter = new PIXI.Point(cx, cy);
                    // This replaces the more traditional this.toGlobal(center, pointInWindow, true)
                    worldTransform.apply(tileCenter, pointInWindow);
                    if (bounds.contains(pointInWindow.x, pointInWindow.y)) {
                        let url = this.info.urlForTile(level, col, row);
                        result.push([url, col, row]);
                    }
                }
            }
            return result
        }

        /** Returns all changed tiles for a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * @return {object} - An object with the keys added and removed which values are [url, col, row] arrays
         */
        changedTiles(tiles, level) {
            if (this.debug) console.time('changedTiles');
            let changed = {added: [], removed: []};
            if (!tiles.isComplete()) {
                let newNeeded = new Map();
                let needed = this.neededTiles(tiles, level);
                needed.forEach(d => {
                    let [url, col, row] = d;
                    newNeeded.set(url, [col, row]);
                    if (!tiles.requested.has(url)) {
                        changed.added.push(d);
                    }
                });
                for (let url of tiles.needed.keys()) {
                    if (!newNeeded.has(url)) {
                        let [col, row] = tiles.needed.get(url);
                        changed.removed.push([url, col, row]);
                    }
                }
                tiles.needed = newNeeded;
                if (this.debug) console.log(newNeeded);
            }
            if (this.debug) console.timeEnd('changedTiles');

            return changed
        }

        /** Populates all tiles for a given level.
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         */
        populateAllTiles(tiles, level) {
            let all = this.allTiles(tiles, level);
            for (let [url, col, row] of all) {
                this.addTileQuadNode(level, col, row, url);
            }
            tiles.loadTiles(all, false, 0, 0);
        }

        /** Loads all tiles that are needed to fill the browser window.
         * If the optional about parameter is provided (as a point with col as x,
         * and row as y attr) the tiles are sorted by the distance to this point.
         *
         * @param {Tiles} tiles - the grid of tiles
         * @param {number} level - The zoom level of the grid
         * Optional parameter:
         * @param {boolean} onlyone - if true only one tile is loaded
         * @param {PIXI.Point} about - point of interaction
         */
        populateTiles(tiles, level, {onlyone = false, about = null} = {}) {
            let changed = this.changedTiles(tiles, level);
            let removed = changed.removed;
            for (let [url, col, row] of removed) {
                this.removeTileQuadNode(level, col, row, url);
            }
            let added = changed.added;
            if (added.length == 0) return
            for (let [url, col, row] of added) {
                this.addTileQuadNode(level, col, row, url);
            }
            let referenceCol = -1;
            let referenceRow = -1;
            if (about != null) {
                // We want to load tiles in the focus of the user first, therefore
                // we sort according to the distance of the focus of interaction
                let refPoint = this.toLocal(about);
                let scaledTileSize = tiles.tileSize * tiles.tileScale;

                referenceCol = Math.floor(refPoint.x / scaledTileSize);
                referenceRow = Math.floor(refPoint.y / scaledTileSize);

                let ref = new PIXI.Point(referenceCol, referenceRow);

                // Note: The array must be sorted in a way that the nearest tiles
                // are at the end of the array since the load queue uses Array.push
                // Array.pop

                added.sort((a, b) => {
                    let aa = new PIXI.Point(a[1], a[2]);
                    let bb = new PIXI.Point(b[1], b[2]);
                    let da = Points.distance(aa, ref);
                    let db = Points.distance(bb, ref);
                    return db - da
                });
                //console.log("sorted populateTiles",  referenceCol, referenceRow, missing)
            }
            //console.log("populateTiles " +  missing.length)
            tiles.loadTiles(added, onlyone, referenceCol, referenceRow);
        }

        /** Private method: creates all tiles for a given level.
         * @param {number} level - The zoom level of the grid
         * @return {Tiles} - tiles
         */
        _createTiles(key, level) {
            let [cols, rows, w, h] = this.info.dimensions(level);
            let increasedLevels = level - this.info.baseLevel;
            let invScale = Math.pow(0.5, increasedLevels);
            let tiles = new Tiles(
                level,
                this,
                invScale,
                cols,
                rows,
                w,
                h,
                this.info.tileSize,
                this.info.overlap
            );
            this.addTiles(key, tiles);
            if (this.info.clip) {
                let rest = this.info.rests[level];
                if (rest) {
                    let x = rest.restCol * this.info.tileSize * invScale;
                    let y = rest.restRow * this.info.tileSize * invScale;
                    tiles.x = -x;
                    tiles.y = -y;
                }
            }
            return tiles
        }

        /** Ensures that all needed tiles of a given level are loaded. Creates
         * a new Tiles layer if necessary
         * @param {number} level - The zoom level of the grid
         * @return {Tiles} tiles
         */
        ensureTiles(level, about) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
                this.populateTiles(tiles, level, {about: about});
                return tiles
            }
            let tiles = this._createTiles(key, level);
            this.populateTiles(tiles, level, {about: about});
            //console.log("ensureTiles", level)
            return tiles
        }

        untintTiles(level) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
            }
        }

        /** Ensures that all tiles of a given level are loaded.
         * @param {number} level - The zoom level of the grid
         */
        ensureAllTiles(level) {
            let key = level.toString();
            if (key in this.tileLayers) {
                let tiles = this.tileLayers[key];
                this.populateAllTiles(tiles, level);
                tiles.keep = true;
                return
            }
            let tiles = this._createTiles(key, level);
            this.populateAllTiles(tiles, level);
            tiles.keep = true;
            return tiles
        }

        /** Destroys all tiles above a given level to ensure that the memory can
         * be reused.
         * @param {number} level - The zoom level of the grid
         */
        destroyTilesAboveLevel(level) {
            Object.keys(this.tileLayers).forEach(key => {
                let tiles = this.tileLayers[key];
                if (tiles.level > level && !tiles.keep) {
                    for (let url of tiles.available.keys()) {
                        let quad = this.quadTrees.get(url);
                        if (quad) this.removeTileQuadNode(quad);
                    }
                    this.tileContainer.removeChild(tiles);
                    tiles.destroy();
                    delete this.tileLayers[key];
                }
            });
        }

        destroyTiles() {
            return
            // UO: This is buggy
            // Object.keys(this.tileLayers).forEach(key => {
            //     let tiles = this.tileLayers[key]
            //     if (!tiles.keep) tiles.destroyTiles(this.quadTrees)
            // })
        }

        /* Tint all tiles
        * @param {number} level - The zoom level of the grid
        */
        tintTilesBelowLevel(level) {
            Object.keys(this.tileLayers).forEach(key => {
                let tiles = this.tileLayers[key];
                if (tiles.level < level) {
                    tiles.tintTiles(this.quadTrees);
                }
            });
        }

        _eventLevel(event) {
            return this.levelForScale(event.scale)
        }

        /** A callback function that can be used by a Scatter view to inform
         * the zoomable image that it has been moved, rotated or scaled, and should
         * load tiles accordingly.
         * @param {PIXI.Point} translated - the movement of the scatter
         * @param {number} scale - the zoom factor
         * @param {PIXI.Point} about - the anchor point of the zoom
         * @param {boolean} fast - informs the callback to return as fast as possible,
         *  i.e. after loading a single tile
         * @param {boolean} debug - log debug infos
         */
        transformed(event) {
            // console.log("DeepZoom.transformed", event)
            let key = this.currentLevel.toString();
            let currentTiles = this.tileLayers[key];
            if (event.fast) {
                this.fastLoads += 1;
                this.populateTiles(currentTiles, this.currentLevel, {
                    onlyone: false,
                    about: event.about
                });
                this.destroyTiles();
                return
            }
            if (event.scale == null) {
                this.ensureTiles(this.currentLevel, event.about);
                return
            }
            let newLevel = Math.max(this._eventLevel(event), this.minimumLevel);
            if (newLevel != this.currentLevel) {
                if (!currentTiles.keep) currentTiles.loader.cancel();
                this.destroyTilesAboveLevel(newLevel);
                if (this.debug) this.tintTilesBelowLevel(newLevel);
                this.destroyTiles();
                let tiles = this.ensureTiles(newLevel, event.about);
                tiles.untintTiles();
                this.currentLevel = newLevel;
            } else {
                this.ensureTiles(this.currentLevel, event.about);
                this.destroyTiles();
            }

            if (this._foreground) {
                this.addChild(this._foreground);
            }
        }
    }

    let globalScatterLoaderCanvas = null;

    class ScatterLoader extends CardLoader {

        get scatter() {
            return this.src
        }

        unscaledSize() {
            let displayObject = this.scatter.displayObject;
            let w = displayObject.width;
            let h = displayObject.height;
            return [w / displayObject.scale.x, h / displayObject.scale.y]
        }

        scaledSize() {
            let displayObject = this.scatter.displayObject;
            let w = displayObject.width;
            let h = displayObject.height;
            return [w, h]
        }

        cloneScatterImage() {
            let w = this.scatter.width;
            let h = this.scatter.height;
            let isSprite = this.scatter.displayObject instanceof PIXI.Sprite;
            let isDeepZoom = this.scatter.displayObject instanceof DeepZoomImage;
            let resolution = app.renderer.resolution;
            if (isSprite) {
                w = this.scatter.displayObject.texture.width;
                h = this.scatter.displayObject.texture.height;
            }
            else if (isDeepZoom) {
                let [ww, hh] = this.scatter.displayObject.baseSize;
                w = ww;
                h = hh;
            }
            if (globalScatterLoaderCanvas === null) {
                globalScatterLoaderCanvas = document.createElement('canvas');
            }
            let canvas = globalScatterLoaderCanvas;
            canvas.width = w;
            canvas.height = h;
            let renderer = new PIXI.WebGLRenderer(w, h, {
                                        view: canvas,
                                        resolution: resolution});

            let displayObject = this.scatter.displayObject;
            let x = displayObject.x;
            let y = displayObject.y;
            let rot = displayObject.rotation;
            let sx = displayObject.scale.x;
            let sy = displayObject.scale.y;
            displayObject.rotation = 0;
            // The Safari WebGLRenderer wants everything flipped
            // See https://github.com/pixijs/pixi.js/issues/2283
            displayObject.x = 0;
            if (Capabilities.isSafari) {
                displayObject.y = h;
                displayObject.scale.set(1, -1); // sx, -sy)
            }
            else {
                displayObject.y = 0;
                displayObject.scale.set(1, 1);
            }
            if (isSprite) {
                displayObject.width = w;
                displayObject.height = h;
            }
            renderer.render(displayObject);
            displayObject.rotation = rot;
            displayObject.x = x;
            displayObject.y = y;
            displayObject.scale.set(sx, sy);

            let url = canvas.toDataURL();
            return [x, y, w, h, url]
        }

        load(domNode) {
            return new Promise((resolve, reject) => {
                let isImage = domNode instanceof HTMLImageElement;
                let isSprite = this.scatter.displayObject instanceof PIXI.Sprite;
                let image = (isImage) ? domNode : document.createElement("img");
                let [x, y, w, h, cloneURL] = this.cloneScatterImage();
                let [ww, hh] = this.unscaledSize();
                image.onload = (e) => {
                    if (!isImage)
                        domNode.appendChild(image);
                    this.x = x;
                    this.y = y;
                    this.wantedWidth = ww;
                    this.wantedHeight = hh;
                    this.scale = 1;
                    this.rotation = this.scatter.rotation;
                    resolve(this);
                };
                image.onerror = (e) => {
                    reject(this);
                };
                image.src = cloneURL;
                })
        }

    }

    class FlipEffect {

        constructor(scatter, domScatterContainer, flipTemplate, backLoader) {
            this.flipped = false;
            this.scatter = scatter;
            this.backLoader = backLoader;
            this.scatterLoader = new ScatterLoader(scatter);
            this.domFlip = new DOMFlip(domScatterContainer, flipTemplate,
                                        this.scatterLoader,
                                        backLoader, {
                                            onBack: this.backCardClosed.bind(this)
                                        });
            this.setupInfoButton();
        }

        startFlip() {
            let center = this.flipCenter();
            let loader = this.backLoader;
            this.domFlip.load().then((domFlip) => {
                this.scatter.displayObject.visible = false;
                domFlip.centerAt(center);
                domFlip.zoom(this.scatter.scale);
                let target = this.constraintFlipCenter(center, loader);
                console.log("FlipEffect.startFlip", target, loader);
                domFlip.start({targetCenter: target});
            });
        }

        unscaledSize() {
            return this.scatterLoader.unscaledSize()
        }

        flipCenter() {
            let isSprite = this.scatter.displayObject instanceof PIXI.Sprite;
            let resolution = (isSprite) ? app.renderer.resolution : 1;
            let center = this.scatter.center;
            let canvas = app.renderer.view;
            let domNode = this.domFlip.domScatterContainer.element;
            let page = window.convertPointFromNodeToPage(canvas,
                                                            center.x*resolution,
                                                            center.y*resolution);
            let local = window.convertPointFromPageToNode(domNode, page.x, page.y);
            return local
        }

        constraintFlipCenter(center, loader) {
            let w = loader.wantedWidth;
            let h = loader.wantedHeight;
            console.log("constraintFlipCenter", w, h);
            let canvas = app.renderer.view;
            let x = center.x;
            let y = center.y;
            if (x < w/2)
                x = w/2;
            if (y < h/2)
               y = h/2;
            if (x > canvas.width)
                x = canvas.width - w/2;
            if (y > canvas.height)
                y = canvas.height - h/2;
            return { x, y }
        }

        setupInfoButton() {
            let iscale = 1.0 / this.scatter.scale;
            this.infoBtn = new PIXI.Graphics();
            this.infoBtn.beginFill(0x333333);
            this.infoBtn.lineStyle(4, 0xFFFFFF);
            this.infoBtn.drawCircle(0, 0, 22);
            this.infoBtn.endFill();

            this.infoBtn.beginFill(0xFFFFFF);
            this.infoBtn.lineStyle(0);
            this.infoBtn.drawCircle(0, -8, 4);
            this.infoBtn.endFill();

            this.infoBtn.lineStyle(6, 0xFFFFFF);
            this.infoBtn.moveTo(0, -2);
            this.infoBtn.lineTo(0, 14);
            this.infoBtn.endFill();

            this.infoBtn.on('click', (e) => { this.infoSelected(); });
            this.infoBtn.on('tap', (e) => { this.infoSelected(); });

            this.infoBtn.interactive = true;
            this.infoBtn.width = 44;
            this.infoBtn.height = 44;
            this.infoBtn.pivot.x = 30;
            this.infoBtn.pivot.y = 30;

            let displayObject = this.scatter.displayObject;
            let [w, h] = this.unscaledSize();
            this.infoBtn.position = new PIXI.Point(w, h);
            if (displayObject.foreground) {
                this.infoBtn.scale.x = iscale;
                this.infoBtn.scale.y = iscale;
                displayObject.foreground.addChild(this.infoBtn);
            }
            else {
                displayObject.addChild(this.infoBtn);
            }

            this.scatter.addTransformEventCallback(e => {
                let displayObject = this.scatter.displayObject;
                if (displayObject.foreground) {
                    if (e.scale) {
                        let iscale = 1.0 / e.scale;
                        this.infoBtn.scale.x = iscale;
                        this.infoBtn.scale.y = iscale;
                    }
                }
            });
        }

        setupButton(url) {
            let svgImage = new Image();
            let canvas = document.createElement('canvas');
            canvas.width = 88 * 4;
            canvas.height = 44 * 4;
            svgImage.onload = e => {
                let displayObject = this.scatter.displayObject;
                canvas.getContext ('2d').drawImage(svgImage, 0, 0,
                                                canvas.width, canvas.height);
                let texure = new PIXI.Texture(new PIXI.BaseTexture(canvas));
                this.infoBtn = new PIXI.Sprite(texure);
                this.infoBtn.anchor.set(0.5, 0.5);
                if (displayObject.foreground) {
                    displayObject.foreground.addChild(this.infoBtn);
                }
                else {
                    displayObject.addChild(this.infoBtn);
                }
                this.infoBtn.scale.set(0.5, 0.5);

                let [w, h] = this.unscaledSize();
                this.infoBtn.position = new PIXI.Point(w, h);
                this.infoBtn.interactive = true;
                this.infoBtn.updateTransform();
                this.infoBtn.on('click', (e) => { this.infoSelected(); });
                this.infoBtn.on('tap', (e) => { this.infoSelected(); });
            };
            svgImage.src = url;
        }

        infoSelected() {
            this.startFlip();
        }

        backSelected() {
            this.domFlip.start();
        }

        backCardClosed() {
            /*** The flip effect should now be in it's initial state again. All
            memory should be freed. ***/
            let displayObject = this.scatter.displayObject;
            displayObject.visible = true;
            this.domFlip.fadeOutAndRemove();
            this.flipped = false;
        }

        targetRotation(alpha) {
            let ortho = 90;
            let rest = alpha % ortho;
            let delta = 0.0;
            if (rest > (ortho / 2.0)) {
                delta = ortho - rest;
            }
            else {
                delta = -rest;
            }
            return delta
        }
    }

    /* globals Power2, Sine */
    /*eslint no-console: ["error", { allow: ["log", "info", "error"] }]*/

    /**
     * Callback for the flippable onStart function.
     *
     * @callback onStartCallback
     * @param {Flippable} flippable - A reference to the flippable (also this refers to the flippable).
     */

    /**
     * Callback for the flippable onUpdate function.
     *
     * @callback onUpdateCallback
     * @param {Flippable} flippable - A reference to the flippable (also this refers to the flippable).
     */

    /**
     * Callback for the flippable onComplete function.
     *
     * @callback onCompleteCallback
     * @param {Flippable} flippable - A reference to the flippable (also this refers to the flippable).
     */

    /**
     * Class that represents a PixiJS Flippable.
     *
     * @example
     * const front = PIXI.Sprite.fromImage('./assets/front.jpg')
     * const back = PIXI.Sprite.fromImage('./assets/back.jpg')
     * app.scene.addChild(front)
     * 
     * // Create the flippable
     * const flippable = new Flippable(front, back, app.renderer)
     * 
     * front.interactive = true
     * front.on('click', event => flippable.toggle())
     *
     * @class
     * @extends PIXI.projection.Camera3d
     * @see {@link https://github.com/pixijs/pixi-projection|PixiJS Projection}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/flippable.html|DocTest}
     */
    class Flippable extends PIXI.projection.Camera3d {

        /**
         * Creates an instance of a Flippable.
         *
         * @constructor
         * @param {PIXI.DisplayObject} front - The object to show initially. Should have been added to the scene.
         * @param {PIXI.DisplayObject} back - The object to show on the backside. Should have not been added to the scene.
         * @param {PIXI.WebGLRenderer|PIXI.CanvasRenderer} renderer - The renderer of the application.
         * @param {object} [opts] - An options object which can contain the following properties.
         * @param {number} [opts.duration=1] - The duration of the flip animation in seconds.
         * @param {GSAP.Ease} [opts.ease=Power2.easeOut] - The ease of the flip animation.
         * @param {boolean} [opts.shadow=false] - Should be a shadow been display during the animation?
         * @param {numer} [opts.eulerX=0] - The shift of the x-axis during the animation.
         * @param {numer} [opts.eulerY=0] - The shift of the y-axis during the animation.
         * @param {GSAP.Ease} [opts.eulerEase=Sine.easeOut] - The ease of the shift.
         * @param {boolean} [opts.useBackTransforms=false] - When set to true, the flip animation also animates to the transform parameters of the back-object.
         * @param {GSAP.Ease} [opts.transformEase=Power2.easeOut] - The ease of the transform.
         * @param {numer} [opts.focus=800] - The value of the focus of the 3D camera (see pixi-projection).
         * @param {numer} [opts.near=10] - The near value of the 3D camera (see pixi-projection).
         * @param {numer} [opts.far=10000] - The far value of the 3D camera (see pixi-projection).
         * @param {boolean} [opts.orthographic=false] - Should the flip animation be an orthographic animation?
         * @param {function} [opts.onStart=null] - A callback executed on start of the flip animation.
         * @param {function} [opts.onUpdate=null] - A callback executed on each step of the flip animation.
         * @param {function} [opts.onComplete=null] - A callback executed when the flip animation is finished.
         */
        constructor(front, back, renderer, opts = {}) {

            super();

            this.opts = Object.assign({}, {
                front,
                back,
                renderer,
                duration: 1,
                ease: Power2.easeOut,
                shadow: false,
                eulerX: 0,
                eulerY: 0,
                eulerEase: Sine.easeOut,
                useBackTransforms: false,
                transformEase: Power2.easeOut,
                focus: 800,
                near: 10,
                far: 10000,
                orthographic: false
            }, opts);

            // planes
            //--------------------
            this.setPlanes(this.opts.focus, this.opts.near, this.opts.far, this.opts.orthographic);

            // flipped
            //--------------------
            this._flipped = false;

            // objects
            //--------------------
            this.objects = {};

            // setup
            //--------------------
            this.setup();
        }

        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @return {Flippable} A reference to the flippable for chaining.
         */
        setup() {

            const scale = .5;

            // filters
            //--------------------
            const blurFilter = new PIXI.filters.BlurFilter();
            blurFilter.blur = 0.2;
            this.objects.blurFilter = blurFilter;

            // outer
            //--------------------
            const outer = new PIXI.projection.Container3d();
            outer.scale3d.set(scale);
            this.addChild(outer);
            this.objects.outer = outer;

            // shadow
            //--------------------
            const shadow = new PIXI.projection.Sprite3d(PIXI.Texture.fromImage('../../assets/images/shadow.png'));
            shadow.renderable = false;
            shadow.anchor.set(0.5);
            shadow.scale3d.set(.98);
            shadow.alpha = 0.7;
            shadow.filters = [blurFilter];
            shadow.visible = this.opts.shadow;
            outer.addChild(shadow);
            this.objects.shadow = shadow;
            
            // inner
            //--------------------
            const inner = new PIXI.projection.Container3d();
            inner.euler.y = Math.PI;
            outer.addChild(inner);
            this.objects.inner = inner;

            // front
            //--------------------
            const front = new PIXI.projection.Sprite3d(PIXI.Texture.EMPTY);
            front.scale.set(-1 / scale, 1 / scale);
            front.renderable = true;
            front.anchor.set(.5);
            inner.addChild(front);
            this.objects.front = front;

            // back
            //--------------------
            const back = new PIXI.projection.Sprite3d(PIXI.Texture.EMPTY);
            back.scale.set(1 / scale, 1 / scale);
            back.renderable = false;
            back.anchor.set(.5);
            inner.addChild(back);
            this.objects.back = back;

            return this
        }

        /**
         * Gets or sets the flipped state.
         *
         * @member {boolean}
         */
        get flipped() {
            return this._flipped
        }
        set flipped(toBack) {

            this._flipped = toBack;

            // references
            //--------------------
            const front = this.objects.front;
            const back = this.objects.back;
            const inner = this.objects.inner;
            const shadow = this.objects.shadow;
            const blurFilter = this.objects.blurFilter;

            const half = this.opts.duration / 2;
            const ease = this.opts.eulerEase;

            const fromObject = toBack ? this.opts.front : this.opts.back;
            const toObject = toBack ? this.opts.back : this.opts.front;

            // set textures for virtual front and virtual back
            //--------------------
            front.texture = this.generateTexture(this.opts.front);
            back.texture = this.generateTexture(this.opts.back);
            
            // switch objects and set params for virtual objects
            //--------------------
            const fromCenter = this.anchorToCenter(fromObject);
            const toCenter = this.anchorToCenter(toObject);

            // from values
            //--------------------
            this.x = fromCenter.x;
            this.y = fromCenter.y;
            front.width = fromObject.width * 2;
            front.height = fromObject.height * 2;
            back.width = fromObject.width * 2;
            back.height = fromObject.height * 2;
            this.rotation = fromObject.rotation;
            this.skew.x = fromObject.skew.x;
            this.skew.y = fromObject.skew.y;

            // calculate to values
            //--------------------
            const to = {
                x: this.opts.useBackTransforms ? toCenter.x : fromCenter.x,
                y: this.opts.useBackTransforms ? toCenter.y : fromCenter.y,
                anchorX: this.opts.useBackTransforms ? toObject.x : fromObject.x,
                anchorY: this.opts.useBackTransforms ? toObject.y : fromObject.y,
                width: this.opts.useBackTransforms ? toObject.width * 2 : fromObject.width * 2,
                height: this.opts.useBackTransforms ? toObject.height * 2 : fromObject.height * 2,
                rotation: this.opts.useBackTransforms ? toObject.rotation : fromObject.rotation,
                skewX: this.opts.useBackTransforms ? toObject.skew.x : fromObject.skew.x,
                skewY: this.opts.useBackTransforms ? toObject.skew.y : fromObject.skew.y
            };

            // set toObject end values
            //--------------------
            toObject.x = to.anchorX;
            toObject.y = to.anchorY;
            toObject.width = to.width / 2;
            toObject.height = to.height / 2;
            toObject.rotation = to.rotation;
            toObject.skew.x = to.skewX;
            toObject.skew.y = to.skewY;

            // flip
            //--------------------
            TweenMax.to(inner.euler, this.opts.duration, {
                y: toBack ? 0 : Math.PI,
                ease: this.opts.ease,
                onStart: () => {
                    this.switchDisplayObject(fromObject, this);
                    shadow.renderable = true;
                    if (this.opts.onStart) {
                        this.opts.onStart(this, this);
                    }
                },
                onUpdate: () => {
                    this.layout();
                    if (this.opts.onUpdate) {
                        this.opts.onUpdate(this, this);
                    }
                },
                onComplete: () => {
                    this.switchDisplayObject(this, toObject);
                    shadow.renderable = false;
                    if (this.opts.onComplete) {
                        this.opts.onComplete(this, this);
                    }
                }
            });

            // x & y
            //--------------------
            TweenMax.to(this, this.opts.duration, {
                x: to.x,
                y: to.y,
                ease: this.opts.transformEase
            });

            // width & height
            //--------------------
            TweenMax.to([front, back], this.opts.duration, {
                width: to.width,
                height: to.height,
                ease: this.opts.transformEase
            });

            // rotation
            //--------------------
            TweenMax.to(this, this.opts.duration, {
                directionalRotation: {
                    rotation: `${to.rotation}_short`,
                    useRadians: true
                },
                ease: this.opts.transformEase
            });

            // skewX & skewY
            //--------------------
            TweenMax.to(this.skew, this.opts.duration, {
                x: to.skewX,
                y: to.skewY,
                ease: this.opts.transformEase
            });

            // camera
            //--------------------
            new TimelineMax()
                .to(this.euler, half, {x: this.opts.eulerX, y: this.opts.eulerY, ease})
                .to(this.euler, half, {x: 0, y: 0, ease});

            // shadow
            //--------------------
            new TimelineMax()
                .to(shadow, half, {alpha: .3, ease})
                .to(shadow, half, {alpha: .7, ease});
            
            // blurfilter
            //--------------------
            new TimelineMax()
                .to(blurFilter, half, {blur: 6, ease})
                .to(blurFilter, half, {blur: .2, ease});
        }

        /**
         * Should be called to refresh the layout of the camera.
         *
         * @return {Flippable} A reference to the flippable for chaining.
         */
        layout() {

            const front = this.objects.front;
            const back = this.objects.back;
            const shadow = this.objects.shadow;
            const inner = this.objects.inner;
            
            inner.position3d.z = -Math.sin(inner.euler.y) * front.texture.baseTexture.width * 2;

            //this.objects.shadow.euler = this.objects.inner.euler
            shadow.euler.x = -inner.euler.x;
            shadow.euler.y = -inner.euler.y;
            
            if (this.frontSideInFront) {
                front.renderable = true;
                back.renderable = false;
                shadow.width = front.width;
                shadow.height = front.height;
            } else {
                front.renderable = false;
                back.renderable = true;
                shadow.width = back.width;
                shadow.height = back.height;
            }

            return this
        }

        /**
         * Toggles the flippable. Switches the sides.
         *
         * @private
         * @return {Flippable} A reference to the flippable for chaining.
         */
        toggle() {
            this.flipped = !this.flipped;

            return this
        }

        /**
         * Gets the alignment state. true if the front side is in front, false otherwise.
         *
         * @member {boolean}
         */
        get frontSideInFront() {
            return !this.objects.inner.isFrontFace()
        }

        /**
         * Calculates the center point of an PIXI.DisplayObject.
         *
         * @private
         * @param {PIXI.DisplayObject} displayObject - The DisplayObject from which to calculate the center.
         * @return {object} Return an object with x and y.
         */
        anchorToCenter(displayObject) {
            const bounds = displayObject.getBounds();
            return {
                x: bounds.x + bounds.width / 2,
                y: bounds.y + bounds.height / 2
            }
        }

        /**
         * Creates children and instantiates everything.
         *
         * @private
         * @param {PIXI.DisplayObject} displayObject - The DisplayObject from which to generate the texture.
         * @return {PIXI.Texture} The generated PIXI.Texture.
         */
        generateTexture(displayObject) {

            // renderTexture
            //--------------------
            const renderTexture = PIXI.RenderTexture.create(displayObject.width, displayObject.height);

            // save position
            const transform = [displayObject.x, displayObject.y, displayObject.scale.x, displayObject.scale.y, displayObject.rotation, displayObject.skew.x, displayObject.skew.y, displayObject.pivot.x, displayObject.pivot.y];

            displayObject.position.set(0, 0);
            displayObject.skew.set(0, 0);
            displayObject.rotation = 0;

            // render
            //--------------------
            this.opts.renderer.render(displayObject, renderTexture);
            
            // restore position
            displayObject.setTransform(...transform);

            return renderTexture
        }

        /**
         * Removed the first DisplayObject and adds the second one at the exactly same position.
         *
         * @private
         * @param {PIXI.DisplayObject} first - The old DisplayObject.
         * @param {PIXI.DisplayObject} second - The new DisplayObject.
         * @return {Flippable} A reference to the flippable for chaining.
         */
        switchDisplayObject(first, second) {
            if (first && second && first.parent) {
                const parent = first.parent;
                const index = parent.getChildIndex(first);
                parent.addChildAt(second, index);
                parent.removeChild(first);
            }

            return this
        }
    }

    /**
     * 
     */
    class Popover extends PIXI.Graphics {

        constructor({title = null, text = null, x = 0, y = 0, placement = 'top', width = 250, titleStyle = {}, textStyle = {fontSize: '1.6em'}} = {}) {
            super();

            this.opts = {title, text, x, y, placement, width, titleStyle, textStyle};
            
            this.padding = 12;

            let style = {
                fontFamily: 'Arial',
                fontSize: '2em',
                stroke: '#f6f6f6',
                strokeThickness: 3,
                wordWrap: true,
                wordWrapWidth: width - (this.padding * 2)
            };

            this.titleTextStyle = new PIXI.TextStyle(Object.assign({}, style, titleStyle));
            this.textTextStyle = new PIXI.TextStyle(Object.assign({}, style, textStyle));
            
            if (title || text) {
                this.setup();
                this.draw();
                this.positioning();
            }
        }

        setup() {
            this.removeChildren();

            if (this.opts.title) {
                this.titleText = new PIXI.Text(this.opts.title, this.titleTextStyle);
                this.titleText.position.set(this.padding, this.padding);
                this.addChild(this.titleText);
            }

            this.titleY = this.titleText ? this.titleText.y : 0;
            this.titleHeight = this.titleText ? this.titleText.height : 0;

            if (this.opts.text) {
                this.textText = new PIXI.Text(this.opts.text, this.textTextStyle);
                this.textText.position.set(this.padding, this.titleY + this.titleHeight + this.padding);
                this.addChild(this.textText);
            }

            this.textY = this.textText ? this.textText.y : 0;
            this.textHeight = this.textText ? this.textText.height : 0;
        }

        close() {
            this.parent.removeChild(this);
        }

        draw() {
            this.clear();
            this.beginFill(0xffffff, 1);
            this.lineStyle(1, 0x282828, .5);

            // Draw rounded rectangle
            const height = this.height + this.padding;
            this.drawRoundedRect(0, 0, this.opts.width, height, 8);

            // Draw anchor
            this.drawAnchor(this.opts.placement);

            // Draw title background
            if (this.opts.title) {
                this.lineStyle(0);
                this.beginFill(0xf7f7f7, 1);
                let x = 1;
                let y = this.titleText.x + this.titleText.height + (this.padding / 2);
                this.moveTo(x, y);
                y = 9;
                this.lineTo(x, y);
                this.quadraticCurveTo(x, y - 8, x + 8, y - 8);
                x += this.opts.width - 7;
                y -= 8;
                this.lineTo(x, y);
                this.quadraticCurveTo(x + 5, y, x + 5, y + 8);
                x += 5;
                y += this.titleText.x + this.titleText.height + (this.padding / 2);
                this.lineTo(x, y);
                if (this.opts.text) {
                    x = 1;
                    this.lineTo(x, y);
                } else {
                    this.quadraticCurveTo(x, y, x - 5, y + 4);
                    x = 6;
                    y += 4;
                    this.lineTo(x, y);
                    this.quadraticCurveTo(x, y, x - 5, y - 4);
                }
            }

            this.endFill();
        }

        drawAnchor(placement) {

            let x = 0;
            let y = 0;

            switch (placement) {
                case 'bottom':
                    if (this.opts.title) {
                        this.beginFill(0xf7f7f7, 1);
                    }
                    x = (this.width / 2) - 10;
                    y = 1;
                    this.moveTo(x, y);
                    x += 10;
                    y -= 10;
                    this.lineTo(x, y);
                    x += 10;
                    y += 10;
                    this.lineTo(x, y);
                    break
                case 'right':
                    x = 1;
                    y = (this.height / 2) - 10;
                    if (this.titleY + this.titleHeight > y) {
                        this.beginFill(0xf7f7f7, 1);
                    }
                    this.moveTo(x, y);
                    x -= 10;
                    y += 10;
                    this.lineTo(x, y);
                    x += 10;
                    y += 10;
                    this.lineTo(x, y);
                    break
                case 'left':
                    x = this.width - 2;
                    y = (this.height / 2) - 10;
                    if (this.titleY + this.titleHeight > y) {
                        this.beginFill(0xf7f7f7, 1);
                    }
                    this.moveTo(x, y);
                    x += 10;
                    y += 10;
                    this.lineTo(x, y);
                    x -= 10;
                    y += 10;
                    this.lineTo(x, y);
                    break
                default:
                    x = (this.width / 2) - 10;
                    y = this.height - 2;
                    this.moveTo(x, y);
                    x += 10;
                    y += 10;
                    this.lineTo(x, y);
                    x += 10;
                    y -= 10;
                    this.lineTo(x, y);
                    break
            }
        }

        positioning() {

            const x = this.opts.x;
            const y = this.opts.y;

            switch (this.opts.placement) {
                case 'bottom':
                    this.position.set(x - (this.width / 2), y + 10);
                    break
                case 'right':
                    this.position.set(x, y - (this.height / 2));
                    break
                case 'left':
                    this.position.set(x - this.width, y - (this.height / 2));
                    break
                default:
                    this.position.set(x - (this.width / 2), y - this.height);
                    break
            }
        }
    }

    /** A container for scatter objects, which uses a single InteractionMapper
     * for all children. This reduces the number of registered event handlers
     * and covers the common use case that multiple objects are scattered
     * on the same level.
     */
    class ScatterContainer extends PIXI.Graphics {

        /**
        * @constructor
        * @param {PIXI.Renderer} renderer - PIXI renderer, needed for hit testing
        * @param {Bool} stopEvents - Whether events should be stopped or propagated
        * @param {Bool} claimEvents - Whether events should be marked as claimed
        *                             if findTarget return as non-null value.
        * @param {Bool} showBounds - Show bounds for debugging purposes.
        * @param {Bool} showTouches - Show touches and pointer for debugging purposes.
        * @param {Color} backgroundColor - Set background color if specified.
        * @param {PIXIApp} application - Needed if showBounds is true to register
        *                                update handler.
        */
        constructor(renderer, {
            stopEvents = true,
            claimEvents = true,
            container = null,
            showBounds = false,
            showPolygon = false,
            showTouches = false,
            backgroundColor = null,
            application = null
        } = {}) {
            super();
            this.container = container;
            if (this.container)
                this.containerDimensions = {
                    x: this.container.width,
                    y: this.container.height
                };
            this.renderer = renderer;
            this.stopEvents = stopEvents;
            this.claimEvents = claimEvents;
            this.delegate = new InteractionMapper$1(this.eventReceiver, this);
            this.showBounds = showBounds;
            this.showTouches = showTouches;
            this.showPolygon = showPolygon;
            this.backgroundColor = backgroundColor;
            if (application && (showBounds || showTouches || showPolygon)) {
                console.log("Show TOUCHES!!!");
                application.ticker.add((delta) => this.update(delta), this);
            }
            if (backgroundColor) {
                this.updateBackground();
            }
        }

        updateBackground() {
            this.clear();
            this.beginFill(this.backgroundColor, 1);
            this.drawRect(0, 0, this.bounds.width, this.bounds.height);
            this.endFill();
        }

        get eventReceiver() {
            return this.renderer.plugins.interaction.interactionDOMElement
        }

        get bounds() {
            let x = 0;
            let y = 0;
            // @container: We need to call the constant values, as the container
            // gets resized, when a child moves outside the original boundaries.
            let w = (this.container) ? this.containerDimensions.x : app.width;
            let h = (this.container) ? this.containerDimensions.y : app.height;

            if (app.fullscreen && app.monkeyPatchMapping) {
                let fixed = this.mapPositionToPoint({ x: w, y: 0 });
                if (fixed.x < w) {
                    w = fixed.x;
                }
                if (fixed.y > 0) {
                    y += fixed.y;
                    h -= fixed.y;
                }
            }
            return new PIXI.Rectangle(x, y, w, h)
        }

        get center() {
            let r = this.bounds;
            return { x: r.width / 2, y: r.height / 2 }
        }

        get polygon() {
            let r = this.bounds;
            let w2 = r.width / 2;
            let h2 = r.height / 2;
            let center = { x: w2, y: h2 };
            let polygon = new Polygon(center);
            polygon.addPoint({ x: -w2, y: -h2 });
            polygon.addPoint({ x: w2, y: -h2 });
            polygon.addPoint({ x: w2, y: h2 });
            polygon.addPoint({ x: -w2, y: h2 });
            return polygon
        }

        update(dt) {
            this.clear();
            this.lineStyle(1, 0x0000FF);
            if (this.showBounds) {
                for (let child of this.children) {
                    if (child.scatter) {
                        //let {x, y, width, height} = child.scatter.throwBounds()
                        // new PIXI.Rectangle(x, y, width, height)
                        this.drawShape(child.scatter.bounds);
                        let center = child.scatter.center;
                        this.drawCircle(center.x, center.y, 4);
                        this.drawCircle(child.scatter.x, child.scatter.y, 4);
                    }
                }
                this.lineStyle(2, 0x0000FF);
                this.drawShape(this.bounds);
            }
            if (this.showPolygon) {
                this.lineStyle(2, 0xFF0000);
                for (let child of this.children) {
                    if (child.scatter) {
                        let polygon = child.scatter.polygon;
                        let shape = new PIXI.Polygon(polygon.flatAbsolutePoints());
                        shape.close();
                        this.drawShape(shape);
                    }
                }
            }
            if (this.showTouches) {
                let current = this.delegate.interaction.current;
                for(let [key, point] of current.entries()) {
                    let local = this.mapPositionToPoint(point);
                    this.drawCircle(local.x, local.y, 12);
                }
            }
        }

        capture(event) {
            if (this.stopEvents)
                Events$1.stop(event);
            return true
        }

        fakeInteractionEvent(point, key) {
            return { data: { global: point, key: key } }
        }

        findHitScatter(data, displayObject, hit) {
            //     if (hit) {
            //             console.log("findHitScatter", displayObject)
            //         }
            if (hit && this.hitScatter === null && typeof (displayObject) != undefined) {
                this.hitScatter = (displayObject.scatter) ? displayObject.scatter : null;
            }
        }

        mapPositionToPoint(point, element=null) {
            // In case of nested scatters we get an additional parameter that
            // contains the found scatter
            let local = new PIXI.Point();
            let interactionManager = this.renderer.plugins.interaction;
            interactionManager.mapPositionToPoint(local, point.x, point.y);
            if (element instanceof DisplayObjectScatter) {
                return element.displayObject.parent.toLocal(local)
            }
            return local
        }

        /**
         * New method hitTest implemented (in InteractionManager, since 4.5.0).
         * See https://github.com/pixijs/pixi.js/pull/3878
         */
        findTarget(event, local, global) {
            if (event.claimedByScatter) {
                return null
            }
            this.hitScatter = null;
            let interactionManager = this.renderer.plugins.interaction;
            let fakeEvent = this.fakeInteractionEvent(local);
            interactionManager.processInteractive(fakeEvent,
                this,
                this.findHitScatter.bind(this), true);
            if (this.claimEvents)
                event.claimedByScatter = this.hitScatter;
            return this.hitScatter
        }

        findTargetNew(event, local, global) {
            // UO: still problematic. Does not find non interactive elements
            // which are needed for some stylus applications
            if (event.claimedByScatter) {
                return null
            }
            this.hitScatter = null;
            let interactionManager = this.renderer.plugins.interaction;
            let displayObject = interactionManager.hitTest(local, this);
            if (displayObject != null && displayObject.scatter != null)
                this.hitScatter = displayObject.scatter;
            if (this.claimEvents)
                event.claimedByScatter = this.hitScatter;
            return this.hitScatter
        }


        onStart(event, interaction) {

        }

        onMove(event, interaction) {

        }

        onEnd(event, interaction) {
            for (let key of interaction.ended.keys()) {
                let point = interaction.ended.get(key);
                if (interaction.isLongPress(key)) {
                    this.onLongPress(key, point);
                }
                if (interaction.isTap(key)) {
                    this.onTap(key, point);
                }
            }
        }

        onTap(key, point) {
            console.info('ScatterContainer.onTap');
        }

        onLongPress(key, point) {
            console.info('ScatterContainer.onLongPress');
        }

        bringToFront(displayObject) {
            this.addChild(displayObject);
        }
    }

    /** A wrapper for child elements of a ScatterContainer. Can be used
     *  to combine scattered objects with non-scattered objects. Any
     *  PIXI.DisplayObject can be wrapped.
     */
    class DisplayObjectScatter extends AbstractScatter {

        constructor(displayObject, renderer,
            { x = null, y = null,
                minScale = 0.1,
                maxScale = 1.0,
                startScale = 1.0,
                autoBringToFront = true,
                translatable = true, scalable = true, rotatable = true, resizable = false,
                movableX = true,
                movableY = true,
                throwVisibility = 44,
                throwDamping = 0.95,
                autoThrow = true,
                rotationDegrees = null,
                rotation = null,
                overdoScaling = 1.5,
                onTransform = null } = {}) {
            // For the simulation of named parameters,
            // see: http://exploringjs.com/es6/ch_parameter-handling.html
            super({
                overdoScaling,
                minScale, maxScale,
                startScale,
                autoBringToFront,
                translatable, scalable, rotatable, resizable,
                movableX, movableY, throwVisibility, throwDamping,
                autoThrow,
                rotationDegrees, rotation,
                onTransform
            });
            this.displayObject = displayObject;
            this.displayObject.scatter = this;
            this.renderer = renderer;
            this.scale = startScale;
            this.rotationDegrees = this.startRotationDegrees;

            // Only set x and y if they are specified.
            // Otherwise the displayobject gets corrupted.
            if (x != null) this.x = x;
            if (y != null) this.y = y;
        }

        /** Returns geometry data as object. **/
        getState() {
            return {
                scale: this.scale,
                x: this.x,
                y: this.y,
                rotation: this.rotation
            }
        }

        setup() {
            this.setupMouseWheelInteraction();
        }

        roundPixel(value) {
            // UO: Should be obsolete because Renderer supports roundPixels by default
            return value
            let res = this.renderer.resolution;
            return Math.round(value * res) / res
        }

        get container() {
            // return this.displayObject.parent
            let obj = this.displayObject;
            while (obj.parent != null && !(obj.parent instanceof ScatterContainer))
                obj = obj.parent;
            return obj.parent
        }

        get x() {
            return this.position.x
        }

        set x(value) {
            this.position.x = value;
        }

        get y() {
            return this.position.y
        }

        set y(value) {
            this.position.y = value;
        }

        get polygon() {
            let polygon = new Polygon(this.center);
            let w2 = this.width / 2;
            let h2 = this.height / 2;
            polygon.addPoint({ x: -w2, y: -h2 });
            polygon.addPoint({ x: w2, y: -h2 });
            polygon.addPoint({ x: w2, y: h2 });
            polygon.addPoint({ x: -w2, y: h2 });
            polygon.rotate(this.rotation);
            return polygon
        }

        get containerBounds() {
            return this.container.bounds
        }

        get containerPolygon() {
            let container = this.container;
            if (container == null) return null
            return container.polygon
        }

        get position() {
            return this.displayObject.position
        }

        set position(value) {
            this.displayObject.position = value;
        }

        get scale() {
            return this.displayObject.scale.x
        }

        set scale(value) {
            this.displayObject.scale.x = value;
            this.displayObject.scale.y = value;
        }

        get width() {
            return this.displayObject.width
        }

        get height() {
            return this.displayObject.height
        }

        get bounds() {
            return this.displayObject.getBounds()
        }

        get pivot() {
            return this.displayObject.pivot
        }

        get rotation() {
            return this.displayObject.rotation
        }

        set rotation(value) {
            this.displayObject.rotation = value;
        }

        get rotationDegrees() {
            return Angle.radian2degree(this.displayObject.rotation)
        }

        set rotationDegrees(value) {
            this.displayObject.rotation = Angle.degree2radian(value);
        }

        get center() {
            let w2 = this.width / 2;
            let h2 = this.height / 2;
            let dist = Math.sqrt(w2 * w2 + h2 * h2);
            let angle = Points.angle({ x: w2, y: h2 }, { x: 0, y: 0 });
            let p = this.displayObject.x;
            let c = Points.arc(this.position, this.rotation + angle, dist);
            return c // Points.subtract(c, this.pivot)
        }

        get rotationOrigin() {
            // In PIXI the default rotation and scale origin is the position
            return this.position // Points.add(this.position, this.pivot)
        }

        mapPositionToContainerPoint(point) {
            // UO: We need the coordinates related to this scatter in case
            // of nested scatters
            return this.container.mapPositionToPoint(point, this)
        }

        capture(event) {
            return true
        }

        bringToFront() {
            if (this.autoBringToFront) {
                if (this.displayObject.parent instanceof ScatterContainer) {
                    let scatterContainer = this.displayObject.parent;
                    scatterContainer.bringToFront(this.displayObject);
                } else if (this.displayObject.parent.scatter) {
                    this.displayObject.parent.scatter.toFront(this.displayObject);
                }
            }
        }

        toFront(displayObject) {
            this.displayObject.addChild(displayObject);
        }

        validScale(scale) {
            scale = Math.max(scale, this.minScale);
            scale = Math.min(scale, this.maxScale);
            return scale
        }
    }

    /**
     *
     */
    class Command extends PIXI.Graphics {
        /*** Abstract base class for record, play, and stop commands. ***/
        constructor(tools, selectedColor, shape) {
            super();
            this.tools = tools;
            this.shape = shape;
            this.selected = false;
            this.disabled = false;
            this.selectedColor = selectedColor;
            this.draw();
            this.setup();
        }

        setup() {
        }

        draw() {
            this.clear();
            var color = (this.selected) ? this.selectedColor : 0xFFFFFF;
            this.lineStyle(0);
            this.beginFill(color, 1);
            this.drawShape(this.shape);
            this.endFill();
        }

        select() {
            this.selected = true;
            this.draw();
        }

        deselect() {
            this.selected = false;
            this.draw();
        }

        toggle() {
            this.selected = !this.selected;
            this.draw();
        }

        stop() {
            this.selected = false;
            this.draw();
        }
    }

    class RecordCommand extends Command {
        /*** Records events for later replay. ***/
        setup() {
            this.recorder = new EventRecorder();
        }

        toggle() {
            super.toggle();
            if (!this.selected) {
                this.recorder.stopRecording();
            }
        }

        recordEvent(event) {
            this.recorder.record(event);
        }

        normalize(value, limit) {
            return value / limit
        }

        normalizeX(value) {
            return this.normalize(value, window.innerWidth)
        }

        normalizeY(value) {
            return this.normalize(value, window.innerHeight)
        }

        whileNotStopped() {
            return this.tools.play.selected
        }

        startReplay() {
            let whileCondition = this.whileNotStopped.bind(this);
            this.recorder.startReplay(whileCondition, () => this.tools.play.stop());
        }
    }

    class PlayCommand extends Command {
        /*** Plays recorded events. ***/
        toggle() {
            super.toggle();
            if (this.selected && this.tools.record.recorder.recorded.length > 0) {
                this.tools.startReplay();
            }
        }
    }

    class StopCommand extends Command {
        /*** Stops recording and playing. ***/
        toggle() {
            super.toggle();
            this.tools.record.stop();
            this.tools.play.stop();
            setTimeout(this.deselect.bind(this), 500);
        }
    }

    class RecorderTools extends PIXI.Container {

        constructor(renderer) {
            super(renderer);
            this.renderer = renderer;
            this.setupToolbar();
            this.replayRate = 100.0;
            this.onReset = null;
            this.touchGraphics = new PIXI.Graphics();
            this.showTouches();
        }

        setup(container) {
            // Since this delegate might shadow another delegate, we mus avoid
            // capturing PointerEvents.
            this.delegate = new InteractionMapper(container, this, { capturePointerEvents: false });
        }

        findTarget(event, local, global) {
            return this
        }

        setupToolbar() {
            this.toolbar = new PIXI.Graphics();
            this.record = new RecordCommand(this, 0xCC0000, new PIXI.Circle(0, 0, 16));
            this.play = new PlayCommand(this, 0x0000CC, new PIXI.Polygon(0, 16,
                32, 16 + 16,
                0, 16 + 32,
                0, 16));
            this.stop = new StopCommand(this, 0x0000CC,
                new PIXI.Rectangle(0, 0, 32, 32));
            this.toolbar.addChild(this.record).position.set(44, 48);
            this.toolbar.addChild(this.play).position.set(44 + 44, 16);
            this.toolbar.addChild(this.stop).position.set(44 + 44 + 44 + 16, 32);
            this.updateToolbar();
            this.addChild(this.toolbar);
        }

        updateToolbar() {
            var graphics = this.toolbar;
            graphics.clear();
            graphics.beginFill(0x000000, 0.5);
            graphics.lineStyle(2, 0xFFFFFF, 1);
            graphics.drawRoundedRect(16, 16, 44 * 4 + 8, 64, 8);
            graphics.endFill();
        }

        onMouseWheel(event) {
            console.log('onMouseWheel missing');
        }

        onPress(point) {
            if (this.record.containsPoint(point)) {
                this.record.toggle();
            }
            if (this.play.containsPoint(point)) {
                this.play.toggle();
            }
            if (this.stop.containsPoint(point)) {
                this.stop.toggle();
                if (this.onReset) {
                    this.onReset();
                }
            }
        }

        mapPositionToPoint(point) {
            let local = new PIXI.Point();
            this.renderer.plugins.interaction.mapPositionToPoint(local, point.x, point.y);
            return local
        }

        extractLocal(event) {
            return this.mapPositionToPoint(Events.extractPoint(event))
        }

        capture(event) {
            if (typeof event.mouseDownSubstitute != 'undefined')
                return false
            return true
        }

        startReplay() {
            if (this.onReset) {
                this.onReset();
            }
            this.record.startReplay();
        }

        showTouches() {
            this.addChild(this.touchGraphics);
        }

        recordEvent(event) {
            if (this.record.selected) {
                this.record.recordEvent(event);
            }
        }

        onStart(event, interaction) {
            let local = this.extractLocal(event);
            if (!this.toolbar.containsPoint(local)) {
                this.recordEvent(event);
                this.updateTouchGraphics(interaction);
            }
        }

        onMove(event, interaction) {
            let local = this.extractLocal(event);
            if (!this.toolbar.containsPoint(local)) {
                this.recordEvent(event);
                this.updateTouchGraphics(interaction);
            }
        }

        onEnd(event, interaction) {
            let local = this.extractLocal(event);
            if (this.toolbar.containsPoint(local)) {
                this.onPress(local);
            }
            else {
                this.recordEvent(event);
                this.updateTouchGraphics(interaction);
            }
        }

        updateTouchGraphics(interaction) {
            let current = interaction.current;
            let graphics = this.touchGraphics;
            if (graphics != null) {
                graphics.clear();
                for (let key of current.keys()) {
                    if (interaction.ended.has(key)) {
                        continue
                    }
                    let p = current.get(key);
                    if (key == 'mouse') {
                        graphics.beginFill(0xCC0000, 0.5);
                    } else {
                        graphics.beginFill(0xCCCCCC, 0.5);
                    }
                    graphics.drawCircle(p.x, p.y, 20);
                }
                graphics.endFill();
            }
        }
    }

    class AppTest extends PIXIApp {

        constructor(canvas, container) {
            super({ view: canvas, backgroundColor: 0x000000 });
            this.container = container;
        }

        sceneFactory() {
            return new RecorderTools(this.renderer)
        }

        setup() {
            super.setup();
            this.scene.setup(this.container);
        }

        run(reset = null) {
            this.scene.onReset = reset;
            console.log('Running AppTest');
            return this
        }
    }

    /**
     *
     */
    class FontInfo {

        static get small() {
            return app.theme.textStyleSmall
        }

        static get normal() {
            return app.theme.textStyle
        }

        static get centered()  {
            return Object.assign({}, app.theme.textStyle, {align : 'center'})
        }
    }


    class LabeledGraphics extends PIXI.Graphics {

        constructor() {
            super();
            this.labels = new Map();
        }

        ensureLabel(key, label, attrs, fontInfo=FontInfo.normal) {
            if (!this.labels.has(key)) {
                let text = new PIXI.Text(label, fontInfo);
                this.labels.set(key, text);
                this.addChild(text);
            }
            let text = this.labels.get(key);
            for(let k in attrs) {
                text[k] = attrs[k];
            }
            if (label != text.text)
                text.text = label;
            text.anchor.y = 0.5;
            switch(attrs.align) {
                case 'right':
                    text.anchor.x = 1;
                    break
                case 'center':
                    text.anchor.x = 0.5;
                    break
                default:
                    text.anchor.x = 0;
                    break
            }
            text.visible = true;
            return text
        }
    }

    class Ticks {

        get reservedPrefixes() {
            return ['decade', 'year', 'month', 'day', 'hour', 'minute', 'second']
        }

        get minWidth() {
            return 10
        }

        format(available) {
            return {year: '2-digit', timeZone: 'UTC'}
        }

        get minLabelWidth() {
            return 44
        }

        get formatKey() {
            return this.key
        }

        dateKey(date) {
            return this.key + date.getFullYear()
        }

        *iter(start, end) {
            let date = this.iterStart(start);
            while (date <= end) {
                yield date;
                date = this.next(date);
            }
            yield date;
        }

        *iterRanges(range) {
            for(let date of this.iter(range.start, range.end)) {
                let next = this.next(date);
                yield { start: date, end: next };
            }
        }

        selectedRange(timeline, info) {
            let first = null;
            let last = null;
            let visibleFirst = null;
            let visibleLast = null;
            let units = 0;
            for(let {start, end} of this.iterRanges(info)) {
                if (timeline.visibleRange(start, end)) {
                    if (first == null) {
                        first = start;
                    }
                    last = end;
                }
                if (timeline.visibleDate(start) && timeline.visibleDate(end)) {
                    units += 1;
                    if (visibleFirst == null) {
                        visibleFirst = start;
                    }
                    visibleLast = end;
                }
            }
            if (first == null)
                return info
            return {start: first, end: last, visibleStart: visibleFirst, visibleEnd: visibleLast, units: units}
        }

        drawTick(timeline, x, y, date) {
            let visible = date > timeline.start && date < timeline.end;
            if (!visible)
                return false
            timeline.drawTick(x);
            return true
        }

        toLocaleString(date, format) {
            return date.toLocaleDateString('de', format)
        }

        draw(timeline, range, width, height, available, format, nextFormat, level) {
            let first = null;
            let last = null;
            let keyedFormat = (format) ? format[this.formatKey] : null;
            let keyedNextFormat = (nextFormat) ? nextFormat[this.formatKey] : null;
            let redundant = (nextFormat) ? this.formatKey in nextFormat : false;
            let fullyRedundant = keyedFormat != null &&  keyedFormat == keyedNextFormat;
            let y = timeline.getY();

            for(let {start, end} of this.iterRanges(range)) {
                let x = timeline.toX(start);
                let xx = x;
                let yy = y + timeline.tickLabelOffset(-1);
                if (this.drawTick(timeline, x, y, start) && format) {
                    let key = this.dateKey(start);
                    let text = this.toLocaleString(start, format);
                    let align = 'center';
                    let downTick = false;
                    if (nextFormat) {
                        yy = y + timeline.tickLabelOffset(-1, 1);
                        align = 'left';
                        timeline.drawTick(x, 4.2);
                        let nextX = timeline.toX(end) - 100;
                        if (x < 0 && nextX > -100 && !redundant) {
                            xx = Math.min(4, nextX);
                        }
                        else {
                            xx -= 2;
                        }
                        downTick = true;
                    }
                    else if (level > 0) {
                        xx = x + available/2;
                    }
                    else {
                        downTick = true;
                    }
                    if (!fullyRedundant) {
                        timeline.ensureLabel(key, text,
                                    { x: xx, y: yy, align: align },
                                    FontInfo.small);
                    }
                    if (downTick) timeline.drawTick(x, -1);
                }
                if (timeline.visibleRange(start, end)) {
                    if (first == null)
                        first = start;
                    last = end;
                }
            }
            if (first == null)
                return null
            return {start: first, end: last}
        }
    }

    class DecadeTicks extends Ticks {

        get milliseconds() {
            return 10 * 365 * 24 * 60 * 60 * 1000
        }

        format(available) {
            return {year: 'numeric', timeZone: 'UTC'}
        }

        selection(timeline, dates, selected) {
            return dates
        }

        get key() {
            return 'decade'
        }

        get formatKey() {
            return 'year'
        }

        iterStart(start) {
            let modulo = start.getFullYear() % 10;
            let year = start.getFullYear() - modulo;
            return Dates.create(year, 0, 1)
        }

        next(decade) {
            return Dates.nextYear(decade, 10)
        }
    }

    class YearTicks extends Ticks {

        get milliseconds() {
            return 365 * 24 * 60 * 60 * 1000
        }

        format(available) {
            if (available < 44)
                return {year: '2-digit', timeZone: 'UTC'}
            return {year: 'numeric', timeZone: 'UTC'}
        }

        get minLabelWidth() {
            return 22
        }

        get key() {
            return 'year'
        }

        iterStart(start) {
            return Dates.create(start.getFullYear(), 0, 1)
        }

        next(year) {
            return Dates.nextYear(year)
        }
    }

    class MonthTicks extends Ticks {

        get milliseconds() {
            return (365 / 12) * 24 * 60 * 60 * 1000
        }

        format(available) {
            let format = {month: 'narrow', timeZone: 'UTC'};
            if (available > 44)
                format.month = 'short';
            if (available > 66)
                format.year = '2-digit';
            if (available > 100) {
                format.month = 'long';
                format.year = 'numeric';
            }
            return format
        }

        get minLabelWidth() {
            return 32
        }

        get key() {
            return 'month'
        }

        dateKey(date) {
            return this.key + date.getFullYear() + date.getMonth()
        }

        iterStart(start) {
            return Dates.create(start.getFullYear(), start.getMonth(), 1)
        }

        next(month) {
            return Dates.nextMonth(month)
        }
    }

    class DayTicks extends Ticks {

        get milliseconds() {
            return 24 * 60 * 60 * 1000
        }

        format(available) {
            let format = {day: 'numeric', timeZone: 'UTC'};
            if (available > 44)
                format.month = 'short';
            if (available > 100) {
                format.month = 'long';
                format.year = '2-digit';
            }
            if (available > 150) {
                format.weekday = 'short';
            }
            if (available > 200) {
                format.year = 'numeric';
                format.weekday = 'long';
            }
            return format
        }

        get key() {
            return 'day'
        }

        dateKey(date) {
            return this.key + date.getFullYear() + date.getMonth() + date.getDate()
        }

        iterStart(start) {
            return Dates.create(start.getFullYear(), start.getMonth(), start.getDate())
        }

        next(date) {
            return Dates.nextDay(date)
        }
    }

    class TimeTicks {

        constructor(...ticks) {
            this.ticks = ticks;
        }

        selectedRange(timeline) {
            let info = {start: timeline.start, end: timeline.end, units: 0 };
            for(let ticks of this.ticks) {
                info = ticks.selectedRange(timeline, info);
                if (info.units > 1) {
                    timeline.selection = [info.visibleStart, info.visibleEnd];
                    return
                }
            }
            timeline.selection = [info.start, info.end];
        }

        draw(timeline, width, height) {
            let range = timeline;
            let start = timeline.toX(range.start);
            let end = timeline.toX(range.end);
            let size = end - start;
            let duration = timeline.end - timeline.start;
            let formats = new Map();
            let nextFormats = new Map();
            let availables = new Map();
            let previous = null;
            let visible = [];
            for(let ticks of this.ticks) {
                let amount = ticks.milliseconds / duration;
                let available = amount * size;
                availables.set(ticks, available);
                if (available < ticks.minWidth)
                    break
                formats.set(ticks, (available < ticks.minLabelWidth) ? null : ticks.format(available));
                nextFormats.set(previous, formats.get(ticks));
                previous = ticks;
                visible.push(ticks);
            }
            let level = 0;
            for(let ticks of visible) {
                if (range == null)
                    return
                range = ticks.draw(timeline, range, width, height,
                                        availables.get(ticks),
                                        formats.get(ticks),
                                        nextFormats.get(ticks), level);
                level += 1;
            }
        }
    }

    class ColorRanges {

        constructor(label, color, ranges) {
            this.label = label;
            this.color = color;
            this.ranges = ranges;
        }

        draw(timeline, width, height, size=12) {
            let minimum = 1 / Capabilities.devicePixelRatio;
            let h2 = size;
            timeline.lineStyle(size, this.color);
            for(let range of this.ranges) {
                if (range.to === null) {
                    range.to = Dates.nextDay(range.from);
                }
                let start = timeline.toX(range.from);
                let end = timeline.toX(range.to);
                if (end < start + minimum) {
                    end = start + minimum;
                }
                timeline.moveTo(start, h2);
                timeline.lineTo(end, h2);
            }
        }
    }

    class Timeline extends LabeledGraphics {

        constructor(width, height, {ticks=null,
                                    baseLine=0.5, showRange=true} = {}) {
            super();
            this.wantedWidth = width;
            this.wantedHeight = height;
            this.extraLeft = 0;
            this.extraRight = 0;
            this.inset = 5;
            this.showRange = showRange;
            this.baseLine = baseLine;
            this.tickHeight = 4;
            this.zoom = 1;
            this.minZoom = 1;
            this.maxZoom = 12000;
            this.scroll = 0;
            this.deltas = [];
            this.labelDates = [];
            this.colorRanges = [];
            this.rangeColors = new Cycle(Colors.eminence,
                                Colors.steelblue,
                                Colors.ochre,
                                Colors.turquoise);
            this.callbacks = [];
            this.progress = null;
            this.start = null;
            this.end = null;
            this.selection = null;
            this.autoScroll = false;
            this.direction = -1;
            this.timeticks = ticks || new TimeTicks(new DecadeTicks(),
                                                    new YearTicks(),
                                                    new MonthTicks(),
                                                    new DayTicks());
            this.labelPrefix = '__';
        }

        updateSelection() {
            if (this.visibleDate(this.start) && this.visibleDate(this.end)) {
                this.selection = [this.start, this.end];
            }
            else {
                this.timeticks.selectedRange(this);
            }

            return this.selection
        }

        addCallback(callback) {
            this.callbacks.push(callback);
        }

        addLabels(labels) {
            this.labelDates = labels;
        }

        range(start, end) {
            this.start = start;
            this.end = end;
        }

        draw(width, height) {
            this.wantedWidth = width;
            this.wantedHeight = height;
            this.redraw();
        }

        updateColorRanges(w, h) {
            let xx = w - this.inset;
            let size = FontInfo.small.fontSize;
            let yy = h - size;
            for(let i=this.colorRanges.length-1; i>=0; i--) {
                let cr = this.colorRanges[i];
                let label = cr.label;
                cr.draw(this, w, h);
                let current = this.ensureLabel('colorRange:' + label, label,
                                    { x: xx, y: yy, align: 'right'}, FontInfo.small);
                let r = current.getBounds();
                xx -= r.width + 16;

                this.lineStyle(size, cr.color);
                this.moveTo(xx, yy);
                this.lineTo(xx+size, yy);
                xx -= size + 4;
            }
        }

        drawSelectedRamge(selected) {
            this.lineStyle(2, app.theme.primaryColor);
            let start = this.toX(selected[0]);
            let end = this.toX(selected[1]);
            this.moveTo(start, 0);
            this.lineTo(end, 0);
            this.drawTick(start, -1.5, 0);
            this.drawTick(end, -1.5, 0);
        }

        redraw() {
            this.clear();
            let h = this.wantedHeight;
            let w = this.wantedWidth;
            let y = this.getY();
            this.prepareLabels();
            this.updateColorRanges(w, h);

            this.lineStyle(2, 0xFFFFFF);
            if (this.start != null && this.end != null) {
                this.moveTo(this.toX(this.start), y);
                this.lineTo(this.toX(this.end), y);
                this.updateTicksAndLabels(w, h);
                this.updateSelection();
                let selected = this.selection;
                if (selected[0] != this.start && selected[1] != this.end) {
                    if (this.showRange)
                        this.drawSelectedRamge(selected);
                }
                for(let callback of this.callbacks) {
                    callback(this.scroll, this.zoom, this.selection);
                }
            }
            else {
                this.moveTo(this.inset, y);
                this.lineTo(w-this.inset, y);
            }

            if (this.progress != null && this.progress < 1) {
                this.lineStyle(2, 0xCCCCFF);
                this.moveTo(this.inset, y);
                this.lineTo((w-this.inset) * this.progress, y);
            }
        }

        totalWidth(bounded=false) {
            let w = this.wantedWidth - (2 * this.inset);
            return w * this.validZoom(this.zoom, bounded)
        }

        validZoom(zoom, bounded=true) {
            let overshoot = (bounded) ? 1.0 : 2.0;
            zoom = Math.max(zoom, this.minZoom / overshoot);
            zoom = Math.min(zoom, this.maxZoom * overshoot);
            return zoom
        }

        getY() {
            return this.wantedHeight * this.baseLine
        }

        toX(date) {
            let total = this.end - this.start;
            let offset = this.inset + this.scroll;
            let width = this.totalWidth();
            let delta = date - this.start;
            let ratio = delta / total;
            return offset + ratio * width
        }

        fromX(value) {
            let total = this.end - this.start;
            let offset = this.inset + this.scroll;
            let width = this.totalWidth();
            let ratio = (value - offset) / width;
            let time = this.start.getTime() + total * ratio;
            let date = new Date(time);
            return date
        }

        drawTick(x, direction=1, y=null) {
            if (y == null) {
                y = this.getY();
            }
            this.moveTo(x, y);
            this.lineTo(x, y - (this.tickHeight * direction * this.direction));
        }

        prepareLabels() {
            for(let key of this.labels.keys()) {
                if (!key.startsWith(this.labelPrefix))
                    this.labels.get(key).visible = false;
            }
        }

        updateTicksAndLabels(width, height) {
            this.drawTick(this.toX(this.start));
            this.drawTick(this.toX(this.end));
            this.timeticks.draw(this, width, height);
            this.updateLabels(width, height);
        }

        visibleDate(date, offset=0) {
            if (date >= this.start && date <= this.end) {
                let x = this.toX(date) + offset;
                return (x > 0 && x < this.wantedWidth)
            }
            return false
        }

        visibleRange(start, end) {
            let x = this.toX(start);
            if (x > this.wantedWidth)
                return false
            x = this.toX(end);
            if (x < 0)
                return false
            return true
        }

        tickLabelOffset(direction=1, level=0) {
            let fs = FontInfo.small.fontSize;
            let dh = fs + (level * (fs+2));
            return this.direction * direction * dh
        }

        updateLabels(width, height) {
            let h2 = height / 2;
            if (this.labelDates) {
                let last = null;
                let y = h2 + this.tickLabelOffset();
                for(let i=this.labelDates.length-1; i>=0; i--) {
                    let [label, date] = this.labelDates[i];
                    let align = 'center'; // (last == null) ? 'right' : 'left'
                    let x = this.toX(date);
                    let current = this.ensureLabel(this.labelPrefix + label, label,
                                    { x: x, y: y,
                                      align },
                                    FontInfo.small);
                    let r = current.getBounds();
                    current.visible = !(last != null && r.x + r.width > last.x);
                    if (current.visible) {
                        this.drawTick(x, -1);
                        last = r;
                    }
                }
            }
            else {
                let start = this.start.toLocaleDateString('de', {year: 'numeric', month: 'numeric', day: 'numeric'});
                let end = this.end.toLocaleDateString('de', {year: 'numeric', month: 'numeric', day: 'numeric'});
                this.ensureLabel(this.labelPrefix + 'start', start, { x: this.toX(this.start), y: h2 });
                this.ensureLabel(this.labelPrefix + 'end', end, { x: this.toX(this.end), y: h2, align: 'right'});
            }
        }

        onZoom(zoom, anchor) {
            let date = this.fromX(anchor.x);
            let newZoom = this.validZoom(this.zoom * zoom, false);
            this.zoom = newZoom;
            let newX = this.toX(date);
            this.scroll += anchor.x - newX;
        }

        onStart(event, interaction) {
            this.killTweens();
            this.deltas = [];
            this.validScroll();
            ThrowPropsPlugin.track(this, 'delta');
        }

        onMove(event, interaction) {
            let delta = interaction.delta();
            this.scroll += delta.x;
            while(this.deltas.length > 10) {
                this.deltas.pop(0);
            }
            this.deltas.push(delta.x);
            if (interaction.current.size > 1) {
                this.onZoom(delta.zoom, delta.about);
            }
            this.redraw();
        }

        _scrollMinimum(bounded) {
            let total = this.totalWidth(bounded);
            return -total + this.wantedWidth - 2*this.inset
        }

        _scrollMaximum(bounded) {
            let total = this.totalWidth(bounded);
            let limit = this.wantedWidth;
            if (total > limit)
                return 0
            let w = limit - 2*this.inset;
            return (w - total) / 2
        }

        scrollMinimum(bounded) {
            return this._scrollMinimum(bounded) - this.extraRight
        }

        scrollMaximum(bounded) {
            return this._scrollMaximum(bounded) + this.extraLeft
        }

        killTweens() {
            TweenMax.killTweensOf(this);
            this.autoScroll = false;
        }


        validScroll(bounded=true) {
            let minimum = this.scrollMinimum(bounded);
            let maximum = this.scrollMaximum(bounded);

            if (this.scroll < minimum) {
                this.scroll = minimum;
            }
            if (this.scroll > maximum) {
                this.scroll = maximum;
            }
        }

        keepInBounds(delta, anchor) {
            let bounded = true;
            let minimum = this.scrollMinimum(bounded);
            let maximum = this.scrollMaximum(bounded);
            let tweens = {};
            if (this.zoom > this.maxZoom) {
                tweens.zoom = this.maxZoom;
                let date = this.fromX(anchor.x);
                let oldZoom = this.zoom;
                this.zoom = this.maxZoom;
                let newX = this.toX(date);
                tweens.scroll = this.scroll + anchor.x - newX;
                this.zoom = oldZoom;
            }
            else {
                if (this.zoom < this.minZoom) {
                    tweens.zoom = this.minZoom;
                }
                if (this.scroll > maximum) {
                    tweens.scroll = maximum;
                }
                 if (this.scroll < minimum) {
                    tweens.scroll = minimum;
                }
            }
            if (!isEmpty(tweens)) {
                tweens.onUpdate = () => { this.redraw(); };
                TweenMax.to(this, 0.5, tweens).delay(0.1);
                return
            }
            this.scroll += delta;
            delta *= 0.985;
            this.redraw();
            if (Math.abs(delta) > 1 && this.autoScroll) {
                setTimeout(() => this.keepInBounds(delta, anchor), 1000 / 100);
            }
        }

        onEnd(event, interaction) {
            let vel = ThrowPropsPlugin.getVelocity(this, 'delta');
            ThrowPropsPlugin.untrack(this);

            this.killTweens();
            this.redraw();
            let delta = 0;
            for(let d of this.deltas) {
                delta += d;
            }
            if (this.deltas.length > 0) {
                delta /= this.deltas.length;
            }
            this.autoScroll = true;
            let anchor = interaction.current.mean();
            this.keepInBounds(delta, anchor);
        }

        onMouseWheel(event) {
            this.killTweens();
            let direction = event.detail < 0 || event.wheelDelta > 0;
            let anchor = { x: event.clientX, y: event.clientY};
            const zoomFactor = 1.5;
            this.onZoom((direction) ? zoomFactor : 1 / zoomFactor, anchor);
            this.redraw();
            this.keepInBounds(0, anchor);
        }

        showRanges(ranges, label="Untitled", color=null) {
            for(let cr of this.colorRanges) {
                if (cr.label == label)
                    return
            }
            while(this.colorRanges.length >= this.rangeColors.length) {
                this.colorRanges.shift();
            }
            this.colorRanges.push(new ColorRanges(label, color, ranges));
            this.redraw();
        }
    }

    /**
     * Callback for the slider action onStart.
     *
     * @callback onStartCallback
     * @param {object} event - The event object.
     * @param {Slider} slider - A reference to the slider (also this refers to the slider).
     */

    /**
     * Callback for the slider action onUpdate.
     *
     * @callback onUpdateCallback
     * @param {object} event - The event object.
     * @param {Slider} slider - A reference to the slider (also this refers to the slider).
     */

    /**
     * Callback for the slider action onComplete.
     *
     * @callback onCompleteCallback
     * @param {object} event - The event object.
     * @param {Slider} slider - A reference to the slider (also this refers to the slider).
     */

    /**
     * Class that represents a PixiJS Slider.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Create the slider
     * const slider = new Slider({
     *     x: 10,
     *     y: 20
     * })
     *
     * // Add the slider to a DisplayObject
     * app.scene.addChild(slider)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/slider.html|DocTest}
     */
    class Slider extends PIXI.Container {
        
        /**
         * Creates an instance of a Slider.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the slider.
         * @param {number} [opts.id=auto generated] - The id of the slider.
         * @param {number} [opts.x=0] - The x position of the slider. Can be also set after creation with slider.x = 0.
         * @param {number} [opts.y=0] - The y position of the slider. Can be also set after creation with slider.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this slider. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.width=250] - The width of the slider.
         * @param {number} [opts.height=2] - The height of the slider.
         * @param {PIXI.DisplayObject} [opts.container=window.app|object] - The container where the slider events should be attached to.
         * @param {number} [opts.fill=Theme.fill] - The color of the slider background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.controlFill=Theme.stroke] - The color of the slider control background as a hex value.
         * @param {number} [opts.controlFillAlpha=Theme.strokeAlpha] - The alpha value of the background.
         * @param {number} [opts.controlStroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.controlStrokeWidth=Theme.strokeWidth * 0.8] - The width of the border in pixel.
         * @param {number} [opts.controlStrokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.controlRadius=16] - The radius of the slider control.
         * @param {boolean} [opts.disabled=false] - Is the slider disabled? When disabled, the slider has a lower alpha value
         *     and cannot be clicked (interactive is set to false).
         * @param {onStartCallback} [opts.onStart] - Executed when the slider control starts to move.
         * @param {onUpdateCallback} [opts.onUpdate] - Executed when the slider control is moved.
         * @param {onCompleteCallback} [opts.onComplete] - Executed when the slider control was dropped.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display. 
         * @param {boolean} [opts.visible=true] - Is the slider initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                width: 250,
                height: 2,
                container: null,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                controlFill: theme.fill,
                controlFillAlpha: .5,
                controlStroke: theme.primaryColor,
                controlStrokeWidth: 2,
                controlStrokeAlpha: theme.strokeAlpha,
                controlRadius: 16,
                orientation: 'horizontal',
                min: 0,
                max: 100,
                value: 0,
                disabled: false,
                onStart: null,
                onUpdate: null,
                onComplete: null,
                tooltip: null,
                visible: true
            }, opts);
            
            this.opts.container = this.opts.container || this;

            // Validation
            //-----------------
            if (this.opts.height > this.opts.width) {
                this.opts.height = this.opts.width;
            }

            if (this.opts.value < this.opts.min) {
                this.opts.value = this.opts.min;
            }

            if (this.opts.value > this.opts.max) {
                this.opts.value = this.opts.max;
            }

            // Properties
            //-----------------
            this.id = this.opts.id;
            this.radius = this.opts.height / 2;

            this._value = this.opts.value;
            this._disabled = null;

            this.sliderObj = null;
            this.control = null;
            this.tooltip = null;
            
            this.visible = this.opts.visible;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Slider} A reference to the slider for chaining.
         */
        setup() {

            // Container events
            //-----------------
            const container = this.opts.container;

            this.on('pointermove', e => {
                if (this.control.dragging) {
                    const moveX = this.control.event.data.getLocalPosition(this.control.parent).x;
                    this._value = this.pixelToValue(moveX - this.control.delta - this.opts.controlRadius);
                    let x = this.valueToPixel(this._value) + this.opts.controlRadius;
                    this.control.x = x;

                    if (this.opts.onUpdate) {
                        this.opts.onUpdate.call(this, e, this);
                    }
                }
            });

            if (container instanceof Element) {
                container.addEventListener('pointerup', e => this.onEnd(e), false);
                container.addEventListener('pointercancel', e => this.onEnd(e), false);
                container.addEventListener('pointerleave', e => this.onEnd(e), false);
                container.addEventListener('pointerout', e => this.onEnd(e), false);
                container.addEventListener('mouseup', e => this.onEnd(e), false);
                container.addEventListener('mousecancel', e => this.onEnd(e), false);
                container.addEventListener('mouseleave', e => this.onEnd(e), false);
                container.addEventListener('mouseout', e => this.onEnd(e), false);
            } else {
                container.interactive = true;
                container.on('pointerup', e => this.onEnd(e));
                container.on('pointercancel', e => this.onEnd(e));
                container.on('pointerleave', e => this.onEnd(e));
                container.on('pointerout', e => this.onEnd(e));
            }

            // Slider
            //-----------------
            let sliderObj = new PIXI.Graphics();
            this.sliderObj = sliderObj;
            this.addChild(sliderObj);

            // Control
            //-----------------
            let control = new PIXI.Graphics();
            control.x = this.opts.controlRadius + this.valueToPixel(this.opts.value);
            control.y = this.opts.controlRadius;

            // pointerdown on the control for dragndrop
            control.on('pointerdown', e => {
                control.event = e;
                control.delta = e.data.getLocalPosition(this.control).x;
                control.dragging = true;

                if (this.opts.onStart) {
                    this.opts.onStart.call(this, e, this);
                }
            });

            this.control = control;

            this.addChild(this.control);
            
            // interaction
            //-----------------
            this.sliderObj.on('pointerover', e => {
                TweenMax.to(this.control, this.theme.fast, {alpha: .83});
            });

            this.sliderObj.on('pointerout', e => {
                TweenMax.to(this.control, this.theme.fast, {alpha: 1});
            });

            this.sliderObj.on('pointerdown', e => {
                this.sliderObj.pointerdowned = true;
                TweenMax.to(this.control, this.theme.fast, {alpha: .7});
            });

            // Click on the slider bar
            this.sliderObj.on('pointerup', e => {
                if (this.sliderObj.pointerdowned) {
                    this.sliderObj.pointerdowned = false;
                    const position = e.data.getLocalPosition(this.control.parent);
                    this.value = this.pixelToValue(position.x - this.opts.controlRadius);
                    TweenMax.to(this.control, this.theme.fast, {alpha: .83});
                }
            });

            // disabled
            //-----------------
            this.disabled = this.opts.disabled;
            
            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({
                        object: this,
                        content: this.opts.tooltip
                    });
                } else {
                    this.opts.tooltip.object = this;
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the slider. Can be used after resizing.
         * 
         * @return {Slider} A reference to the slider for chaining.
         */
        layout() {
            
            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            // draw
            //-----------------
            this.draw();

            return this
        }
        
        /**
         * Draws the slider to the canvas.
         * 
         * @private
         * @return {Slider} A reference to the slider for chaining.
         */
        draw() {

            const r = this.radius;
            const cr = this.opts.controlRadius;
            const w = this.opts.width;
            const h = this.opts.height;
            const x = cr + r;
            const y = cr + r - h;

            this.sliderObj.clear();
            this.sliderObj.beginFill(0xffffff, 0);
            this.sliderObj.drawRect(0, 0, x + w + cr, cr * 2);
            this.sliderObj.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
            this.sliderObj.beginFill(this.opts.fill, this.opts.fillAlpha);
            this.sliderObj.moveTo(x, y);
            this.sliderObj.lineTo(x + w, y);
            this.sliderObj.arcTo(x + w + r, y, x + w + r, y + r, r);
            this.sliderObj.lineTo(x + w + r, y + r + 1);                     // BUGFIX: If not specified, there is a small area without a stroke.
            this.sliderObj.arcTo(x + w + r, y + h, x + w, y + h, r);
            this.sliderObj.lineTo(x, y + h);
            this.sliderObj.arcTo(x - r, y + h, x - r, y + r, r);
            this.sliderObj.arcTo(x - r, y, x, y, r);
            this.sliderObj.endFill();

            // Draw control
            this.control.clear();
            this.control.lineStyle(this.opts.controlStrokeWidth, this.opts.controlStroke, this.opts.controlStrokeAlpha);
            this.control.beginFill(this.opts.controlFill, this.opts.controlFillAlpha);
            this.control.drawCircle(0, 0, cr - 1);
            this.control.beginFill(this.opts.controlStroke, this.opts.controlStrokeAlpha);
            this.control.drawCircle(0, 0, cr / 6);
            this.control.endFill();

            return this
        }

        /**
         * Executed, when the slider control movement ended.
         * 
         * @private
         * @return {Slider} A reference to the slider for chaining.
         */
        onEnd(e) {

            if (this.control.dragging) {
                this.control.event = null;
                this.control.dragging = false;
                if (this.opts.onComplete) {
                    this.opts.onComplete.call(this, e, this);
                }
            }

            return this
        }

        /**
         * Calculates the value for a given pixel.
         * 
         * @private
         * @param {number} value 
         * @returns  {number} The calucalted pixel.
         */
        valueToPixel(value) {
            if (value < this.opts.min) {
                value = this.opts.min;
            } else if (value > this.opts.max) {
                value = this.opts.max;
            }
            return this.opts.width * (value - this.opts.min) / (this.opts.max - this.opts.min)
        }

        /**
         * Calculates the pixel for a given value.
         * 
         * @private
         * @param {number} pixel 
         * @returns {number} The calucalted value.
         */
        pixelToValue(pixel) {
            if (pixel < 0) {
                pixel = 0;
            } else if (pixel > this.opts.width) {
                pixel = this.opts.width;
            }
            return this.opts.min + ((this.opts.max - this.opts.min) * pixel / this.opts.width)
        }
        
        /**
         * Gets or sets the value.
         * 
         * @member {number}
         */
        get value() {
            return Math.round(this._value)
        }
        set value(value) {
            if (value < this.opts.min) {
                value = this.opts.min;
            } else if (value > this.opts.max) {
                value = this.opts.max;
            }
            this._value = value;

            const x = this.valueToPixel(value) + this.opts.controlRadius;

            TweenMax.to(this.control, this.theme.fast, {x: x});
        }
        
        /**
         * Gets or sets the disabled state. When disabled, the slider cannot be clicked.
         * 
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }
        set disabled(value) {

            this._disabled = value;
            
            if (this._disabled) {
                this.interactive = false;
                this.sliderObj.interactive = false;
                this.control.interactive = false;
                this.control.buttonMode = false;
                this.alpha = .5;
            } else {
                this.interactive = true;
                this.sliderObj.interactive = true;
                this.control.interactive = true;
                this.control.buttonMode = true;
                this.alpha = 1;
            }
        }

        /**
         * Shows the slider (sets his alpha values to 1).
         * 
         * @return {Slider} A reference to the slider for chaining.
         */
        show() {

            this.opts.strokeAlpha = 1;
            this.opts.fillAlpha = 1;
            this.opts.controlStrokeAlpha = 1;
            this.opts.controlFillAlpha = 1;

            this.layout();

            return this
        }
        
        /**
         * Hides the slider (sets his alpha values to 1).
         * 
         * @return {Slider} A reference to the slider for chaining.
         */
        hide() {

            this.opts.strokeAlpha = 0;
            this.opts.fillAlpha = 0;
            this.opts.controlStrokeAlpha = 0;
            this.opts.controlFillAlpha = 0;

            this.layout();

            return this
        }
    }

    /**
     * Callback for the switch action.
     *
     * @callback actionCallback
     * @param {object} event - The event object.
     * @param {Switch} switch - A reference to the switch (also this refers to the switch).
     */

    /**
     * Callback for the switch action.
     *
     * @callback actionActiveCallback
     * @param {object} event - The event object.
     * @param {Switch} switch - A reference to the switch (also this refers to the switch).
     */

    /**
     * Callback for the switch beforeAction.
     *
     * @callback beforeActionCallback
     * @param {object} event - The event object.
     * @param {Switch} switch - A reference to the switch (also this refers to the switch).
     */

    /**
     * Callback for the switch afterAction.
     *
     * @callback afterActionCallback
     * @param {object} event - The event object.
     * @param {Switch} switch - A reference to the switch (also this refers to the switch).
     */

    /**
     * Class that represents a PixiJS Switch.
     * 
     * @example
     * // Create the app
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * // Create the switch
     * const switch1 = new Switch({
     *     x: 10,
     *     y: 20
     * })
     *
     * // Add the switch to a DisplayObject
     * app.scene.addChild(switch1)
     *
     * @class
     * @extends PIXI.Container
     * @see {@link http://pixijs.download/dev/docs/PIXI.Container.html|PIXI.Container}
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/switch.html|DocTest}
     */
    class Switch extends PIXI.Container {
        
        /**
         * Creates an instance of a Switch.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the switch.
         * @param {number} [opts.id=auto generated] - The id of the switch.
         * @param {number} [opts.x=0] - The x position of the switch. Can be also set after creation with switch.x = 0.
         * @param {number} [opts.y=0] - The y position of the switch. Can be also set after creation with switch.y = 0.
         * @param {string|Theme} [opts.theme=dark] - The theme to use for this switch. Possible values are dark, light, red
         *     or a Theme object.
         * @param {number} [opts.width=44] - The width of the switch.
         * @param {number} [opts.height=28] - The height of the switch.
         * @param {number} [opts.fill=Theme.fill] - The color of the switch background as a hex value.
         * @param {number} [opts.fillAlpha=Theme.fillAlpha] - The alpha value of the background.
         * @param {number} [opts.fillActive=Theme.fillActive] - The color of the switch background when activated.
         * @param {number} [opts.fillActiveAlpha=Theme.fillActiveAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.stroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.strokeWidth=Theme.strokeWidth] - The width of the border in pixel.
         * @param {number} [opts.strokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.strokeActive=Theme.strokeActive] - The color of the border when activated.
         * @param {number} [opts.strokeActiveWidth=Theme.strokeActiveWidth] - The width of the border in pixel when activated.
         * @param {number} [opts.strokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {number} [opts.controlFill=Theme.stroke] - The color of the switch control background as a hex value.
         * @param {number} [opts.controlFillAlpha=Theme.strokeAlpha] - The alpha value of the background.
         * @param {number} [opts.controlFillActive=Theme.stroke] - The color of the switch control background when activated.
         * @param {number} [opts.controlFillActiveAlpha=Theme.strokeAlpha] - The alpha value of the background when activated.
         * @param {number} [opts.controlStroke=Theme.stroke] - The color of the border as a hex value.
         * @param {number} [opts.controlStrokeWidth=Theme.strokeWidth * 0.8] - The width of the border in pixel.
         * @param {number} [opts.controlStrokeAlpha=Theme.strokeAlpha] - The alpha value of the border.
         * @param {number} [opts.controlStrokeActive=Theme.stroke] - The color of the border when activated.
         * @param {number} [opts.controlStrokeActiveWidth=Theme.strokeActiveWidth * 0.8] - The width of the border in pixel when activated.
         * @param {number} [opts.controlStrokeActiveAlpha=Theme.strokeActiveAlpha] - The alpha value of the border when activated.
         * @param {number} [opts.duration=Theme.fast] - The duration of the animation when the switch gets activated in seconds.
         * @param {number} [opts.durationActive=Theme.fast] - The duration of the animation when the switch gets deactivated in seconds.
         * @param {boolean} [opts.disabled=false] - Is the switch disabled? When disabled, the switch has a lower alpha value
         *     and cannot be clicked (interactive is set to false).
         * @param {boolean} [opts.active=false] - Is the button initially active?
         * @param {actionCallback} [opts.action] - Executed when the switch was triggered in inactive state (by pointerup).
         * @param {actionActiveCallback} [opts.actionActive] - Executed when the button was triggered in active state (by pointerup).
         * @param {beforeActionCallback} [opts.beforeAction] - Executed before an action is triggered.
         * @param {afterActionCallback} [opts.afterAction] - Executed after an action was triggered.
         * @param {string|object} [opts.tooltip] - A string for the label of the tooltip or an object to configure the tooltip
         *     to display. 
         * @param {boolean} [opts.visible=true] - Is the switch initially visible (property visible)?
         */
        constructor(opts = {}) {

            super();
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                x: 0,
                y: 0,
                width: 44,
                height: 28,
                fill: theme.fill,
                fillAlpha: theme.fillAlpha,
                fillActive: theme.primaryColor,
                fillActiveAlpha: theme.fillActiveAlpha,
                stroke: theme.stroke,
                strokeWidth: theme.strokeWidth,
                strokeAlpha: theme.strokeAlpha,
                strokeActive: theme.primaryColor,
                strokeActiveWidth: theme.strokeActiveWidth,
                strokeActiveAlpha: theme.strokeActiveAlpha,
                controlFill: theme.stroke,
                controlFillAlpha: theme.strokeAlpha,
                controlFillActive: theme.stroke,
                controlFillActiveAlpha: theme.strokeAlpha,
                controlStroke: theme.stroke,
                controlStrokeWidth: theme.strokeWidth * .8,
                controlStrokeAlpha: theme.strokeAlpha,
                controlStrokeActive: theme.stroke,
                controlStrokeActiveWidth: theme.strokeActiveWidth * .8,
                controlStrokeActiveAlpha: theme.strokeActiveAlpha,
                duration: theme.fast,
                durationActive: theme.fast,
                disabled: false,
                active: false,
                action: null,
                actionActive: null,
                beforeAction: null,
                afterAction: null,
                tooltip: null,
                visible: true
            }, opts);

            this.opts.controlRadius = this.opts.controlRadius || (this.opts.height / 2);
            this.opts.controlRadiusActive = this.opts.controlRadiusActive || this.opts.controlRadius;

            // Validation
            //-----------------
            if (this.opts.height > this.opts.width) {
                this.opts.height = this.opts.width;
            }

            // Properties
            //-----------------
            this.id = this.opts.id;
            this.radius = this.opts.height / 2;

            this._active = null;
            this._disabled = null;

            this.switchObj = null;
            this.control = null;
            this.tooltip = null;
            
            this.visible = this.opts.visible;

            // animated
            //-----------------
            this.tempAnimated = {
                fill: this.opts.fill,
                fillAlpha: this.opts.fillAlpha,
                stroke: this.opts.stroke,
                strokeWidth: this.opts.strokeWidth,
                strokeAlpha: this.opts.strokeAlpha,
                controlFill: this.opts.controlFill,
                controlFillAlpha: this.opts.controlFillAlpha,
                controlStroke: this.opts.controlStroke,
                controlStrokeWidth: this.opts.controlStrokeWidth,
                controlStrokeAlpha: this.opts.controlStrokeAlpha,
                controlRadius: this.opts.controlRadius
            };

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Switch} A reference to the switch for chaining.
         */
        setup() {

            // Switch
            //-----------------
            let switchObj = new PIXI.Graphics();
            this.switchObj = switchObj;
            this.addChild(switchObj);

            // Control
            //-----------------
            this.xInactive = this.opts.controlRadius;
            this.xActive = this.opts.width - this.opts.controlRadiusActive;
            
            let control = new PIXI.Graphics();
            control.x = this.opts.active ? this.xActive : this.xInactive;
            control.y = this.opts.height / 2;

            this.control = control;

            this.addChild(this.control);
            
            // interaction
            //-----------------
            this.switchObj.on('pointerover', e => {
                TweenMax.to(this.control, this.theme.fast, {alpha: .83});
            });

            this.switchObj.on('pointerout', e => {
                TweenMax.to(this.control, this.theme.fast, {alpha: 1});
            });

            this.switchObj.on('pointerdown', e => {
                TweenMax.to(this.control, this.theme.fast, {alpha: .7});
            });

            this.switchObj.on('pointerup', e => {

                if (this.opts.beforeAction) {
                    this.opts.beforeAction.call(this, e, this);
                }

                this.active = !this.active;

                if (this.active) {
                    if (this.opts.action) {
                        this.opts.action.call(this, e, this);
                    }
                } else {
                    if (this.opts.actionActive) {
                        this.opts.actionActive.call(this, e, this);
                    }
                }

                TweenMax.to(this.control, this.theme.fast, {alpha: .83});

                if (this.opts.afterAction) {
                    this.opts.afterAction.call(this, e, this);
                }
            });

            // disabled
            //-----------------
            this.disabled = this.opts.disabled;

            // active
            //-----------------
            this.active = this.opts.active;
            
            // tooltip
            //-----------------
            if (this.opts.tooltip) {
                if (typeof this.opts.tooltip === 'string') {
                    this.tooltip = new Tooltip({
                        object: this,
                        content: this.opts.tooltip
                    });
                } else {
                    this.opts.tooltip.object = this;
                    this.tooltip = new Tooltip(this.opts.tooltip);
                }
            }

            return this
        }
        
        /**
         * Should be called to refresh the layout of the switch. Can be used after resizing.
         * 
         * @return {Switch} A reference to the switch for chaining.
         */
        layout() {
            
            // set position
            //-----------------
            this.position.set(this.opts.x, this.opts.y);

            // draw
            //-----------------
            this.draw();

            return this
        }
        
        /**
         * Draws the switch to the canvas.
         * 
         * @private
         * @return {Switch} A reference to the switch for chaining.
         */
        draw() {

            this.switchObj.clear();
            if (this.active) {
                this.switchObj.lineStyle(this.opts.strokeActiveWidth, this.opts.strokeActive, this.opts.strokeActiveAlpha);
                this.switchObj.beginFill(this.opts.fillActive, this.opts.fillActiveAlpha);
            } else {
                this.switchObj.lineStyle(this.opts.strokeWidth, this.opts.stroke, this.opts.strokeAlpha);
                this.switchObj.beginFill(this.opts.fill, this.opts.fillAlpha);
            }
            this.switchObj.moveTo(this.radius, 0);
            this.switchObj.lineTo(this.opts.width - this.radius, 0);
            this.switchObj.arcTo(this.opts.width, 0, this.opts.width, this.radius, this.radius);
            this.switchObj.lineTo(this.opts.width, this.radius + 1);                                   // BUGFIX: If not specified, there is a small area without a stroke.
            this.switchObj.arcTo(this.opts.width, this.opts.height, this.opts.width - this.radius, this.opts.height, this.radius);
            this.switchObj.lineTo(this.radius, this.opts.height);
            this.switchObj.arcTo(0, this.opts.height, 0, this.radius, this.radius);
            this.switchObj.arcTo(0, 0, this.radius, 0, this.radius);
            this.switchObj.endFill();

            // Draw control
            this.control.clear();
            if (this.active) {
                this.control.lineStyle(this.opts.controlStrokeActiveWidth, this.opts.controlStrokeActive, this.opts.controlStrokeActiveAlpha);
                this.control.beginFill(this.opts.controlFillActive, this.opts.controlFillActiveAlpha);
                this.control.drawCircle(0, 0, this.opts.controlRadiusActive - 1);
            } else {
                this.control.lineStyle(this.opts.controlStrokeWidth, this.opts.controlStroke, this.opts.controlStrokeAlpha);
                this.control.beginFill(this.opts.controlFill, this.opts.controlFillAlpha);
                this.control.drawCircle(0, 0, this.opts.controlRadius - 1);
            }
            this.control.endFill();

            return this
        }
        
        /**
         * Draws the animation.
         * 
         * @private
         * @return {Switch} A reference to the switch for chaining.
         */
        drawAnimated() {

            this.switchObj.clear();
            this.switchObj.lineStyle(this.tempAnimated.strokeWidth, this.tempAnimated.stroke, this.tempAnimated.strokeAlpha);
            this.switchObj.beginFill(this.tempAnimated.fill, this.tempAnimated.fillAlpha);
            this.switchObj.moveTo(this.radius, 0);
            this.switchObj.lineTo(this.opts.width - this.radius, 0);
            this.switchObj.arcTo(this.opts.width, 0, this.opts.width, this.radius, this.radius);
            this.switchObj.lineTo(this.opts.width, this.radius + 1);                                   // BUGFIX: If not specified, there is a small area without a stroke.
            this.switchObj.arcTo(this.opts.width, this.opts.height, this.opts.width - this.radius, this.opts.height, this.radius);
            this.switchObj.lineTo(this.radius, this.opts.height);
            this.switchObj.arcTo(0, this.opts.height, 0, this.radius, this.radius);
            this.switchObj.arcTo(0, 0, this.radius, 0, this.radius);
            this.switchObj.endFill();

            this.control.clear();
            this.control.lineStyle(this.tempAnimated.controlStrokeWidth, this.tempAnimated.controlStroke, this.tempAnimated.controlStrokeAlpha);
            this.control.beginFill(this.tempAnimated.controlFill, this.tempAnimated.controlFillAlpha);
            this.control.drawCircle(0, 0, this.tempAnimated.controlRadius - 1);
            this.control.endFill();

            return this
        }
        
        /**
         * Gets or sets the active state.
         * 
         * @member {boolean}
         */
        get active() {
            return this._active
        }

        set active(value) {

            this._active = value;

            if (this._active) {

                TweenMax.to(this.control, this.opts.duration, {x: this.xActive});
                TweenMax.to(this.tempAnimated, this.opts.duration, {
                    colorProps: {
                        fill: this.opts.fillActive,
                        stroke: this.opts.strokeActive,
                        controlFill: this.opts.controlFillActive,
                        controlStroke: this.opts.controlStrokeActive,
                        format: 'number'
                    },
                    fillAlpha: this.opts.fillActiveAlpha,
                    strokeWidth: this.opts.strokeActiveWidth,
                    strokeAlpha: this.opts.strokeActiveAlpha,
                    controlFillAlpha: this.opts.controlFillActiveAlpha,
                    controlStrokeWidth: this.opts.controlStrokeActiveWidth,
                    controlStrokeAlpha: this.opts.controlStrokeActiveAlpha,
                    controlRadius: this.opts.controlRadiusActive,
                    onUpdate: () => this.drawAnimated(),
                    onComplete: () => this.draw()
                });


            } else {
                TweenMax.to(this.control, this.opts.durationActive, {x: this.xInactive});
                TweenMax.to(this.tempAnimated, this.opts.durationActive, {
                    colorProps: {
                        fill: this.opts.fill,
                        stroke: this.opts.stroke,
                        controlFill: this.opts.controlFill,
                        controlStroke: this.opts.controlStroke,
                        format: 'number'
                    },
                    fillAlpha: this.opts.fillAlpha,
                    strokeWidth: this.opts.strokeWidth,
                    strokeAlpha: this.opts.strokeAlpha,
                    controlFillAlpha: this.opts.controlFillAlpha,
                    controlStrokeWidth: this.opts.controlStrokeWidth,
                    controlStrokeAlpha: this.opts.controlStrokeAlpha,
                    controlRadius: this.opts.controlRadius,
                    onUpdate: () => this.drawAnimated(),
                    onComplete: () => this.draw()
                });
            }
        }
        
        /**
         * Gets or sets the disabled state. When disabled, the switch cannot be clicked.
         * 
         * @member {boolean}
         */
        get disabled() {
            return this._disabled
        }

        set disabled(value) {

            this._disabled = value;
            
            if (this._disabled) {
                this.switchObj.interactive = false;
                this.switchObj.buttonMode = false;
                this.switchObj.alpha = .5;
                this.control.alpha = .5;
            } else {
                this.switchObj.interactive = true;
                this.switchObj.buttonMode = true;
                this.switchObj.alpha = 1;
                this.control.alpha = 1;
            }
        }

        /**
         * Shows the switch (sets his alpha values to 1).
         * 
         * @return {Switch} A reference to the switch for chaining.
         */
        show() {

            this.opts.strokeAlpha = 1;
            this.opts.strokeActiveAlpha = 1;
            this.opts.fillAlpha = 1;
            this.opts.fillActiveAlpha = 1;
            this.opts.controlStrokeAlpha = 1;
            this.opts.controlStrokeActiveAlpha = 1;
            this.opts.controlFillAlpha = 1;
            this.opts.controlFillActiveAlpha = 1;

            this.layout();

            return this
        }
        
        /**
         * Hides the switch (sets his alpha values to 1).
         * 
         * @return {Switch} A reference to the switch for chaining.
         */
        hide() {

            this.opts.strokeAlpha = 0;
            this.opts.strokeActiveAlpha = 0;
            this.opts.fillAlpha = 0;
            this.opts.fillActiveAlpha = 0;
            this.opts.controlStrokeAlpha = 0;
            this.opts.controlStrokeActiveAlpha = 0;
            this.opts.controlFillAlpha = 0;
            this.opts.controlFillActiveAlpha = 0;

            this.layout();

            return this
        }
    }

    /**
     * Class that represents a PixiJS PopupMenu.
     * 
     * @example
     * // Create the button and the modal when clicked
     * const button = new Button({
     *     label: 'Show PopupMenu',
     *     action: e => {
     *         const popupmenu = new PopupMenu({
     *             items: [
     *                 {label: 'Save', action: () => alert('Saved')},
     *                 {label: 'Edit', action: () => alert('Edited')},
     *                 {label: 'Delete', action: () => alert('Deleted')}
     *             ]
     *         })
     *         app.scene.addChild(popupmenu)
     *     }
     * })
     *
     * // Add the button to a DisplayObject
     * app.scene.addChild(button)
     *
     * @class
     * @extends Popup
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/popupmenu.html|DocTest}
     */
    class PopupMenu$1 extends Popup {
        
        /**
         * Creates an instance of a PopupMenu.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the modal.
         * @param {object[]} [opts.items=[]] - A list of the menu items. Each item must be of type object.
         *     If an object has a label property, a PIXI.Text object is created (using the textStyle property).
         *     If an object hasn't a label property, it must contain a content property which has to be a
         *     PIXI.DisplayObject.
         * @param {number} [opts.margin=Theme.margin / 2] - The app where the modal belongs to.
         * @param {object} [opts.textStyle=Theme.textStyle] - The color of the background.
         * @param {boolean} [opts.closeOnPopup=true] - The opacity of the background.
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            
            opts = Object.assign({}, {
                items: [],
                margin: theme.margin / 2,
                textStyle: theme.textStyle,
                closeOnPopup: true
            }, opts);

            super(opts);
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {PopupMenu} A reference to the popupmenu for chaining.
         */
        setup() {

            // content
            //-----------------
            const content = new PIXI.Container();
            
            let y = 0;
            for (let item of this.opts.items) {

                let object = null;

                if (item.label) {
                    object = new PIXI.Text(item.label, item.textStyle || this.opts.textStyle);
                } else {
                    object = item.content;
                }

                object.y = y;

                if (item.action) {
                    if (item.disabled) {
                        object.alpha = .5;
                    } else {
                        object.interactive = true;
                        object.buttonMode = true;
                    }
                    object.on('pointerover', e => {
                        TweenMax.to(object, this.theme.fast, {alpha: .83, overwrite: 'none'});
                    });
                    object.on('pointerout', e => {
                        TweenMax.to(object, this.theme.fast, {alpha: 1, overwrite: 'none'});
                    });
                    object.on('pointerup', e => {
                        item.action.call(object, e, object);
                        if (this.opts.closeOnAction) {
                            this.hide();
                        }
                    });
                }

                content.addChild(object);

                y += object.height + this.opts.margin;
            }

            this.opts.content = content;

            super.setup();
        }
    }

    /* global Quad */

    /**
     * Class that represents a PixiJS Volatile.
     * 
     * @example
     * const app = new PIXIApp({
     *     view: canvas,
     *     width: 900,
     *     height: 250
     * }).setup().run()
     * 
     * const button = new Button({
     *     label: 'Volatile!',
     *     action: () => {
     *         new Volatile({
     *             object: button,
     *             direction: 'right',
     *             destroyOnComplete: false
     *         })
     *     }
     * })
     * 
     * app.scene.addChild(button)
     *
     * @class
     * @see {@link https://www.iwm-tuebingen.de/iwmbrowser/lib/pixi/volatile.html|DocTest}
     */
    class Volatile {
        
        /**
         * Creates an instance of a Volatile.
         * 
         * @constructor
         * @param {object} [opts] - An options object to specify to style and behaviour of the modal.
         * @param {number} [opts.id=auto generated] - The id of the tooltip.
         * @param {PIXI.DisplayObject|PIXI.DisplayObject[]} opts.object - The object where the volatile should be applied to.
         * @param {string} [opts.direction=top] - The animation direction. Possible values: top, right, bottom, left.
         * @param {function} [opts.onStart] - A function which is executed when the volatile animation starts.
         * @param {function} [opts.onComplete] - A function which is executed when the volatile animation finishes.
         * @param {number} [opts.distance=160] - The animation distance.
         * @param {number} [opts.duration=1.5] - The duration of the animation in seconds.
         * @param {object} [opts.ease=Quad.easeOut] - The easing of the animation, see {@link https://greensock.com/docs/Easing}
         * @param {boolean} [opts.destroyOnComplete=true] - Should the object be destroyed after the volatile animation?
         */
        constructor(opts = {}) {
            
            const theme = Theme.fromString(opts.theme);
            this.theme = theme;

            this.opts = Object.assign({}, {
                id: PIXI.utils.uid(),
                object: null,
                direction: 'top',               // top, right, bottom, left
                onStart: null,
                onComplete: null,
                distance: 160,
                duration: 1.5,
                ease: Quad.easeOut,
                destroyOnComplete: true
            }, opts);

            this.id = this.opts.id;

            if (!Array.isArray(this.opts.object)) {
                this.opts.object = [this.opts.object];
            }

            this.objects = this.opts.object;

            // setup
            //-----------------
            this.setup();

            // layout
            //-----------------
            this.layout();

            // run
            //-----------------
            this.run();
        }
        
        /**
         * Creates children and instantiates everything.
         * 
         * @private
         * @return {Volatile} A reference to the volatile for chaining.
         */
        setup() {

            return this
        }
        
        /**
         * Should be called to refresh the layout of the volatile. Can be used after resizing.
         * 
         * @return {Volatile} A reference to the volatile for chaining.
         */
        layout() {
            
            return this
        }
        
        /**
         * Starts the volatile animation.
         * 
         * @private
         * @return {Volatile} A reference to the volatile for chaining.
         */
        run() {

            for (let object of this.objects) {

                let x = object.x;
                let y = object.y;

                switch (this.opts.direction) {
                    case 'top':
                        y -= this.opts.distance;
                        break
                    case 'right':
                        x += this.opts.distance;
                        break
                    case 'bottom':
                        y += this.opts.distance;
                        break
                    case 'left':
                        x -= this.opts.distance;
                        break
                }

                TweenMax.to(object, this.opts.duration, {
                    x: x,
                    y: y,
                    alpha: 0,
                    ease: this.opts.ease,
                    overwrite: 'all',
                    onStart: () => {
                        if (this.opts.onStart) {
                            this.opts.onStart.call(object, object);
                        }
                    },
                    onComplete: () => {
                        
                        if (this.opts.onComplete) {
                            this.opts.onComplete.call(object, object);
                        }

                        if (this.opts.destroyOnComplete) {
                            object.destroy({children: true});
                        }
                    }
                });
            }

            return this
        }
    }

    /* Needed to ensure that rollup.js includes class definitions and the classes
    are visible inside doctests.
    */
    window.PIXIApp = PIXIApp;
    window.BlurFilter = BlurFilter;
    window.FlipEffect = FlipEffect;
    window.Flippable = Flippable;
    window.DeepZoomInfo = DeepZoomInfo;
    window.DeepZoomImage = DeepZoomImage;
    window.Popover = Popover;
    window.ScatterContainer = ScatterContainer;
    window.DisplayObjectScatter = DisplayObjectScatter;
    window.Command = Command;
    window.RecorderTools = RecorderTools;
    window.Timeline = Timeline;
    window.AppTest = AppTest;
    window.Theme = Theme;
    window.Button = Button;
    window.ButtonGroup = ButtonGroup;
    window.Slider = Slider;
    window.Switch = Switch;
    window.Popup = Popup;
    window.PopupMenu = PopupMenu$1;
    window.Modal = Modal;
    window.Volatile = Volatile;
    window.Message = Message;
    window.Tooltip = Tooltip;
    window.Badge = Badge;
    window.Progress = Progress;

}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWxsLmpzIiwic291cmNlcyI6WyJ0aGVtZS5qcyIsInByb2dyZXNzLmpzIiwiYWJzdHJhY3Rwb3B1cC5qcyIsInRvb2x0aXAuanMiLCJiYWRnZS5qcyIsIi4uL2V2ZW50cy5qcyIsImJ1dHRvbi5qcyIsImJ1dHRvbmdyb3VwLmpzIiwicG9wdXAuanMiLCJtb2RhbC5qcyIsIm1lc3NhZ2UuanMiLCJhcHAuanMiLCJibHVyZmlsdGVyLmpzIiwiLi4vdXRpbHMuanMiLCIuLi9pbnRlcmZhY2UuanMiLCIuLi9pbnRlcmFjdGlvbi5qcyIsIi4uL2NhcGFiaWxpdGllcy5qcyIsIi4uL3NjYXR0ZXIuanMiLCIuLi9mbGlwcGFibGUuanMiLCJkZWVwem9vbS5qcyIsImZsaXBlZmZlY3QuanMiLCJmbGlwcGFibGUuanMiLCJwb3BvdmVyLmpzIiwic2NhdHRlci5qcyIsInRlc3QuanMiLCJ0aW1lbGluZS5qcyIsInNsaWRlci5qcyIsInN3aXRjaC5qcyIsInBvcHVwbWVudS5qcyIsInZvbGF0aWxlLmpzIiwiYnVuZGxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIFRoZW1lLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIHRoZW1lXG4gKiBjb25zdCB5ZWxsb3cgPSBuZXcgVGhlbWUoe1xuICogICAgIGZpbGw6IDB4ZmVjZDJkLFxuICogICAgIGZpbGxBY3RpdmU6IDB4ZmU5NzI3LFxuICogICAgIHN0cm9rZUFjdGl2ZTogMHhmZWNkMmQsXG4gKiAgICAgc3Ryb2tlQWN0aXZlV2lkdGg6IDQsXG4gKiAgICAgdGV4dFN0eWxlOiB7XG4gKiAgICAgICAgIGZpbGw6IDB4NWVjN2Y4XG4gKiAgICAgfSxcbiAqICAgICB0ZXh0U3R5bGVBY3RpdmU6IHtcbiAqICAgICAgICAgZmlsbDogMHg1OTU0ZDNcbiAqICAgICB9LFxuICogICAgIHRleHRTdHlsZUxhcmdlOiB7XG4gKiAgICAgICAgIGZvbnRTaXplOiAzNlxuICogICAgIH1cbiAqIH0pXG4gKlxuICogLy8gQ3JlYXRlIHRoZSBhcHAgYW5kIGFwcGx5IHRoZSBuZXcgdGhlbWUgdG8gaXRcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDQ1MCxcbiAqICAgICBoZWlnaHQ6IDE1MCxcbiAqICAgICB0aGVtZTogeWVsbG93XG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKlxuICogQGNsYXNzXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvdGhlbWUuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaGVtZSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgVGhlbWUuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSB0aGVtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWFyZ2luPTEwXSAtIFRoZSBvdXRlciBzcGFjaW5nIChkaXN0YW5jZSB0byBvdGhlciBvYmplY3RzKSBmcm9tIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnBhZGRpbmc9MTBdIC0gVGhlIGlubmVyIHNwYWNpbmcgKGRpc3RhbmNlIGZyb20gaWNvbiBhbmQvb3IgbGFiZWwpIHRvIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnJhZGl1cz00XSAtIFRoZSByYWRpdXMgdXNlZCB3aGVuIGRyYXdpbmcgYSByb3VuZGVkIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmFzdD0wLjI1XSAtIFRoZSBkdXJhdGlvbiBvZiB0aW1lIHdoZW4gaXQgaGFzIHRvIGJlIGZhc3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm5vcm1hbD0wLjVdIC0gVGhlIGR1cmF0aW9uIG9mIHRpbWUgd2hlbiBpdCBoYXMgdG8gYmUgbm9ybWFsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zbG93PTFdIC0gVGhlIGR1cmF0aW9uIG9mIHRpbWUgd2hlbiBpdCBoYXMgdG8gYmUgc2xvdy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucHJpbWFyeUNvbG9yPTB4NWVjN2Y4XSAtIFRoZSBwcmltYXJ5IGNvbG9yIG9mIHRoZSB0aGVtZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29sb3IxPTB4MjgyODI4XSAtIFRoZSBmaXJzdCBjb2xvciBvZiB0aGUgdGhlbWUuIEZvciBleGFtcGxlIHVzZWQgZm9yIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb2xvcjI9MHhmNmY2ZjZdIC0gVGhlIHNlY29uZCBjb2xvciBvZiB0aGUgdGhlbWUuIEZvciBleGFtcGxlIHVzZWQgZm9yIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGw9Y29sb3IxXSAtIFRoZSBjb2xvciBvZiB0aGUgYmFja2dyb3VuZCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFscGhhPTFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWN0aXZlPWNvbG9yMV0gLSBUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmVBbHBoYT0xXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlPWNvbG9yMl0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlV2lkdGg9MC42XSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBbHBoYT0xXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmU9Y29sb3IyXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVXaWR0aD0wLjZdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZUFscGhhPTFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmljb25Db2xvcj1jb2xvcjJdIC0gVGhlIGNvbG9yIG9mIHRoZSBpY29uIChzZXQgYnkgdGhlIHRpbnQgcHJvcGVydHkpIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pY29uQ29sb3JBY3RpdmU9Y29sb3JQcmltYXJ5XSAtIFRoZSBjb2xvciBvZiB0aGUgaWNvbiB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFja2dyb3VuZD1jb2xvcjFdIC0gVGhlIGNvbG9yIG9mIGEgYmFja2dyb3VuZCBmb3IgYSBjb21wb25lbnQgKGUuZy4gYXQgdGhlIE1vZGFsIGNsYXNzKS5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlPXt9XSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGV4dC4gU2VlIFBJWEkuVGV4dFN0eWxlXG4gICAgICogICAgIGZvciBwb3NzaWJsZSBvcHRpb25zLiBEZWZhdWx0IG9iamVjdDpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMudGV4dFN0eWxlLmZvbnRGYW1pbHk9XCJBdmVuaXIgTmV4dFwiLCBcIk9wZW4gU2Fuc1wiLCBcIlNlZ29lIFVJXCIsIC4uLl0gLSBUaGUgZm9udCBmYW1pbHkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnRleHRTdHlsZS5mb250V2VpZ2h0PTQwMF0gLSBUaGUgZm9udCB3ZWlnaHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZS5mb250U2l6ZT0xNl0gLSBUaGUgZm9udCBzaXplLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50ZXh0U3R5bGUuZmlsbD1jb2xvcjJdIC0gVGhlIGZpbGwgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZS5zdHJva2U9Y29sb3IxXSAtIFRoZSBzdHJva2UgY29sb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZS5zdHJva2VUaGlja25lc3M9MF0gLSBUaGUgdGhpY2tuZXNzIG9mIHRoZSBzdHJva2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnRleHRTdHlsZS5taXRlckxpbWl0PTFdIC0gVGhlIG1ldGVyIGxpbWl0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy50ZXh0U3R5bGUubGluZUpvaW49cm91bmRdIC0gVGhlIGxpbmUgam9pbi5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlQWN0aXZlPXRleHRTdHlsZSArIHtmaWxsOiBwcmltYXJ5Q29sb3J9XSAtIEEgdGV4dHN0eWxlIG9iamVjdCB3aGljaCBpcyB1c2VkXG4gICAgICogICAgIGZvciBhY3RpdmVkIHRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLnRleHRTdHlsZVNtYWxsPXRleHRTdHlsZSArIHtmb250U2l6ZTogLT0gM31dIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IHdoaWNoIGlzIHVzZWQgZm9yXG4gICAgICogICAgIHNtYWxsIHRleHQuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLnRleHRTdHlsZVNtYWxsQWN0aXZlPXRleHRTdHlsZVNtYWxsICsge2ZpbGw6IHByaW1hcnlDb2xvcn1dIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IHdoaWNoXG4gICAgICogICAgIGlzIHVzZWQgZm9yIHNtYWxsIGFjdGl2ZWQgdGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlTGFyZ2U9dGV4dFN0eWxlICsge2ZvbnRTaXplOiArPSAzfV0gLSBBIHRleHRzdHlsZSBvYmplY3Qgd2hpY2ggaXMgdXNlZCBmb3JcbiAgICAgKiAgICAgbGFyZ2UgdGV4dC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlTGFyZ2VBY3RpdmU9dGV4dFN0eWxlTGFyZ2UgKyB7ZmlsbDogcHJpbWFyeUNvbG9yfV0gLSBBIHRleHRzdHlsZSBvYmplY3Qgd2hpY2hcbiAgICAgKiAgICAgaXMgdXNlZCBmb3IgbGFyZ2UgYWN0aXZlZCB0ZXh0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIGNvbnN0IGNvbG9yUHJpbWFyeSA9IG9wdHMucHJpbWFyeUNvbG9yICE9IG51bGwgPyBvcHRzLnByaW1hcnlDb2xvciA6IDB4NWVjN2Y4ICAgICAgICAgICAgICAgLy8gYmx1ZVxuICAgICAgICBjb25zdCBjb2xvcjEgPSBvcHRzLmNvbG9yMSAhPSBudWxsID8gb3B0cy5jb2xvcjEgOiAweDI4MjgyOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJsYWNrXG4gICAgICAgIGNvbnN0IGNvbG9yMiA9IG9wdHMuY29sb3IyICE9IG51bGwgPyBvcHRzLmNvbG9yMiA6IDB4ZjZmNmY2ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2hpdGVcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBtYXJnaW46IDEyLFxuICAgICAgICAgICAgcGFkZGluZzogMTIsXG4gICAgICAgICAgICByYWRpdXM6IDQsXG4gICAgICAgICAgICBmYXN0OiAuMjUsXG4gICAgICAgICAgICBub3JtYWw6IC41LFxuICAgICAgICAgICAgc2xvdzogMSxcbiAgICAgICAgICAgIHByaW1hcnlDb2xvcjogY29sb3JQcmltYXJ5LFxuICAgICAgICAgICAgY29sb3IxOiBjb2xvcjEsXG4gICAgICAgICAgICBjb2xvcjI6IGNvbG9yMixcbiAgICAgICAgICAgIGZpbGw6IGNvbG9yMSxcbiAgICAgICAgICAgIGZpbGxBbHBoYTogMSxcbiAgICAgICAgICAgIGZpbGxBY3RpdmU6IGNvbG9yMSxcbiAgICAgICAgICAgIGZpbGxBY3RpdmVBbHBoYTogMSxcbiAgICAgICAgICAgIHN0cm9rZTogY29sb3IyLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IC42LFxuICAgICAgICAgICAgc3Ryb2tlQWxwaGE6IDEsXG4gICAgICAgICAgICBzdHJva2VBY3RpdmU6IGNvbG9yMixcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZVdpZHRoOiAuNixcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZUFscGhhOiAxLFxuICAgICAgICAgICAgaWNvbkNvbG9yOiBjb2xvcjIsXG4gICAgICAgICAgICBpY29uQ29sb3JBY3RpdmU6IGNvbG9yUHJpbWFyeSxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGNvbG9yMVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIC8vIFNldCB0ZXh0U3R5bGUgYW5kIHZhcmlhbnRzXG4gICAgICAgIHRoaXMub3B0cy50ZXh0U3R5bGUgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnXCJBdmVuaXIgTmV4dFwiLCBcIk9wZW4gU2Fuc1wiLCBcIlNlZ29lIFVJXCIsIFwiUm9ib3RvXCIsIFwiSGVsdmV0aWNhIE5ldWVcIiwgLWFwcGxlLXN5c3RlbSwgc3lzdGVtLXVpLCBCbGlua01hY1N5c3RlbUZvbnQsIEFyaWFsLCBzYW5zLXNlcmlmICFkZWZhdWx0JyxcbiAgICAgICAgICAgIGZvbnRXZWlnaHQ6ICc1MDAnLFxuICAgICAgICAgICAgZm9udFNpemU6IDE4LFxuICAgICAgICAgICAgZmlsbDogY29sb3IyLFxuICAgICAgICAgICAgc3Ryb2tlOiBjb2xvcjEsXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDAsXG4gICAgICAgICAgICBtaXRlckxpbWl0OiAxLFxuICAgICAgICAgICAgbGluZUpvaW46ICdyb3VuZCdcbiAgICAgICAgfSwgdGhpcy5vcHRzLnRleHRTdHlsZSlcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZVNtYWxsID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRleHRTdHlsZSwge2ZvbnRTaXplOiB0aGlzLm9wdHMudGV4dFN0eWxlLmZvbnRTaXplIC0gM30sIHRoaXMub3B0cy50ZXh0U3R5bGVTbWFsbClcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZUxhcmdlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRleHRTdHlsZSwge2ZvbnRTaXplOiB0aGlzLm9wdHMudGV4dFN0eWxlLmZvbnRTaXplICsgM30sIHRoaXMub3B0cy50ZXh0U3R5bGVMYXJnZSlcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZUFjdGl2ZSA9IE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0cy50ZXh0U3R5bGUsIHtmaWxsOiB0aGlzLm9wdHMucHJpbWFyeUNvbG9yfSwgdGhpcy5vcHRzLnRleHRTdHlsZUFjdGl2ZSlcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZVNtYWxsQWN0aXZlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRleHRTdHlsZVNtYWxsLCB7ZmlsbDogdGhpcy5vcHRzLnByaW1hcnlDb2xvcn0sIHRoaXMub3B0cy50ZXh0U3R5bGVTbWFsbEFjdGl2ZSlcbiAgICAgICAgdGhpcy5vcHRzLnRleHRTdHlsZUxhcmdlQWN0aXZlID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5vcHRzLnRleHRTdHlsZUxhcmdlLCB7ZmlsbDogdGhpcy5vcHRzLnByaW1hcnlDb2xvcn0sIHRoaXMub3B0cy50ZXh0U3R5bGVMYXJnZUFjdGl2ZSlcblxuICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMsIHRoaXMub3B0cylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IGZ1bmN0aW9uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lPWRhcmsgLSBUaGUgbmFtZSBvZiB0aGUgdGhlbWUgdG8gbG9hZC5cbiAgICAgKiBAcmV0dXJuIHtUaGVtZX0gUmV0dXJucyBhIG5ld2x5IGNyZWF0ZWQgVGhlbWUgb2JqZWN0LlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tU3RyaW5nKHRoZW1lKSB7XG5cbiAgICAgICAgaWYgKHRoZW1lICYmIHR5cGVvZiB0aGVtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGVtZVxuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoICh0aGVtZSkge1xuICAgICAgICAgICAgY2FzZSAnbGlnaHQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGhlbWVMaWdodCgpXG4gICAgICAgICAgICBjYXNlICdyZWQnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVGhlbWVSZWQoKVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFRoZW1lRGFyaygpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIFRoZW1lRGFyay5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHAgd2l0aCBhIG5ldyBkYXJrIHRoZW1lXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA0NTAsXG4gKiAgICAgaGVpZ2h0OiAxNTAsXG4gKiAgICAgdGhlbWU6IG5ldyBUaGVtZURhcmsoKVxuICogfSkuc2V0dXAoKS5ydW4oKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgVGhlbWVcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS90aGVtZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBUaGVtZURhcmsgZXh0ZW5kcyBUaGVtZSB7XG5cbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgVGhlbWVMaWdodC5cbiAqIFRoZSBjb2xvcjEgaXMgc2V0IHRvIDB4ZjZmNmY2LCBjb2xvcjIgdG8gMHgyODI4MjguXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwIHdpdGggYSBuZXcgbGlnaHQgdGhlbWVcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDQ1MCxcbiAqICAgICBoZWlnaHQ6IDE1MCxcbiAqICAgICB0aGVtZTogbmV3IFRoZW1lTGlnaHQoKVxuICogfSkuc2V0dXAoKS5ydW4oKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgVGhlbWVcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS90aGVtZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBUaGVtZUxpZ2h0IGV4dGVuZHMgVGhlbWUge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFRoZW1lTGlnaHQuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICBzdXBlcih7Y29sb3IxOiAweGY2ZjZmNiwgY29sb3IyOiAweDI4MjgyOH0pXG4gICAgfVxufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBUaGVtZVJlZC5cbiAqIFRoZSBwcmltYXJ5Q29sb3IgaXMgc2V0IHRvIDB4ZDkyZjMxLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcCB3aXRoIGEgbmV3IHJlZCB0aGVtZVxuICogY29uc3QgYXBwID0gbmV3IFBJWElBcHAoe1xuICogICAgIHZpZXc6IGNhbnZhcyxcbiAqICAgICB3aWR0aDogNDUwLFxuICogICAgIGhlaWdodDogMTUwLFxuICogICAgIHRoZW1lOiBuZXcgVGhlbWVSZWQoKVxuICogfSkuc2V0dXAoKS5ydW4oKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgVGhlbWVcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS90aGVtZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBjbGFzcyBUaGVtZVJlZCBleHRlbmRzIFRoZW1lIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBUaGVtZVJlZC5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKCkge1xuXG4gICAgICAgIHN1cGVyKHtwcmltYXJ5Q29sb3I6IDB4ZDkyZjMxfSlcbiAgICB9XG59XG4iLCJpbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgUHJvZ3Jlc3MuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIHByb2dyZXNzXG4gKiBjb25zdCBwcm9ncmVzcyA9IG5ldyBQcm9ncmVzcyh7XG4gKiAgICAgYXBwOiBhcHBcbiAqIH0pXG4gKlxuICogLy8gQWRkIHRoZSBwcm9ncmVzcyB0byBhIERpc3BsYXlPYmplY3RcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChwcm9ncmVzcylcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuQ29udGFpbmVyLmh0bWx8UElYSS5Db250YWluZXJ9XG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvcHJvZ3Jlc3MuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9ncmVzcyBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgUHJvZ3Jlc3MuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgcHJvZ3Jlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmlkPWF1dG8gZ2VuZXJhdGVkXSAtIFRoZSBpZCBvZiB0aGUgcHJvZ3Jlc3MuXG4gICAgICogQHBhcmFtIHtQSVhJQXBwfSBbb3B0cy5hcHA9d2luZG93LmFwcF0gLSBUaGUgYXBwIHdoZXJlIHRoZSBwcm9ncmVzcyBiZWxvbmdzIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy53aWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIHByb2dyZXNzIGJhci4gV2hlbiBub3Qgc2V0LCB0aGUgd2lkdGggaXMgdGhlIHNpemUgb2YgdGhlIGFwcFxuICAgICAqICAgICBtaW51cyAyICogb3B0cy5tYXJnaW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmhlaWdodD0yXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHByb2dyZXNzIGJhci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUaGVtZX0gW29wdHMudGhlbWU9ZGFya10gLSBUaGUgdGhlbWUgdG8gdXNlIGZvciB0aGlzIHByb2dyZXNzLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGRhcmssIGxpZ2h0LCByZWRcbiAgICAgKiAgICAgb3IgYSBUaGVtZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1hcmdpbj0xMDBdIC0gVGhlIG91dGVyIHNwYWNpbmcgdG8gdGhlIGVkZ2VzIG9mIHRoZSBhcHAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnBhZGRpbmc9MF0gLSBUaGUgaW5uZXIgc3BhY2luZyAoZGlzdGFuY2UgZnJvbSBpY29uIGFuZC9vciBsYWJlbCkgdG8gdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbD1UaGVtZS5maWxsXSAtIFRoZSBjb2xvciBvZiB0aGUgcHJvZ3Jlc3MgYmFja2dyb3VuZCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFscGhhPVRoZW1lLmZpbGxBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmU9VGhlbWUucHJpbWFyeUNvbG9yXSAtIFRoZSBjb2xvciBvZiB0aGUgcHJvZ3Jlc3MgYmFja2dyb3VuZCB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZUFscGhhPVRoZW1lLmZpbGxBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZT1UaGVtZS5zdHJva2VdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZVdpZHRoPTBdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFscGhhPVRoZW1lLnN0cm9rZUFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmU9VGhlbWUuc3Ryb2tlQWN0aXZlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVXaWR0aD0wXSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVBbHBoYT1UaGVtZS5zdHJva2VBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmJhY2tncm91bmQ9ZmFsc2VdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmJhY2tncm91bmRGaWxsPVRoZW1lLmJhY2tncm91bmRdIC0gQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0aGUgbGFiZWwuIFNlZSBQSVhJLlRleHRTdHlsZVxuICAgICAqICAgICBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFja2dyb3VuZEZpbGxBbHBoYT0xXSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGxhYmVsIHdoZW4gdGhlXG4gICAgICogICAgIHByb2dyZXNzIGlzIGFjdGl2YXRlZC4gU2VlIFBJWEkuVGV4dFN0eWxlIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yYWRpdXM9VGhlbWUucmFkaXVzXSAtIFRoZSByYWRpdXMgb2YgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgcHJvZ3Jlc3MgKHdoaWNoIGlzIGEgcm91bmRlZCByZWN0YW5nbGUpLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZGVzdHJveU9uQ29tcGxldGU9dHJ1ZV0gLSBTaG91bGQgdGhlIHByb2dyZXNzIGJhciBkZXN0cm95IGl0c2VsZiBhZnRlciByZWFjaGluZyAxMDAgJT9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnZpc2libGU9dHJ1ZV0gLSBJcyB0aGUgcHJvZ3Jlc3MgaW5pdGlhbGx5IHZpc2libGUgKHByb3BlcnR5IHZpc2libGUpP1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICB0aGlzLnRoZW1lID0gdGhlbWVcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBpZDogUElYSS51dGlscy51aWQoKSxcbiAgICAgICAgICAgIGFwcDogd2luZG93LmFwcCxcbiAgICAgICAgICAgIHdpZHRoOiBudWxsLFxuICAgICAgICAgICAgaGVpZ2h0OiAyLFxuICAgICAgICAgICAgbWFyZ2luOiAxMDAsXG4gICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgZmlsbDogdGhlbWUuZmlsbCxcbiAgICAgICAgICAgIGZpbGxBbHBoYTogdGhlbWUuZmlsbEFscGhhLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZTogdGhlbWUucHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZUFscGhhOiB0aGVtZS5maWxsQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAwLFxuICAgICAgICAgICAgc3Ryb2tlQWxwaGE6IHRoZW1lLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlOiB0aGVtZS5zdHJva2VBY3RpdmUsXG4gICAgICAgICAgICBzdHJva2VBY3RpdmVXaWR0aDogMCxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZUFscGhhOiB0aGVtZS5zdHJva2VBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IGZhbHNlLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGw6IHRoZW1lLmJhY2tncm91bmQsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbEFscGhhOiAxLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGVtZS5yYWRpdXMsXG4gICAgICAgICAgICBkZXN0cm95T25Db21wbGV0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkXG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbnVsbFxuICAgICAgICB0aGlzLmJhciA9IG51bGxcbiAgICAgICAgdGhpcy5iYXJBY3RpdmUgPSBudWxsXG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDBcbiAgICAgICAgXG4gICAgICAgIHRoaXMudmlzaWJsZSA9IHRoaXMub3B0cy52aXNpYmxlXG5cbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MgPSAwXG5cbiAgICAgICAgLy8gc2V0dXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnNldHVwKClcblxuICAgICAgICAvLyBsYXlvdXRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmxheW91dCgpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY2hpbGRyZW4gYW5kIGluc3RhbnRpYXRlcyBldmVyeXRoaW5nLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gaW50ZXJhY3Rpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLm9uKCdhZGRlZCcsIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaG93KClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5iYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZFxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChiYWNrZ3JvdW5kKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYmFyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgYmFyID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICB0aGlzLmJhciA9IGJhclxuICAgICAgICB0aGlzLmFkZENoaWxkKGJhcilcblxuICAgICAgICBjb25zdCBiYXJBY3RpdmUgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgIHRoaXMuYmFyQWN0aXZlID0gYmFyQWN0aXZlXG4gICAgICAgIHRoaXMuYmFyLmFkZENoaWxkKGJhckFjdGl2ZSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgcHJvZ3Jlc3MuIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge1Byb2dyZXNzfSBBIHJlZmVyZW5jZSB0byB0aGUgcHJvZ3Jlc3MgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcblxuICAgICAgICBjb25zdCB3aWR0aCA9IHRoaXMub3B0cy5hcHAuc2l6ZS53aWR0aFxuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLm9wdHMuYXBwLnNpemUuaGVpZ2h0XG5cbiAgICAgICAgLy8gYmFja2dyb3VuZFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuYmFja2dyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmNsZWFyKClcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZC5iZWdpbkZpbGwodGhpcy5vcHRzLmJhY2tncm91bmRGaWxsLCB0aGlzLm9wdHMuYmFja2dyb3VuZEZpbGxBbHBoYSlcbiAgICAgICAgICAgIHRoaXMuYmFja2dyb3VuZC5kcmF3UmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmVuZEZpbGwoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kcmF3KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgY2FudmFzLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICB0aGlzLmJhci5jbGVhcigpXG4gICAgICAgIHRoaXMuYmFyQWN0aXZlLmNsZWFyKClcblxuICAgICAgICB0aGlzLmRyYXdCYXIoKVxuICAgICAgICB0aGlzLmRyYXdCYXJBY3RpdmUoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBiYXIuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtQcm9ncmVzc30gQSByZWZlcmVuY2UgdG8gdGhlIHByb2dyZXNzIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBkcmF3QmFyKCkge1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5vcHRzLmFwcC5zaXplLndpZHRoXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMub3B0cy5hcHAuc2l6ZS5oZWlnaHRcblxuICAgICAgICB0aGlzLnJhZGl1cyA9IHRoaXMub3B0cy5yYWRpdXNcbiAgICAgICAgaWYgKCh0aGlzLnJhZGl1cyAqIDIpID4gdGhpcy5vcHRzLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLm9wdHMuaGVpZ2h0IC8gMlxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgd2FudGVkV2lkdGggPSB0aGlzLm9wdHMud2lkdGggfHwgKHdpZHRoIC0gKDIgKiB0aGlzLm9wdHMubWFyZ2luKSlcbiAgICAgICAgY29uc3Qgd2FudGVkSGVpZ2h0ID0gdGhpcy5vcHRzLmhlaWdodFxuXG4gICAgICAgIHRoaXMuYmFyLmxpbmVTdHlsZSh0aGlzLm9wdHMuc3Ryb2tlV2lkdGgsIHRoaXMub3B0cy5zdHJva2UsIHRoaXMub3B0cy5zdHJva2VBbHBoYSlcbiAgICAgICAgdGhpcy5iYXIuYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsLCB0aGlzLm9wdHMuZmlsbEFscGhhKVxuICAgICAgICBpZiAodGhpcy5yYWRpdXMgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmJhci5kcmF3Um91bmRlZFJlY3QoMCwgMCwgd2FudGVkV2lkdGgsIHdhbnRlZEhlaWdodCwgdGhpcy5yYWRpdXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJhci5kcmF3UmVjdCgwLCAwLCB3YW50ZWRXaWR0aCwgd2FudGVkSGVpZ2h0KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYmFyLmVuZEZpbGwoKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5iYXIueCA9IHdpZHRoIC8gMiAtIHRoaXMuYmFyLndpZHRoIC8gMlxuICAgICAgICB0aGlzLmJhci55ID0gaGVpZ2h0IC8gMiAtIHRoaXMuYmFyLmhlaWdodCAvIDJcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgYWN0aXZlIGJhci5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1Byb2dyZXNzfSBBIHJlZmVyZW5jZSB0byB0aGUgcHJvZ3Jlc3MgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXdCYXJBY3RpdmUoKSB7XG5cbiAgICAgICAgY29uc3Qgd2FudGVkV2lkdGggPSB0aGlzLmJhci53aWR0aCAtICgyICogdGhpcy5vcHRzLnBhZGRpbmcpXG4gICAgICAgIGNvbnN0IHdhbnRlZEhlaWdodCA9IHRoaXMuYmFyLmhlaWdodCAtICgyICogdGhpcy5vcHRzLnBhZGRpbmcpXG4gICAgICAgIFxuICAgICAgICBjb25zdCBiYXJBY3RpdmVXaWR0aCA9IHdhbnRlZFdpZHRoICogdGhpcy5fcHJvZ3Jlc3MgLyAxMDBcblxuICAgICAgICB0aGlzLmJhckFjdGl2ZS5saW5lU3R5bGUodGhpcy5vcHRzLnN0cm9rZUFjdGl2ZVdpZHRoLCB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlLCB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGEpXG4gICAgICAgIHRoaXMuYmFyQWN0aXZlLmJlZ2luRmlsbCh0aGlzLm9wdHMuZmlsbEFjdGl2ZSwgdGhpcy5vcHRzLmZpbGxBY3RpdmVBbHBoYSlcbiAgICAgICAgaWYgKGJhckFjdGl2ZVdpZHRoID4gMCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmFkaXVzID4gMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYmFyQWN0aXZlLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCBiYXJBY3RpdmVXaWR0aCwgd2FudGVkSGVpZ2h0LCB0aGlzLnJhZGl1cylcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYXJBY3RpdmUuZHJhd1JlY3QoMCwgMCwgYmFyQWN0aXZlV2lkdGgsIHdhbnRlZEhlaWdodClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJhckFjdGl2ZS5lbmRGaWxsKClcblxuICAgICAgICB0aGlzLmJhckFjdGl2ZS54ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgdGhpcy5iYXJBY3RpdmUueSA9IHRoaXMub3B0cy5wYWRkaW5nXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvd3MgdGhlIHByb2dyZXNzIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMSkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7UHJvZ3Jlc3N9IEEgcmVmZXJlbmNlIHRvIHRoZSBwcm9ncmVzcyBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2hvdygpIHtcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDF9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBwcm9ncmVzcyAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDEpLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge1Byb2dyZXNzfSBBIHJlZmVyZW5jZSB0byB0aGUgcHJvZ3Jlc3MgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhpZGUoKSB7XG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAwLCBvbkNvbXBsZXRlOiAoKSA9PiB0aGlzLnZpc2libGUgPSBmYWxzZX0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBwcm9ncmVzcy4gSGFzIHRvIGJlIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMTAwLlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgcHJvZ3Jlc3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcm9ncmVzc1xuICAgIH1cbiAgICBzZXQgcHJvZ3Jlc3ModmFsdWUpIHtcblxuICAgICAgICB2YWx1ZSA9IE1hdGgucm91bmQodmFsdWUpXG5cbiAgICAgICAgaWYgKHZhbHVlIDwgMCkge1xuICAgICAgICAgICAgdmFsdWUgPSAwXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsdWUgPiAxMDApIHtcbiAgICAgICAgICAgIHZhbHVlID0gMTAwXG4gICAgICAgIH1cblxuICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLnRoZW1lLm5vcm1hbCwge1xuICAgICAgICAgICAgX3Byb2dyZXNzOiB2YWx1ZSxcbiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiB0aGlzLmRyYXcoKSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IDEwMCAmJiB0aGlzLm9wdHMuZGVzdHJveU9uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHRoaXMuZGVzdHJveSh7Y2hpbGRyZW46IHRydWV9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgdGhlIHBvcHVwIG9uSGlkZGVuLlxuICpcbiAqIEBjYWxsYmFjayBoaWRkZW5DYWxsYmFja1xuICogQHBhcmFtIHtBYnN0cmFjdFBvcHVwfSBhYnN0cmFjdFBvcHVwIC0gQSByZWZlcmVuY2UgdG8gdGhlIHBvcHVwIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBwb3B1cCkuXG4gKi9cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgQWJzdHJhY3RQb3B1cC5cbiAqIFRoZSBjbGFzcyBpcyB1c2VkIGZvciB2YXJpb3VzIG90aGVyIFBvcHVwLWxpa2UgY2xhc3Nlc1xuICogbGlrZSBQb3B1cCwgTWVzc2FnZSwgVG9vbHRpcC4uLlxuICpcbiAqIEBjbGFzc1xuICogQGFic3RyYWN0XG4gKiBAZXh0ZW5kcyBQSVhJLkdyYXBoaWNzXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuR3JhcGhpY3MuaHRtbHxQSVhJLkdyYXBoaWNzfVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYnN0cmFjdFBvcHVwIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBBYnN0cmFjdFBvcHVwIChvbmx5IGZvciBpbnRlcm5hbCB1c2UpLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIHBvcHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pZD1hdXRvIGdlbmVyYXRlZF0gLSBUaGUgaWQgb2YgdGhlIHBvcHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy54PTBdIC0gVGhlIHggcG9zaXRpb24gb2YgdGhlIHBvcHVwLiBDYW4gYmUgYWxzbyBzZXQgYWZ0ZXIgY3JlYXRpb24gd2l0aCBwb3B1cC54ID0gMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueT0wXSAtIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBwb3B1cC4gQ2FuIGJlIGFsc28gc2V0IGFmdGVyIGNyZWF0aW9uIHdpdGggcG9wdXAueSA9IDAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8VGhlbWV9IFtvcHRzLnRoZW1lPWRhcmtdIC0gVGhlIHRoZW1lIHRvIHVzZSBmb3IgdGhpcyBwb3B1cC4gUG9zc2libGUgdmFsdWVzIGFyZSBkYXJrLCBsaWdodCwgcmVkXG4gICAgICogICAgIG9yIGEgVGhlbWUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG51bWJlcnxQSVhJLlRleHR9IFtvcHRzLmhlYWRlcl0gLSBUaGUgaGVhZGluZyBpbnNpZGUgdGhlIHBvcHVwIGFzIGEgc3RyaW5nLCBhIG51bWJlciAod2lsbCBiZVxuICAgICAqICAgICBjb252ZXJ0ZWQgdG8gYSB0ZXh0KSBvciBhcyBhIFBJWEkuVGV4dCBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfFBJWEkuRGlzcGxheU9iamVjdH0gW29wdHMuY29udGVudF0gLSBBIHRleHQsIGEgbnVtYmVyICh3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHRleHQpIG9yXG4gICAgICogICAgIGFuIFBJWEkuRGlzcGxheU9iamVjdCBhcyB0aGUgY29udGVudCBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTMyMF0gLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbkhlaWdodD0xMzBdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBwb3B1cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz1UaGVtZS5wYWRkaW5nXSAtIFRoZSBpbm5lciBzcGFjaW5nIChkaXN0YW5jZSBmcm9tIGhlYWRlciBhbmQgY29udGVudCkgdGhlIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGw9VGhlbWUuZmlsbF0gLSBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9VGhlbWUuZmlsbEFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlPVRoZW1lLnN0cm9rZV0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlV2lkdGg9VGhlbWUuc3Ryb2tlV2lkdGhdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFscGhhPVRoZW1lLnN0cm9rZUFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy5oZWFkZXJTdHlsZT1UaGVtZS50ZXh0U3R5bGVMYXJnZV0gLSBBIHRleHRzdHlsZSBvYmplY3QgZm9yIHRoZSBzdHlsaW5nIG9mIHRoZSBoZWFkZXIuIFNlZSBQSVhJLlRleHRTdHlsZVxuICAgICAqICAgICBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlPVRoZW1lLnRleHRTdHlsZVNtYWxsXSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIHRleHQuIFNlZSBQSVhJLlRleHRTdHlsZVxuICAgICAqICAgICBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmFkaXVzPVRoZW1lLnJhZGl1c10gLSBUaGUgcmFkaXVzIG9mIHRoZSBmb3VyIGNvcm5lcnMgb2YgdGhlIHBvcHVwICh3aGljaCBpcyBhIHJvdW5kZWQgcmVjdGFuZ2xlKS5cbiAgICAgKiBAcGFyYW0ge2hpZGRlbkNhbGxiYWNrfSBbb3B0cy5vbkhpZGRlbl0gLSBFeGVjdXRlZCB3aGVuIHRoZSBwb3B1cCBnZXRzIGhpZGRlbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnZpc2libGU9dHJ1ZV0gLSBJcyB0aGUgcG9wdXAgaW5pdGlhbGx5IHZpc2libGUgKHByb3BlcnR5IHZpc2libGUpP1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vcmllbnRhdGlvbl0gLSBXaGVuIHNldCB0byBwb3J0cmFpdCwgdGhlIHBvcHVwIGNhbm5vdCBiZSBkaXNwbGF5ZWQgaW4gbGFuZHNjYXBlIG1vZGUuIFdoZW4gc2V0XG4gICAgICogICAgIHRvIGxhbmRzY2FwZSwgdGhlIHBvcHVwIGNhbm5vdCBiZSBkaXNwbGF5ZWQgaW4gcG9ydHJhaXQgbW9kZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcblxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aGVtZSA9IFRoZW1lLmZyb21TdHJpbmcob3B0cy50aGVtZSlcbiAgICAgICAgdGhpcy50aGVtZSA9IHRoZW1lXG5cbiAgICAgICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgaWQ6IFBJWEkudXRpbHMudWlkKCksXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIGhlYWRlcjogbnVsbCwgICAgICAgICAgICAgICAgICAgICAgIC8vIG51bGwgb3IgbnVsbFxuICAgICAgICAgICAgY29udGVudDogbnVsbCwgICAgICAgICAgICAgICAgICAgICAgLy8gbnVsbCBvciBTdHJpbmcgb3IgUElYSS5EaXNwbGF5T2JqZWN0XG4gICAgICAgICAgICBtaW5XaWR0aDogMzIwLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAxMzAsXG4gICAgICAgICAgICBtYXhXaWR0aDogbnVsbCxcbiAgICAgICAgICAgIHBhZGRpbmc6IHRoZW1lLnBhZGRpbmcsXG4gICAgICAgICAgICBmaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgZmlsbEFscGhhOiB0aGVtZS5maWxsQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIGhlYWRlclN0eWxlOiB0aGVtZS50ZXh0U3R5bGVMYXJnZSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogdGhlbWUudGV4dFN0eWxlU21hbGwsXG4gICAgICAgICAgICByYWRpdXM6IHRoZW1lLnJhZGl1cyxcbiAgICAgICAgICAgIG9uSGlkZGVuOiBudWxsLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiBudWxsXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZFxuXG4gICAgICAgIHRoaXMuaGVhZGVyU3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUodGhpcy5vcHRzLmhlYWRlclN0eWxlKVxuICAgICAgICB0aGlzLnRleHRTdHlsZSA9IG5ldyBQSVhJLlRleHRTdHlsZSh0aGlzLm9wdHMudGV4dFN0eWxlKVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMubWF4V2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyU3R5bGUud29yZFdyYXAgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmhlYWRlclN0eWxlLndvcmRXcmFwV2lkdGggPSB0aGlzLm9wdHMubWF4V2lkdGggLSAoMiAqIHRoaXMub3B0cy5wYWRkaW5nKVxuXG4gICAgICAgICAgICB0aGlzLnRleHRTdHlsZS53b3JkV3JhcCA9IHRydWVcbiAgICAgICAgICAgIHRoaXMudGV4dFN0eWxlLndvcmRXcmFwV2lkdGggPSB0aGlzLm9wdHMubWF4V2lkdGggLSAoMiAqIHRoaXMub3B0cy5wYWRkaW5nKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICB0aGlzLl9oZWFkZXIgPSBudWxsXG4gICAgICAgIHRoaXMuX2NvbnRlbnQgPSBudWxsXG5cbiAgICAgICAgLy8gcG9zaXRpb25cbiAgICAgICAgdGhpcy54ID0gdGhpcy5vcHRzLnhcbiAgICAgICAgdGhpcy55ID0gdGhpcy5vcHRzLnlcblxuICAgICAgICAvLyBwYWRkaW5nXG4gICAgICAgIHRoaXMuaW5uZXJQYWRkaW5nID0gdGhpcy5vcHRzLnBhZGRpbmcgKiAxLjVcbiAgICAgICAgXG4gICAgICAgIC8vIGludGVyYWN0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgdGhpcy5vbignYWRkZWQnLCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpXG4gICAgICAgIH0pXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGZyYW1ld29yayBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtBYnN0cmFjdFBvcHVwfSBBIHJlZmVyZW5jZSB0byB0aGUgcG9wdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIC8vIHBvc2l0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zeSA9IHRoaXMub3B0cy5wYWRkaW5nXG5cbiAgICAgICAgLy8gaGVhZGVyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5oZWFkZXIgIT0gbnVsbCkge1xuXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gbnVsbFxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmhlYWRlciBpbnN0YW5jZW9mIFBJWEkuVGV4dCkge1xuICAgICAgICAgICAgICAgIGhlYWRlciA9IHRoaXMub3B0cy5oZWFkZXJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHRoaXMub3B0cy5oZWFkZXIgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyID0gIG5ldyBQSVhJLlRleHQodGhpcy5vcHRzLmhlYWRlci50b1N0cmluZygpLCB0aGlzLmhlYWRlclN0eWxlKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSAgbmV3IFBJWEkuVGV4dCh0aGlzLm9wdHMuaGVhZGVyLCB0aGlzLmhlYWRlclN0eWxlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBoZWFkZXIueCA9IHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgICAgICBoZWFkZXIueSA9IHRoaXMuc3lcblxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZChoZWFkZXIpXG5cbiAgICAgICAgICAgIHRoaXMuc3kgKz0gaGVhZGVyLmhlaWdodFxuXG4gICAgICAgICAgICB0aGlzLl9oZWFkZXIgPSBoZWFkZXJcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMuaGVhZGVyICYmIHRoaXMub3B0cy5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLnN5ICs9IHRoaXMuaW5uZXJQYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb250ZW50XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5jb250ZW50ICE9IG51bGwpIHtcblxuICAgICAgICAgICAgbGV0IGNvbnRlbnQgPSBudWxsXG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLmNvbnRlbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IG5ldyBQSVhJLlRleHQodGhpcy5vcHRzLmNvbnRlbnQsIHRoaXMudGV4dFN0eWxlKVxuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgdGhpcy5vcHRzLmNvbnRlbnQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgY29udGVudCA9IG5ldyBQSVhJLlRleHQodGhpcy5vcHRzLmNvbnRlbnQudG9TdHJpbmcoKSwgdGhpcy50ZXh0U3R5bGUpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQgPSB0aGlzLm9wdHMuY29udGVudFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb250ZW50LnggPSB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICAgICAgY29udGVudC55ID0gdGhpcy5zeVxuXG4gICAgICAgICAgICB0aGlzLnN5ICs9IGNvbnRlbnQuaGVpZ2h0XG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoY29udGVudClcblxuICAgICAgICAgICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBwb3B1cC4gQ2FuIGJlIHVzZWQgYWZ0ZXIgcmVzaXppbmcuXG4gICAgICogXG4gICAgICogQHJldHVybiB7QWJzdHJhY3RQb3B1cH0gQSByZWZlcmVuY2UgdG8gdGhlIHBvcHVwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG4gICAgICAgIFxuICAgICAgICAvLyB3YW50ZWQgd2lkdGggJiB3YW50ZWQgaGVpZ2h0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgcGFkZGluZyA9IHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmdldElubmVyU2l6ZSgpXG4gICAgICAgIGNvbnN0IHdpZHRoID0gc2l6ZS53aWR0aCArICgyICogcGFkZGluZylcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKyAoMiAqIHBhZGRpbmcpXG5cbiAgICAgICAgdGhpcy53YW50ZWRXaWR0aCA9IE1hdGgubWF4KHdpZHRoLCB0aGlzLm9wdHMubWluV2lkdGgpXG4gICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCB0aGlzLm9wdHMubWluSGVpZ2h0KVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMub3B0cy5tYXhXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy53YW50ZWRXaWR0aCA9IE1hdGgubWluKHRoaXMud2FudGVkV2lkdGgsIHRoaXMub3B0cy5tYXhXaWR0aClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMucmFkaXVzICogMiA+IHRoaXMud2FudGVkV2lkdGgpIHtcbiAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSB0aGlzLm9wdHMucmFkaXVzICogMlxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5yYWRpdXMgKiAyID4gdGhpcy53YW50ZWRIZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gdGhpcy5vcHRzLnJhZGl1cyAqIDJcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy5vcHRzLm9yaWVudGF0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdwb3J0cmFpdCc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2FudGVkV2lkdGggPiB0aGlzLndhbnRlZEhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbnRlZEhlaWdodCA9IHRoaXMud2FudGVkV2lkdGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2xhbmRzY2FwZSc6XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMud2FudGVkSGVpZ2h0ID4gdGhpcy53YW50ZWRXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gdGhpcy53YW50ZWRIZWlnaHRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZHJhdygpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogRHJhd3MgdGhlIGNhbnZhcy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICBjb25zdCBzcXVhcmUgPSBNYXRoLnJvdW5kKHRoaXMud2FudGVkV2lkdGgpID09PSBNYXRoLnJvdW5kKHRoaXMud2FudGVkSGVpZ2h0KVxuICAgICAgICBjb25zdCBkaWFtZXRlciA9IE1hdGgucm91bmQodGhpcy5vcHRzLnJhZGl1cyAqIDIpXG5cbiAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgIHRoaXMubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICB0aGlzLmJlZ2luRmlsbCh0aGlzLm9wdHMuZmlsbCwgdGhpcy5vcHRzLmZpbGxBbHBoYSlcbiAgICAgICAgaWYgKHNxdWFyZSAmJiBkaWFtZXRlciA9PT0gdGhpcy53YW50ZWRXaWR0aCkge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKHRoaXMud2FudGVkV2lkdGggLyAyLCB0aGlzLndhbnRlZEhlaWdodCAvIDIsIHRoaXMub3B0cy5yYWRpdXMpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCB0aGlzLndhbnRlZFdpZHRoLCB0aGlzLndhbnRlZEhlaWdodCwgdGhpcy5vcHRzLnJhZGl1cylcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZEZpbGwoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNpemUgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBBYnN0cmFjdFBvcHVwLlxuICAgICAqIENhbm5vdCB1c2UgZ2V0Qm91bmRzKCkgYmVjYXVzZSBpdCBpcyBub3QgdXBkYXRlZCB3aGVuIGNoaWxkcmVuXG4gICAgICogYXJlIHJlbW92ZWQuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBKYXZhU2NyaXB0IG9iamVjdCB3aWR0aCB0aGUga2V5cyB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqL1xuICAgIGdldElubmVyU2l6ZSgpIHtcblxuICAgICAgICBsZXQgd2lkdGggPSAwXG4gICAgICAgIGxldCBoZWlnaHQgPSAwXG5cbiAgICAgICAgaWYgKHRoaXMuX2hlYWRlcikge1xuICAgICAgICAgICAgd2lkdGggPSB0aGlzLl9oZWFkZXIud2lkdGhcbiAgICAgICAgICAgIGhlaWdodCA9IHRoaXMuX2hlYWRlci5oZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oZWFkZXIgJiYgdGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMuaW5uZXJQYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGVudCkge1xuICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgdGhpcy5fY29udGVudC53aWR0aClcbiAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLl9jb250ZW50LmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHt3aWR0aCwgaGVpZ2h0fVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgcG9wdXAgKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0ge2NhbGxiYWNrfSBbY2JdIC0gRXhlY3V0ZWQgd2hlbiBzaG93IGFuaW1hdGlvbiB3YXMgY29tcGxldGVkLlxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2hvdyhjYikge1xuXG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMudGhlbWUuZmFzdCwge1xuICAgICAgICAgICAgYWxwaGE6IDEsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiLmNhbGwodGhpcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHBvcHVwIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMCkuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtjYWxsYmFja30gW2NiXSAtIEV4ZWN1dGVkIHdoZW4gaGlkZSBhbmltYXRpb24gd2FzIGNvbXBsZXRlZC5cbiAgICAgKiBAcmV0dXJuIHtBYnN0cmFjdFBvcHVwfSBBIHJlZmVyZW5jZSB0byB0aGUgcG9wdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhpZGUoY2IpIHtcblxuICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLnRoZW1lLmZhc3QsIHtcbiAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNiLmNhbGwodGhpcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5vbkhpZGRlbikge1xuICAgICAgICAgICAgdGhpcy5vcHRzLm9uSGlkZGVuLmNhbGwodGhpcywgdGhpcylcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBoZWFkZXIuIFRoZSBnZXR0ZXIgYWx3YXlzIHJldHVybnMgYSBQSVhJLlRleHQgb2JqZWN0LiBUaGUgc2V0dGVyIGNhbiByZWNlaXZlXG4gICAgICogYSBzdHJpbmcsIGEgbnVtYmVyIG9yIGEgUElYSS5UZXh0IG9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfFBJWEkuVGV4dH1cbiAgICAgKi9cbiAgICBnZXQgaGVhZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVyXG4gICAgfVxuICAgIHNldCBoZWFkZXIodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hlYWRlcikge1xuICAgICAgICAgICAgdGhpcy5faGVhZGVyLmRlc3Ryb3koKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub3B0cy5oZWFkZXIgPSB2YWx1ZVxuICAgICAgICB0aGlzLnNldHVwKCkubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBjb250ZW50LiBUaGUgZ2V0dGVyIGFsd2F5cyByZXR1cm5zIGFuIFBJWEkuRGlzcGxheU9iamVjdC4gVGhlIHNldHRlciBjYW4gcmVjZWl2ZVxuICAgICAqIGEgc3RyaW5nLCBhIG51bWJlciBvciBhIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKiBcbiAgICAgKiBAbWVtYmVyIHtzdHJpbmd8bnVtYmVyfFBJWEkuRGlzcGxheU9iamVjdH1cbiAgICAgKi9cbiAgICBnZXQgY29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRlbnRcbiAgICB9XG4gICAgc2V0IGNvbnRlbnQodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRlbnQuZGVzdHJveSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vcHRzLmNvbnRlbnQgPSB2YWx1ZVxuICAgICAgICB0aGlzLnNldHVwKCkubGF5b3V0KClcbiAgICB9XG59XG4iLCJpbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcbmltcG9ydCBBYnN0cmFjdFBvcHVwIGZyb20gJy4vYWJzdHJhY3Rwb3B1cC5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgVG9vbHRpcC5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA5MDAsXG4gKiAgICAgaGVpZ2h0OiAyNTBcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqIFxuICogLy8gQWRkIGFuIERpc3BsYXlPYmplY3QgdG8gdGhlIGFwcFxuICogY29uc3QgY2lyY2xlID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogY2lyY2xlLmJlZ2luRmlsbCgweDUyNTFhMylcbiAqIGNpcmNsZS5kcmF3Q2lyY2xlKDUwLCA1MCwgNDApXG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoY2lyY2xlKVxuICogXG4gKiBjb25zdCB0b29sdGlwID0gbmV3IFRvb2x0aXAoe1xuICogICAgIG9iamVjdDogY2lyY2xlLFxuICogICAgIGNvbnRhaW5lcjogYXBwLnNjZW5lLFxuICogICAgIGNvbnRlbnQ6ICdEYXMgR2VzZXR6IGlzdCBkZXIgRnJldW5kIGRlcyBTY2h3YWNoZW4uJ1xuICogfSlcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEFic3RyYWN0UG9wdXBcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS90b29sdGlwLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVG9vbHRpcCBleHRlbmRzIEFic3RyYWN0UG9wdXAge1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBUb29sdGlwLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIHRvb2x0aXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTBdIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHRvb2x0aXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbkhlaWdodD0wXSAtIFRoZSBtaW5pbXVtIGhlaWdodCBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz1UaGVtZS5wYWRkaW5nIC8gMl0gLSBUaGUgaW5uZXIgc3BhY2luZyBvZiB0aGUgdG9vbHRpcC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gb3B0cy5vYmplY3QgLSBUaGUgb2JqZWN0LCB3aGVyZSB0aGUgdG9vbHRpcCBzaG91bGQgYmUgZGlzcGxheWVkLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBbb3B0cy5jb250YWluZXI9b2JqZWN0XSAtIFRoZSBjb250YWluZXIgd2hlcmUgdGhlIHRvb2x0aXAgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5vZmZzZXRMZWZ0PThdIC0gVGhlIGhvcml6b250YWwgc2hpZnQgb2YgdGhlIHRvb2x0aXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm9mZnNldFRvcD0tOF0gLSBUaGUgdmVydGljYWwgc2hpZnQgb2YgdGhlIHRvb2x0aXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmRlbGF5PTBdIC0gQSBkZWxheSwgYWZ0ZXIgd2hpY2ggdGhlIHRvb2x0aXAgc2hvdWxkIGJlIG9wZW5lZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICBcbiAgICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIG1pbldpZHRoOiAwLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAwLFxuICAgICAgICAgICAgcGFkZGluZzogdGhlbWUucGFkZGluZyAvIDIsXG4gICAgICAgICAgICBvYmplY3Q6IG51bGwsXG4gICAgICAgICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICBvZmZzZXRMZWZ0OiA4LFxuICAgICAgICAgICAgb2Zmc2V0VG9wOiAtOCxcbiAgICAgICAgICAgIGRlbGF5OiAwXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgb3B0cy5jb250YWluZXIgPSBvcHRzLmNvbnRhaW5lciB8fCBvcHRzLm9iamVjdFxuXG4gICAgICAgIHN1cGVyKG9wdHMpXG5cbiAgICAgICAgLy8gc2V0dXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnNldHVwKClcblxuICAgICAgICAvLyBsYXlvdXRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmxheW91dCgpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY2hpbGRyZW4gYW5kIGluc3RhbnRpYXRlcyBldmVyeXRoaW5nLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7VG9vbHRpcH0gQSByZWZlcmVuY2UgdG8gdGhlIHRvb2x0aXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIHN1cGVyLnNldHVwKClcblxuICAgICAgICAvLyBiaW5kIGV2ZW50cyB0aGlzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGl2ZSA9IHRydWVcblxuICAgICAgICBsZXQgbW91c2VvdmVyVG9vbHRpcCA9IGZhbHNlXG4gICAgICAgIFxuICAgICAgICB0aGlzLm9uKCdtb3VzZW92ZXInLCBlID0+IHtcbiAgICAgICAgICAgIG1vdXNlb3ZlclRvb2x0aXAgPSB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5vbignbW91c2VvdXQnLCBlID0+IHtcbiAgICAgICAgICAgIG1vdXNlb3ZlclRvb2x0aXAgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKCFtb3VzZW92ZXJPYmplY3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdHMuY29udGFpbmVyLnJlbW92ZUNoaWxkKHRoaXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgXG4gICAgICAgIC8vIGJpbmQgZXZlbnRzIG9iamVjdFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IG9iamVjdCA9IHRoaXMub3B0cy5vYmplY3RcbiAgICAgICAgb2JqZWN0LmludGVyYWN0aXZlID0gdHJ1ZVxuXG4gICAgICAgIGxldCBtb3VzZW92ZXJPYmplY3QgPSBmYWxzZVxuXG4gICAgICAgIG9iamVjdC5vbignbW91c2VvdmVyJywgZSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBtb3VzZW92ZXJPYmplY3QgPSB0cnVlXG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5jb250YWluZXIuYWRkQ2hpbGQodGhpcylcbiAgICAgICAgICAgICAgICB0aGlzLnNldFBvc2l0aW9uKGUpXG4gICAgICAgICAgICB9LCB0aGlzLm9wdHMuZGVsYXkgKiAxMDAwKVxuICAgICAgICB9KVxuXG4gICAgICAgIG9iamVjdC5vbignbW91c2Vtb3ZlJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAobW91c2VvdmVyT2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihlKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIG9iamVjdC5vbignbW91c2VvdXQnLCBlID0+IHtcbiAgICAgICAgICAgIG1vdXNlb3Zlck9iamVjdCA9IGZhbHNlXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dClcbiAgICAgICAgICAgIGlmICghbW91c2VvdmVyVG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5jb250YWluZXIucmVtb3ZlQ2hpbGQodGhpcylcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgYW5kIHNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSB0b29sdGlwLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7VG9vbHRpcH0gQSByZWZlcmVuY2UgdG8gdGhlIHRvb2x0aXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldFBvc2l0aW9uKGUpIHtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMub3B0cy5jb250YWluZXIpXG5cbiAgICAgICAgdGhpcy54ID0gcG9zaXRpb24ueCArIHRoaXMub3B0cy5vZmZzZXRMZWZ0XG4gICAgICAgIHRoaXMueSA9IHBvc2l0aW9uLnkgKyB0aGlzLm9wdHMub2Zmc2V0VG9wIC0gdGhpcy5oZWlnaHRcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IEFic3RyYWN0UG9wdXAgZnJvbSAnLi9hYnN0cmFjdHBvcHVwLmpzJ1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBCYWRnZS5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA5MDAsXG4gKiAgICAgaGVpZ2h0OiAyNTBcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqIFxuICogLy8gQWRkIGFuIERpc3BsYXlPYmplY3QgdG8gdGhlIGFwcFxuICogY29uc3QgY2lyY2xlID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICogY2lyY2xlLmJlZ2luRmlsbCgweDUyNTFhMylcbiAqIGNpcmNsZS5kcmF3Q2lyY2xlKDUwLCA1MCwgNDApXG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoY2lyY2xlKVxuICogXG4gKiBjb25zdCBiYWRnZTEgPSBuZXcgQmFkZ2Uoe1xuICogICAgIG9iamVjdDogY2lyY2xlLFxuICogICAgIGNvbnRhaW5lcjogYXBwLnNjZW5lLFxuICogICAgIGNvbnRlbnQ6ICdEYXMgR2VzZXR6IGlzdCBkZXIgRnJldW5kIGRlcyBTY2h3YWNoZW4uJ1xuICogfSlcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIEFic3RyYWN0UG9wdXBcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS9iYWRnZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhZGdlIGV4dGVuZHMgQWJzdHJhY3RQb3B1cCB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIEJhZGdlLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIGJhZGdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5XaWR0aD0wXSAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSBiYWRnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluSGVpZ2h0PTBdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBiYWRnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucGFkZGluZz1UaGVtZS5wYWRkaW5nIC8gMl0gLSBUaGUgaW5uZXIgc3BhY2luZyBvZiB0aGUgYmFkZ2UuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBbb3B0cy50b29sdGlwXSAtIEEgc3RyaW5nIGZvciB0aGUgbGFiZWwgb2YgdGhlIHRvb2x0aXAgb3IgYW4gb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUgdG9vbHRpcFxuICAgICAqICAgICB0byBkaXNwbGF5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIFxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgbWluV2lkdGg6IDAsXG4gICAgICAgICAgICBtaW5IZWlnaHQ6IDAsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5wYWRkaW5nIC8gMixcbiAgICAgICAgICAgIHRvb2x0aXA6IG51bGxcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICBzdXBlcihvcHRzKVxuXG4gICAgICAgIHRoaXMudG9vbHRpcCA9IG51bGxcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge0JhZGdlfSBBIHJlZmVyZW5jZSB0byB0aGUgYmFkZ2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIHN1cGVyLnNldHVwKClcblxuICAgICAgICAvLyB0b29sdGlwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy50b29sdGlwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy50b29sdGlwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKHtvYmplY3Q6IHRoaXMsIGNvbnRlbnQ6IHRoaXMub3B0cy50b29sdGlwfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzLnRvb2x0aXAgPSBPYmplY3QuYXNzaWduKHt9LCB7b2JqZWN0OiB0aGlzfSwgdGhpcy5vcHRzLnRvb2x0aXApXG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRzLnRvb2x0aXApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgYmFkZ2UuIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqIFxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm4ge0JhZGdlfSBBIHJlZmVyZW5jZSB0byB0aGUgYmFkZ2UgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcblxuICAgICAgICBzdXBlci5sYXlvdXQoKVxuXG4gICAgICAgIHRoaXMuY29udGVudC54ID0gdGhpcy53aWR0aCAvIDIgLSB0aGlzLmNvbnRlbnQud2lkdGggLyAyIC0gdGhpcy5vcHRzLnN0cm9rZVdpZHRoIC8gMlxuICAgICAgICB0aGlzLmNvbnRlbnQueSA9IHRoaXMuaGVpZ2h0IC8gMiAtIHRoaXMuY29udGVudC5oZWlnaHQgLyAyIC0gdGhpcy5vcHRzLnN0cm9rZVdpZHRoIC8gMlxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuIiwiXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudHMge1xuXG4gICAgc3RhdGljIHN0b3AoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxuICAgIH1cblxuICAgIHN0YXRpYyBleHRyYWN0UG9pbnQoZXZlbnQpIHtcbiAgICAgICAgc3dpdGNoIChldmVudC5jb25zdHJ1Y3Rvci5uYW1lKSB7XG4gICAgICAgICAgICBjYXNlICdUb3VjaEV2ZW50JzpcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50LnRhcmdldFRvdWNoZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBldmVudC50YXJnZXRUb3VjaGVzW2ldXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHg6IHQuY2xpZW50WCwgeTogdC5jbGllbnRZIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgaXNDYXB0dXJlZChldmVudCkge1xuICAgICAgICBpZiAoZXZlbnQuX19jYXB0dXJlZEJ5KVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgc3RhdGljIGNhcHR1cmVkQnkoZXZlbnQsIG9iaikge1xuICAgICAgICBldmVudC5fX2NhcHR1cmVkQnkgPSBvYmpcbiAgICB9XG5cbiAgICBzdGF0aWMgaXNNb3VzZURvd24oZXZlbnQpIHtcbiAgICAgICAgLy8gQXR0ZW1wdHMgdG8gY2xvbmUgdGhlIHdoaWNoIGF0dHJpYnV0ZSBvZiBldmVudHMgZmFpbGVkIGluIFdlYktpdC4gTWF5XG4gICAgICAgIC8vIGJlIHRoaXMgaXMgYSBidWcgb3IgYSBzZWN1cml0eSBmZWF0dXJlLiBXb3JrYXJvdW5kOiB3ZSBpbnRyb2R1Y2VcbiAgICAgICAgLy8gYSBtb3VzZURvd25TdWJzdGl0dXRlIGF0dHJpYnV0ZSB0aGF0IGNhbiBiZSBhc3NpZ25lZCB0byBjbG9uZWRcbiAgICAgICAgLy8gZXZlbnRzIGFmdGVyIGluc3RhbnRpYXRpb24uXG4gICAgICAgIGlmIChSZWZsZWN0LmhhcyhldmVudCwgJ21vdXNlRG93blN1YnN0aXR1dGUnKSlcbiAgICAgICAgICAgIHJldHVybiBldmVudC5tb3VzZURvd25TdWJzdGl0dXRlXG4gICAgICAgIHJldHVybiBldmVudC5idXR0b25zIHx8IGV2ZW50LndoaWNoXG4gICAgfVxuXG4gICAgc3RhdGljIGlzU2ltdWxhdGVkRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKGV2ZW50LCAnbW91c2VEb3duU3Vic3RpdHV0ZScpXG4gICAgfVxuXG4gICAgc3RhdGljIGlzTW91c2VSaWdodENsaWNrKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBldmVudC5idXR0b25zIHx8IGV2ZW50LndoaWNoXG4gICAgfVxuXG4gICAgc3RhdGljIGV4dHJhY3RUb3VjaGVzKHRhcmdldHMpIHtcbiAgICAgICAgbGV0IHRvdWNoZXMgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRhcmdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB0ID0gdGFyZ2V0c1tpXVxuICAgICAgICAgICAgdG91Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0YXJnZXRTZWxlY3RvcjogdGhpcy5zZWxlY3Rvcih0LnRhcmdldCksXG4gICAgICAgICAgICAgICAgaWRlbnRpZmllcjogdC5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHNjcmVlblg6IHQuc2NyZWVuWCxcbiAgICAgICAgICAgICAgICBzY3JlZW5ZOiB0LnNjcmVlblksXG4gICAgICAgICAgICAgICAgY2xpZW50WDogdC5jbGllbnRYLFxuICAgICAgICAgICAgICAgIGNsaWVudFk6IHQuY2xpZW50WSxcbiAgICAgICAgICAgICAgICBwYWdlWDogdC5wYWdlWCxcbiAgICAgICAgICAgICAgICBwYWdlWTogdC5wYWdlWVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG91Y2hlc1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVUb3VjaExpc3QodGFyZ2V0cykge1xuICAgICAgICBsZXQgdG91Y2hlcyA9IFtdXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGFyZ2V0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHQgPSB0YXJnZXRzW2ldXG4gICAgICAgICAgICBsZXQgdG91Y2hUYXJnZXQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KHQucGFnZVgsIHQucGFnZVkpXG4gICAgICAgICAgICBsZXQgdG91Y2ggPSBuZXcgVG91Y2godW5kZWZpbmVkLCB0b3VjaFRhcmdldCwgdC5pZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHQucGFnZVgsIHQucGFnZVksIHQuc2NyZWVuWCwgdC5zY3JlZW5ZKVxuICAgICAgICAgICAgdG91Y2hlcy5wdXNoKHRvdWNoKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVG91Y2hMaXN0KC4uLnRvdWNoZXMpXG4gICAgfVxuXG4gICAgc3RhdGljIGV4dHJhY3RFdmVudCh0aW1lc3RhbXAsIGV2ZW50KSB7XG4gICAgICAgIGxldCB0YXJnZXRTZWxlY3RvciA9IHRoaXMuc2VsZWN0b3IoZXZlbnQudGFyZ2V0KVxuICAgICAgICBsZXQgaW5mb3MgPSB7XG4gICAgICAgICAgICB0eXBlOiBldmVudC50eXBlLFxuICAgICAgICAgICAgdGltZTogdGltZXN0YW1wLFxuICAgICAgICAgICAgY29uc3RydWN0b3I6IGV2ZW50LmNvbnN0cnVjdG9yLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHRhcmdldFNlbGVjdG9yOiB0YXJnZXRTZWxlY3RvcixcbiAgICAgICAgICAgICAgICB2aWV3OiBldmVudC52aWV3LFxuICAgICAgICAgICAgICAgIG1vdXNlRG93blN1YnN0aXR1dGU6IGV2ZW50LmJ1dHRvbnMgfHwgZXZlbnQud2hpY2gsIC8vIHdoaWNoIGNhbm5vdCBiZSBjbG9uZWQgZGlyZWN0bHlcbiAgICAgICAgICAgICAgICBidWJibGVzOiBldmVudC5idWJibGVzLFxuICAgICAgICAgICAgICAgIGNhbmNlbGFibGU6IGV2ZW50LmNhbmNlbGFibGUsXG4gICAgICAgICAgICAgICAgc2NyZWVuWDogZXZlbnQuc2NyZWVuWCxcbiAgICAgICAgICAgICAgICBzY3JlZW5ZOiBldmVudC5zY3JlZW5ZLFxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXZlbnQuY2xpZW50WSxcbiAgICAgICAgICAgICAgICBsYXllclg6IGV2ZW50LmxheWVyWCxcbiAgICAgICAgICAgICAgICBsYXllclk6IGV2ZW50LmxheWVyWSxcbiAgICAgICAgICAgICAgICBwYWdlWDogZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgICAgcGFnZVk6IGV2ZW50LnBhZ2VZLFxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2ZW50LmN0cmxLZXksXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldmVudC5hbHRLZXksXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2ZW50LnNoaWZ0S2V5LFxuICAgICAgICAgICAgICAgIG1ldGFLZXk6IGV2ZW50Lm1ldGFLZXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKCd0b3VjaCcpKSB7XG4gICAgICAgICAgICAvLyBPbiBTYWZhcmktV2ViS2l0IHRoZSBUb3VjaEV2ZW50IGhhcyBsYXllclgsIGxheWVyWSBjb29yZGluYXRlc1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBpbmZvcy5kYXRhXG4gICAgICAgICAgICBkYXRhLnRhcmdldFRvdWNoZXMgPSB0aGlzLmV4dHJhY3RUb3VjaGVzKGV2ZW50LnRhcmdldFRvdWNoZXMpXG4gICAgICAgICAgICBkYXRhLmNoYW5nZWRUb3VjaGVzID0gdGhpcy5leHRyYWN0VG91Y2hlcyhldmVudC5jaGFuZ2VkVG91Y2hlcylcbiAgICAgICAgICAgIGRhdGEudG91Y2hlcyA9IHRoaXMuZXh0cmFjdFRvdWNoZXMoZXZlbnQudG91Y2hlcylcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQudHlwZS5zdGFydHNXaXRoKCdwb2ludGVyJykpIHtcbiAgICAgICAgICAgIGxldCBkYXRhID0gaW5mb3MuZGF0YVxuICAgICAgICAgICAgZGF0YS5wb2ludGVySWQgPSBldmVudC5wb2ludGVySWRcbiAgICAgICAgICAgIGRhdGEucG9pbnRlclR5cGUgPSBldmVudC5wb2ludGVyVHlwZVxuICAgICAgICB9XG4gICAgICAgIGlmIChFdmVudHMuZGVidWcpIHtcbiAgICAgICAgICAgIEV2ZW50cy5leHRyYWN0ZWQucHVzaCh0aGlzLnRvTGluZShldmVudCkpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGluZm9zXG4gICAgfVxuXG4gICAgc3RhdGljIGNsb25lRXZlbnQodHlwZSwgY29uc3RydWN0b3IsIGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGUuc3RhcnRzV2l0aCgndG91Y2gnKSkge1xuICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBmaW5kIHRhcmdldCBmcm9tIGxheWVyWCwgbGF5ZXJZXG4gICAgICAgICAgICAvL3ZhciB0YXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGRhdGEudGFyZ2V0U2VsZWN0b3IpXG4gICAgICAgICAgICAvLyBlbGVtZW50RnJvbVBvaW50KGRhdGEubGF5ZXJYLCBkYXRhLmxheWVyWSlcbiAgICAgICAgICAgIC8vZGF0YS50YXJnZXQgPSB0YXJnZXRcbiAgICAgICAgICAgIGRhdGEudGFyZ2V0VG91Y2hlcyA9IHRoaXMuY3JlYXRlVG91Y2hMaXN0KGRhdGEudGFyZ2V0VG91Y2hlcylcbiAgICAgICAgICAgIGRhdGEuY2hhbmdlZFRvdWNoZXMgPSB0aGlzLmNyZWF0ZVRvdWNoTGlzdChkYXRhLmNoYW5nZWRUb3VjaGVzKVxuICAgICAgICAgICAgZGF0YS50b3VjaGVzID0gdGhpcy5jcmVhdGVUb3VjaExpc3QoZGF0YS50b3VjaGVzKVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIG5lZWQgdG8gZmluZCB0YXJnZXQgZnJvbSBwYWdlWCwgcGFnZVkgd2hpY2ggYXJlIG9ubHlcbiAgICAgICAgLy8gYXZhaWxhYmxlIGFmdGVyIGNvbnN0cnVjdGlvbi4gVGhleSBzZWVtIHRvIGdldHRlciBpdGVtcy5cblxuICAgICAgICBsZXQgY2xvbmUgPSBSZWZsZWN0LmNvbnN0cnVjdChjb25zdHJ1Y3RvciwgW3R5cGUsIGRhdGFdKVxuICAgICAgICBjbG9uZS5tb3VzZURvd25TdWJzdGl0dXRlID0gZGF0YS5tb3VzZURvd25TdWJzdGl0dXRlXG4gICAgICAgIHJldHVybiBjbG9uZVxuICAgIH1cblxuICAgIHN0YXRpYyBzaW11bGF0ZUV2ZW50KHR5cGUsIGNvbnN0cnVjdG9yLCBkYXRhKSB7XG4gICAgICAgIGRhdGEudGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihkYXRhLnRhcmdldFNlbGVjdG9yKVxuICAgICAgICBsZXQgY2xvbmUgPSB0aGlzLmNsb25lRXZlbnQodHlwZSwgY29uc3RydWN0b3IsIGRhdGEpXG4gICAgICAgIGlmIChkYXRhLnRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgICAgICBkYXRhLnRhcmdldC5kaXNwYXRjaEV2ZW50KGNsb25lKVxuICAgICAgICB9XG4gICAgICAgIGlmIChFdmVudHMuZGVidWcpIHtcbiAgICAgICAgICAgIEV2ZW50cy5zaW11bGF0ZWQucHVzaCh0aGlzLnRvTGluZShjbG9uZSkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdG9MaW5lKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBgJHtldmVudC50eXBlfSAjJHtldmVudC50YXJnZXQuaWR9ICR7ZXZlbnQuY2xpZW50WH0gJHtldmVudC5jbGllbnRZfWBcbiAgICAgICAgbGV0IHJlc3VsdCA9IGV2ZW50LnR5cGVcbiAgICAgICAgbGV0IHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvcihldmVudC50YXJnZXQpXG4gICAgICAgIHJlc3VsdCArPSAnIHNlbGVjdG9yOiAnICsgc2VsZWN0b3JcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCAhPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKSlcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdDYW5ub3QgcmVzb2x2ZScsIHNlbGVjdG9yKVxuICAgICAgICBsZXQga2V5cyA9IFsnbGF5ZXJYJywgJ2xheWVyWScsICdwYWdlWCcsICdwYWdlWScsICdjbGllbnRYJywgJ2NsaWVudFknXVxuICAgICAgICBmb3IgKGxldCBrZXkgb2Yga2V5cykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gJyAnICsga2V5ICsgJzonICsgZXZlbnRba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSW52YWxpZCBrZXk6ICcgKyBrZXkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHN0YXRpYyBjb21wYXJlRXh0cmFjdGVkV2l0aFNpbXVsYXRlZCgpIHtcbiAgICAgICAgdmFyIGRpZmZzID0gMFxuICAgICAgICBpZiAodGhpcy5leHRyYWN0ZWQubGVuZ3RoICE9IHRoaXMuc2ltdWxhdGVkLmxlbmd0aCkge1xuICAgICAgICAgICAgYWxlcnQoJ1VuZXF1YWwgbGVuZ3RoIG9mIGV4dHJhY3RlZCBbJyArIHRoaXMuZXh0cmFjdGVkLmxlbmd0aCArXG4gICAgICAgICAgICAgICAgJ10gYW5kIHNpbXVsYXRlZCBldmVudHMgWycgKyB0aGlzLnNpbXVsYXRlZC5sZW5ndGggKyAnXS4nKVxuICAgICAgICAgICAgZGlmZnMgKz0gMVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmV4dHJhY3RlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RlZFtpXVxuICAgICAgICAgICAgICAgIHZhciBzaW11bGF0ZWQgPSB0aGlzLnNpbXVsYXRlZFtpXVxuICAgICAgICAgICAgICAgIGlmIChleHRyYWN0ZWQgIT0gc2ltdWxhdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFdmVudHMgZGlmZmVyOicgKyBleHRyYWN0ZWQgKyAnfCcgKyBzaW11bGF0ZWQpXG4gICAgICAgICAgICAgICAgICAgIGRpZmZzICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgc2VsZWN0b3IoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gT3B0aW1hbFNlbGVjdC5zZWxlY3QoY29udGV4dClcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuZXh0cmFjdGVkID0gW11cbiAgICAgICAgdGhpcy5zaW11bGF0ZWQgPSBbXVxuICAgIH1cblxuICAgIHN0YXRpYyByZXNldFNpbXVsYXRlZCgpIHtcbiAgICAgICAgdGhpcy5zaW11bGF0ZWQgPSBbXVxuICAgIH1cblxuICAgIHN0YXRpYyBzaG93RXh0cmFjdGVkRXZlbnRzKGV2ZW50KSB7XG4gICAgICAgIGlmICghZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcHVwID09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIEVsZW1lbnRzLnNldFN0eWxlKGVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcbiAgICAgICAgICAgICAgICB3aWR0aDogJzQ4MHB4JyxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6ICc2NDBweCcsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdsaWdodGdyYXknXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgICAgICAgICAgdGhpcy5wb3B1cCA9IGVsZW1lbnRcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBvcHVwLmlubmVySFRNTCA9ICcnXG4gICAgICAgIGZvciAobGV0IGxpbmUgb2YgdGhpcy5leHRyYWN0ZWQpIHtcbiAgICAgICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGxpbmVcbiAgICAgICAgICAgIHRoaXMucG9wdXAuYXBwZW5kQ2hpbGQoZGl2KVxuICAgICAgICB9XG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICBkaXYuaW5uZXJIVE1MID0gJy0tLS0tLS0tLS0tLSBTaW11bGF0ZWQgLS0tLS0tLS0tLS0nXG4gICAgICAgIHRoaXMucG9wdXAuYXBwZW5kQ2hpbGQoZGl2KVxuICAgICAgICBmb3IgKGxldCBsaW5lIG9mIHRoaXMuc2ltdWxhdGVkKSB7XG4gICAgICAgICAgICBsZXQgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICAgICAgICAgIGRpdi5pbm5lckhUTUwgPSBsaW5lXG4gICAgICAgICAgICB0aGlzLnBvcHVwLmFwcGVuZENoaWxkKGRpdilcbiAgICAgICAgfVxuICAgICAgICBFbGVtZW50cy5zZXRTdHlsZSh0aGlzLnBvcHVwLFxuICAgICAgICAgICAgeyBsZWZ0OiBldmVudC5jbGllbnRYICsgJ3B4JywgdG9wOiBldmVudC5jbGllbnRZICsgJ3B4JyB9KVxuICAgIH1cbn1cblxuRXZlbnRzLnBvcHVwID0gbnVsbFxuRXZlbnRzLmRlYnVnID0gdHJ1ZVxuRXZlbnRzLmV4dHJhY3RlZCA9IFtdXG5FdmVudHMuc2ltdWxhdGVkID0gW11cbkV2ZW50cy5zaW11bGF0aW9uUnVubmluZyA9IGZhbHNlXG5cbmV4cG9ydCBjbGFzcyBFdmVudFJlY29yZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnJlY29yZGluZyA9IFtdXG4gICAgICAgIHRoaXMucmVjb3JkZWQgPSBbXVxuICAgICAgICB0aGlzLnN0ZXAgPSAwXG4gICAgfVxuXG4gICAgcmVjb3JkKGV2ZW50KSB7XG4gICAgICAgIGxldCBsZW5ndGggPSB0aGlzLnJlY29yZGluZy5sZW5ndGhcbiAgICAgICAgaWYgKGxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IGV2ZW50LnRpbWVTdGFtcFxuICAgICAgICAgICAgRXZlbnRzLnJlc2V0KClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBsYXN0ID0gdGhpcy5yZWNvcmRpbmdbbGVuZ3RoIC0gMV1cbiAgICAgICAgICAgIGlmIChldmVudC50aW1lU3RhbXAgPCBsYXN0LnRpbWUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnd2FybmluZzogd3JvbmcgdGVtcG9yYWwgb3JkZXInKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCB0ID0gZXZlbnQudGltZVN0YW1wIC0gdGhpcy5zdGFydFRpbWVcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcucHVzaChFdmVudHMuZXh0cmFjdEV2ZW50KHQsIGV2ZW50KSlcbiAgICB9XG5cbiAgICBzdG9wUmVjb3JkaW5nKCkge1xuICAgICAgICB0aGlzLnJlY29yZGVkID0gdGhpcy5yZWNvcmRpbmdcbiAgICAgICAgdGhpcy5yZWNvcmRpbmcgPSBbXVxuICAgICAgICBjb25zb2xlLmxvZygnUmVjb3JkZWQgJyArIHRoaXMucmVjb3JkZWQubGVuZ3RoICsgJyBldmVudHMnKVxuICAgIH1cblxuICAgIHN0YXJ0UmVwbGF5KHdoaWxlQ29uZGl0aW9uID0gbnVsbCwgb25Db21wbGV0ZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zdGVwID0gMFxuICAgICAgICBFdmVudHMucmVzZXRTaW11bGF0ZWQoKVxuICAgICAgICBjb25zb2xlLmxvZygnU3RhcnQgcmVwbGF5JylcbiAgICAgICAgRXZlbnRzLnNpbXVsYXRpb25SdW5uaW5nID0gdHJ1ZVxuICAgICAgICB0aGlzLnJlcGxheSh3aGlsZUNvbmRpdGlvbiwgb25Db21wbGV0ZSlcbiAgICB9XG5cbiAgICByZXBsYXkod2hpbGVDb25kaXRpb24gPSBudWxsLCBvbkNvbXBsZXRlID0gbnVsbCkge1xuICAgICAgICBpZiAodGhpcy5zdGVwIDwgdGhpcy5yZWNvcmRlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB7IHR5cGUsIHRpbWUsIGNvbnN0cnVjdG9yLCBkYXRhIH0gPSB0aGlzLnJlY29yZGVkW3RoaXMuc3RlcF1cbiAgICAgICAgICAgIEV2ZW50cy5zaW11bGF0ZUV2ZW50KHR5cGUsIGNvbnN0cnVjdG9yLCBkYXRhKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnN0ZXAgKz0gMVxuICAgICAgICAgICAgbGV0IGR0ID0gMFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RlcCA8IHRoaXMucmVjb3JkZWQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSB0aGlzLnJlY29yZGVkW3RoaXMuc3RlcF1cbiAgICAgICAgICAgICAgICBkdCA9IG5leHQudGltZSAtIHRpbWVcbiAgICAgICAgICAgICAgICBpZiAoZHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd3YXJuaW5nOiB3cm9uZyB0ZW1wb3JhbCBvcmRlcicpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdoaWxlQ29uZGl0aW9uID09IG51bGwgfHwgd2hpbGVDb25kaXRpb24oKSkge1xuICAgICAgICAgICAgICAgIGxldCBkZWx0YSA9IE1hdGgucm91bmQoZHQpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnJlcGxheSh3aGlsZUNvbmRpdGlvbiwgb25Db21wbGV0ZSksIGRlbHRhKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1BsYXllZCAnICsgdGhpcy5zdGVwICsgJyBldmVudHMnICsgb25Db21wbGV0ZSlcbiAgICAgICAgICAgIEV2ZW50cy5zaW11bGF0aW9uUnVubmluZyA9IGZhbHNlXG4gICAgICAgICAgICBpZiAob25Db21wbGV0ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvL0V2ZW50cy5jb21wYXJlRXh0cmFjdGVkV2l0aFNpbXVsYXRlZCgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwLmpzJ1xuaW1wb3J0IEJhZGdlIGZyb20gJy4vYmFkZ2UuanMnXG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy5qcydcblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgdGhlIGJ1dHRvbiBhY3Rpb24uXG4gKlxuICogQGNhbGxiYWNrIGFjdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtCdXR0b259IGJ1dHRvbiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gKGFsc28gdGhpcyByZWZlcnMgdG8gdGhlIGJ1dHRvbikuXG4gKi9cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgdGhlIGJ1dHRvbiBiZWZvcmVBY3Rpb24uXG4gKlxuICogQGNhbGxiYWNrIGJlZm9yZUFjdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtCdXR0b259IGJ1dHRvbiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gKGFsc28gdGhpcyByZWZlcnMgdG8gdGhlIGJ1dHRvbikuXG4gKi9cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgdGhlIGJ1dHRvbiBhZnRlckFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYWZ0ZXJBY3Rpb25DYWxsYmFja1xuICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IC0gVGhlIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7QnV0dG9ufSBidXR0b24gLSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBidXR0b24pLlxuICovXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIEJ1dHRvbi5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBidXR0b25cbiAqIGNvbnN0IGJ1dHRvbiA9IG5ldyBCdXR0b24oe1xuICogICAgIGxhYmVsOiAnTXkgQnV0dG9uJyxcbiAqICAgICBhY3Rpb246ICgpID0+IGNvbnNvbGUubG9nKCdCdXR0b24gd2FzIGNsaWNrZWQnKVxuICogfSlcbiAqXG4gKiAvLyBBZGQgdGhlIGJ1dHRvbiB0byBhIERpc3BsYXlPYmplY3RcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChidXR0b24pXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkNvbnRhaW5lci5odG1sfFBJWEkuQ29udGFpbmVyfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL2J1dHRvbi5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBCdXR0b24uXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmlkPWF1dG8gZ2VuZXJhdGVkXSAtIFRoZSBpZCBvZiB0aGUgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5sYWJlbF0gLSBUaGUgbGFiZWwgb2YgdGhlIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueD0wXSAtIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBidXR0b24uIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIGJ1dHRvbi54ID0gMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueT0wXSAtIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBidXR0b24uIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIGJ1dHRvbi55ID0gMC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUaGVtZX0gW29wdHMudGhlbWU9ZGFya10gLSBUaGUgdGhlbWUgdG8gdXNlIGZvciB0aGlzIGJ1dHRvbi4gUG9zc2libGUgdmFsdWVzIGFyZSBkYXJrLCBsaWdodCwgcmVkXG4gICAgICogICAgIG9yIGEgVGhlbWUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5XaWR0aD00NF0gLSBUaGUgbWluaW11bSB3aWR0aCBvZiB0aGUgYnV0dG9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5IZWlnaHQ9NDRdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnBhZGRpbmc9VGhlbWUucGFkZGluZ10gLSBUaGUgaW5uZXIgc3BhY2luZyAoZGlzdGFuY2UgZnJvbSBpY29uIGFuZC9vciBsYWJlbCkgdG8gdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xQSVhJLkRpc3BsYXlPYmplY3R9IFtvcHRzLmljb25dIC0gVGhlIGljb24gb2YgdGhlIGJ1dHRvbi4gQ2FuIGJlIGEgcHJlZGVmaW5lZCBvbmUsIGFuIFVSTCBvciBhbiBQSVhJLkRpc3BsYXlPYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5EaXNwbGF5T2JqZWN0fSBbb3B0cy5pY29uQWN0aXZlPWljb25dIC0gVGhlIGljb24gb2YgdGhlIGJ1dHRvbiB3aGVuIGFjdGl2YXRlZC4gQ2FuIGJlIGEgcHJlZGVmaW5lZCBvbmUsIGFuIFVSTCBvciBhbiBQSVhJLkRpc3BsYXlPYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmljb25Qb3NpdGlvbj1sZWZ0XSAtIFRoZSBwb3NpdGlvbiBvZiB0aGUgaWNvbiBpbiByZWxhdGlvbiB0byB0aGUgbGFiZWwuIENhbiBiZSBsZWZ0IG9yIHJpZ2h0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pY29uQ29sb3I9VGhlbWUuaWNvbkNvbG9yXSAtIFRoZSBjb2xvciBvZiB0aGUgaWNvbiAoc2V0IGJ5IHRoZSB0aW50IHByb3BlcnR5KSBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWNvbkNvbG9yQWN0aXZlPVRoZW1lLmljb25Db2xvckFjdGl2ZV0gLSBUaGUgY29sb3Igb2YgdGhlIGljb24gd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGw9VGhlbWUuZmlsbF0gLSBUaGUgY29sb3Igb2YgdGhlIGJ1dHRvbiBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9VGhlbWUuZmlsbEFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZT1UaGVtZS5maWxsQWN0aXZlXSAtIFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmVBbHBoYT1UaGVtZS5maWxsQWN0aXZlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2U9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VXaWR0aD1UaGVtZS5zdHJva2VXaWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZT1UaGVtZS5zdHJva2VBY3RpdmVdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZVdpZHRoPVRoZW1lLnN0cm9rZUFjdGl2ZVdpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVBbHBoYT1UaGVtZS5zdHJva2VBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlPVRoZW1lLnRleHRTdHlsZV0gLSBBIHRleHRzdHlsZSBvYmplY3QgZm9yIHRoZSBzdHlsaW5nIG9mIHRoZSBsYWJlbC4gU2VlIFBJWEkuVGV4dFN0eWxlXG4gICAgICogICAgIGZvciBwb3NzaWJsZSBvcHRpb25zLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50ZXh0U3R5bGVBY3RpdmU9VGhlbWUudGV4dFN0eWxlQWN0aXZlXSAtIEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGxhYmVsIHdoZW4gdGhlXG4gICAgICogICAgIGJ1dHRvbiBpcyBhY3RpdmF0ZWQuIFNlZSBQSVhJLlRleHRTdHlsZSBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuc3R5bGU9ZGVmYXVsdF0gLSBBIHNob3J0Y3V0IGZvciBzdHlsaW5nIG9wdGlvbnMuIFBvc3NpYmxlIHZhbHVlcyBhcmUgZGVmYXVsdCwgbGluay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmFkaXVzPVRoZW1lLnJhZGl1c10gLSBUaGUgcmFkaXVzIG9mIHRoZSBmb3VyIGNvcm5lcnMgb2YgdGhlIGJ1dHRvbiAod2hpY2ggaXMgYSByb3VuZGVkIHJlY3RhbmdsZSkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kaXNhYmxlZD1mYWxzZV0gLSBJcyB0aGUgYnV0dG9uIGRpc2FibGVkPyBXaGVuIGRpc2FibGVkLCB0aGUgYnV0dG9uIGhhcyBhIGxvd2VyIGFscGhhIHZhbHVlXG4gICAgICogICAgIGFuZCBjYW5ub3QgYmUgY2xpY2tlZCAoaW50ZXJhY3RpdmUgaXMgc2V0IHRvIGZhbHNlKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmFjdGl2ZT1mYWxzZV0gLSBJcyB0aGUgYnV0dG9uIGluaXRpYWxseSBhY3RpdmU/XG4gICAgICogQHBhcmFtIHthY3Rpb25DYWxsYmFja30gW29wdHMuYWN0aW9uXSAtIEV4ZWN1dGVkIHdoZW4gdGhlIGJ1dHRvbiB3YXMgdHJpZ2dlcmVkIChieSBwb2ludGVydXApLlxuICAgICAqIEBwYXJhbSB7YmVmb3JlQWN0aW9uQ2FsbGJhY2t9IFtvcHRzLmJlZm9yZUFjdGlvbl0gLSBFeGVjdXRlZCBiZWZvcmUgdGhlIG1haW4gYWN0aW9uIGlzIHRyaWdnZXJlZC5cbiAgICAgKiBAcGFyYW0ge2FmdGVyQWN0aW9uQ2FsbGJhY2t9IFtvcHRzLmFmdGVyQWN0aW9uXSAtIEV4ZWN1dGVkIGFmdGVyIHRoZSBtYWluIGFjdGlvbiB3YXMgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy50eXBlPWRlZmF1bHRdIC0gVGhlIHR5cGUgb2YgdGhlIGJ1dHRvbi4gQ2FuIGJlIGRlZmF1bHQgb3IgY2hlY2tib3guIFdoZW4gdGhlIHR5cGUgaXNcbiAgICAgKiAgICAgY2hlY2tib3gsIHRoZSBhY3RpdmUgc3RhdGUgaXMgdG9nZ2xlZCBhdXRvbWF0aWNhbGx5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5hbGlnbj1jZW50ZXJdIC0gVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIGxhYmVsIGFuZCB0aGUgaWNvbi4gUG9zc2libGUgdmFsdWVzIGFyZVxuICAgICAqICAgICBsZWZ0LCBjZW50ZXIgYW5kIHJpZ2h0LiBPbmx5IGFmZmVjdHMgdGhlIHN0eWxlIHdoZW4gdGhlIG1pbldpZHRoIGlzIGJpZ2dlciB0aGFuIHRoZSB3aWR0aCBvZiB0aGUgaWNvbiBhbmQgbGFiZWwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnZlcnRpY2FsQWxpZ249bWlkZGxlXSAtIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgbGFiZWwgYW5kIHRoZSBpY29uLiBQb3NzaWJsZSB2YWx1ZXMgYXJlXG4gICAgICogICAgIHRvcCwgbWlkZGxlIGFuZCBidXR0b24uIE9ubHkgYWZmZWN0cyB0aGUgc3R5bGUgd2hlbiB0aGUgbWluSGVpZ2h0IGlzIGJpZ2dlciB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIGljb24gYW5kIGxhYmVsLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gW29wdHMudG9vbHRpcF0gLSBBIHN0cmluZyBmb3IgdGhlIGxhYmVsIG9mIHRoZSB0b29sdGlwIG9yIGFuIG9iamVjdCB0byBjb25maWd1cmUgdGhlIHRvb2x0aXBcbiAgICAgKiAgICAgdG8gZGlzcGxheS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IFtvcHRzLmJhZGdlXSAtIEEgc3RyaW5nIGZvciB0aGUgbGFiZWwgb2YgdGhlIGJhZGdlIG9yIGFuIG9iamVjdCB0byBjb25maWd1cmUgdGhlIGJhZGdlIHRvIGRpc3BsYXkuXG4gICAgICogICAgIElmIHRoZSBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0LCBhbGwgYmFkZ2Ugb3B0aW9ucyBjYW4gYmUgc2V0IHBsdXMgdGhlIGZvbGxvd2luZzpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYmFkZ2UuYWxpZ249cmlnaHRdIC0gVGhlIGhvcml6b250YWwgYWxpZ25tZW50IG9mIHRoZSBiYWRnZS4gUG9zc2libGUgdmFsdWVzOiBsZWZ0LCBjZW50ZXIsIHJpZ2h0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmJhZGdlLnZlcnRpY2FsQWxpZ249dG9wXSAtIFRoZSB2ZXJ0aWNhbCBhbGlnbm1lbnQgb2YgdGhlIGJhZGdlLiBQb3NzaWJsZSB2YWx1ZXM6IHRvcCwgbWlkZGxlLCBib3R0b21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFkZ2Uub2Zmc2V0TGVmdD0wXSAtIFRoZSBob3Jpem9udGFsIHNoaWZ0IG9mIHRoZSBiYWRnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFkZ2Uub2Zmc2V0VG9wPTBdIC0gVGhlIHZlcnRpY2FsIHNoaWZ0IG9mIHRoZSBiYWRnZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnZpc2libGU9dHJ1ZV0gLSBJcyB0aGUgYnV0dG9uIGluaXRpYWxseSB2aXNpYmxlIChwcm9wZXJ0eSB2aXNpYmxlKT9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcblxuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgbGFiZWw6IG51bGwsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIG1pbldpZHRoOiA0NCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogNDQsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5wYWRkaW5nLFxuICAgICAgICAgICAgaWNvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaWNvbkFjdGl2ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaWNvblBvc2l0aW9uOiAnbGVmdCcsXG4gICAgICAgICAgICBpY29uQ29sb3I6IHRoZW1lLmljb25Db2xvcixcbiAgICAgICAgICAgIGljb25Db2xvckFjdGl2ZTogdGhlbWUuaWNvbkNvbG9yQWN0aXZlLFxuICAgICAgICAgICAgZmlsbDogdGhlbWUuZmlsbCxcbiAgICAgICAgICAgIGZpbGxBbHBoYTogdGhlbWUuZmlsbEFscGhhLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZTogdGhlbWUuZmlsbEFjdGl2ZSxcbiAgICAgICAgICAgIGZpbGxBY3RpdmVBbHBoYTogdGhlbWUuZmlsbEFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgc3Ryb2tlOiB0aGVtZS5zdHJva2UsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogdGhlbWUuc3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICBzdHJva2VBbHBoYTogdGhlbWUuc3Ryb2tlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2VBY3RpdmU6IHRoZW1lLnN0cm9rZUFjdGl2ZSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZVdpZHRoOiB0aGVtZS5zdHJva2VBY3RpdmVXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZUFscGhhOiB0aGVtZS5zdHJva2VBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogdGhlbWUudGV4dFN0eWxlLFxuICAgICAgICAgICAgdGV4dFN0eWxlQWN0aXZlOiB0aGVtZS50ZXh0U3R5bGVBY3RpdmUsXG4gICAgICAgICAgICBzdHlsZTogJ2RlZmF1bHQnLFxuICAgICAgICAgICAgcmFkaXVzOiB0aGVtZS5yYWRpdXMsXG4gICAgICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aW9uOiBudWxsLFxuICAgICAgICAgICAgYmVmb3JlQWN0aW9uOiBudWxsLFxuICAgICAgICAgICAgYWZ0ZXJBY3Rpb246IG51bGwsXG4gICAgICAgICAgICB0eXBlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsXG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAnbWlkZGxlJyxcbiAgICAgICAgICAgIHRvb2x0aXA6IG51bGwsXG4gICAgICAgICAgICBiYWRnZTogbnVsbCxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLmlkID0gdGhpcy5vcHRzLmlkXG5cbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMuaWNvbiA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMub3B0cy5pY29uQWN0aXZlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5vcHRzLmljb24gPSB0aGlzLm9wdHMuaWNvbkFjdGl2ZVxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiB0aGlzLm9wdHMuaWNvbiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHRoaXMub3B0cy5pY29uQWN0aXZlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgdGhpcy5vcHRzLmljb25BY3RpdmUgPSB0aGlzLm9wdHMuaWNvblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5zdHlsZSA9PT0gJ2xpbmsnKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMub3B0cywge3N0cm9rZUFscGhhOiAwLCBzdHJva2VBY3RpdmVBbHBoYTogMCwgZmlsbEFscGhhOiAwLCBmaWxsQWN0aXZlQWxwaGE6IDB9KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYWN0aXZlID0gbnVsbFxuICAgICAgICB0aGlzLl9kaXNhYmxlZCA9IG51bGxcblxuICAgICAgICB0aGlzLmljb25JbmFjdGl2ZSA9IG51bGxcbiAgICAgICAgdGhpcy5pY29uQWN0aXZlID0gbnVsbFxuICAgICAgICB0aGlzLnRleHQgPSBudWxsXG5cbiAgICAgICAgdGhpcy5idXR0b24gPSBudWxsXG4gICAgICAgIHRoaXMuY29udGVudCA9IG51bGxcblxuICAgICAgICB0aGlzLnRvb2x0aXAgPSBudWxsXG4gICAgICAgIHRoaXMuYmFkZ2UgPSBudWxsXG5cbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhcHR1cmVzIGFuIGV2ZW50IHRvIGluZm9ybSBJbnRlcmFjdGlvbk1hcHBlciBhYm91dCBwcm9jZXNzZWQgZXZlbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtldmVudHxQSVhJLkludGVyYWN0aW9uRXZlbnR9IGV2ZW50IC0gVGhlIFBJWEkgZXZlbnQgdG8gY2FwdHVyZS5cbiAgICAgKi9cbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIEV2ZW50cy5jYXB0dXJlZEJ5KGV2ZW50LmRhdGEub3JpZ2luYWxFdmVudCwgdGhpcylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNoaWxkcmVuIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7QnV0dG9ufSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcblxuICAgICAgICAvLyBCdXR0b25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgYnV0dG9uID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICB0aGlzLmJ1dHRvbiA9IGJ1dHRvblxuICAgICAgICB0aGlzLmFkZENoaWxkKGJ1dHRvbilcblxuICAgICAgICAvLyBDb250ZW50XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IGNvbnRlbnQgPSBuZXcgUElYSS5Db250YWluZXIoKVxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBjb250ZW50XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoY29udGVudClcblxuICAgICAgICAvLyBUZXh0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5sYWJlbCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0ID0gbmV3IFBJWEkuVGV4dCh0aGlzLm9wdHMubGFiZWwsIHRoaXMub3B0cy50ZXh0U3R5bGUpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBJY29uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5pY29uKSB7XG4gICAgICAgICAgICB0aGlzLmljb25JbmFjdGl2ZSA9IHRoaXMubG9hZEljb24odGhpcy5vcHRzLmljb24sIHRoaXMub3B0cy5pY29uQ29sb3IpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vcHRzLmljb25BY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuaWNvbkFjdGl2ZSA9IHRoaXMubG9hZEljb24odGhpcy5vcHRzLmljb25BY3RpdmUsIHRoaXMub3B0cy5pY29uQ29sb3JBY3RpdmUpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYXB0dXJlKGUpXG4gICAgICAgICAgICBUd2Vlbk1heC50byhbdGhpcy5idXR0b24sIHRoaXMuY29udGVudF0sIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuODMsIG92ZXJ3cml0ZTogJ25vbmUnfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbigncG9pbnRlcm1vdmUnLCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZShlKVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYnV0dG9uLm9uKCdwb2ludGVyb3V0JywgZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNhcHR1cmUoZSlcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKFt0aGlzLmJ1dHRvbiwgdGhpcy5jb250ZW50XSwgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDEsIG92ZXJ3cml0ZTogJ25vbmUnfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCBlID0+IHtcbiAgICAgICAgICAgIC8vdGhpcy5jYXB0dXJlKGUpXG4gICAgICAgICAgICBUd2Vlbk1heC50byhbdGhpcy5idXR0b24sIHRoaXMuY29udGVudF0sIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuNywgb3ZlcndyaXRlOiAnbm9uZSd9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuYnV0dG9uLm9uKCdwb2ludGVydXAnLCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZShlKVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5iZWZvcmVBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMuYmVmb3JlQWN0aW9uLmNhbGwodGhpcywgZSwgdGhpcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMuYWN0aW9uLmNhbGwodGhpcywgZSwgdGhpcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVHdlZW5NYXgudG8oW3RoaXMuYnV0dG9uLCB0aGlzLmNvbnRlbnRdLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogLjgzLCBvdmVyd3JpdGU6ICdub25lJ30pXG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudHlwZSA9PT0gJ2NoZWNrYm94Jykge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gIXRoaXMuYWN0aXZlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYWZ0ZXJBY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMuYWZ0ZXJBY3Rpb24uY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGRpc2FibGVkXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMub3B0cy5kaXNhYmxlZFxuXG4gICAgICAgIC8vIGFjdGl2ZVxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuYWN0aXZlID0gdGhpcy5vcHRzLmFjdGl2ZSAgICAgIC8vIGNhbGxzIC5sYXlvdXQoKVxuXG4gICAgICAgIC8vIHRvb2x0aXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLnRvb2x0aXApIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRzLnRvb2x0aXAgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IFRvb2x0aXAoe29iamVjdDogdGhpcywgY29udGVudDogdGhpcy5vcHRzLnRvb2x0aXB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMudG9vbHRpcCA9IE9iamVjdC5hc3NpZ24oe30sIHtvYmplY3Q6IHRoaXN9LCB0aGlzLm9wdHMudG9vbHRpcClcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdHMudG9vbHRpcClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJhZGdlXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5iYWRnZSkge1xuICAgICAgICAgICAgbGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICAgICAgYWxpZ246ICdyaWdodCcsXG4gICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgICAgICAgICAgICAgb2Zmc2V0TGVmdDogMCxcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3A6IDBcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy5iYWRnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbihvcHRzLCB7Y29udGVudDogdGhpcy5vcHRzLmJhZGdlfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24ob3B0cywgdGhpcy5vcHRzLmJhZGdlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBiYWRnZSA9IG5ldyBCYWRnZShvcHRzKVxuXG4gICAgICAgICAgICBzd2l0Y2ggKG9wdHMuYWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2UueCA9IHRoaXMueCAtIGJhZGdlLndpZHRoIC8gMiArIG9wdHMub2Zmc2V0TGVmdFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NlbnRlcic6XG4gICAgICAgICAgICAgICAgICAgIGJhZGdlLnggPSB0aGlzLnggKyB0aGlzLndpZHRoIC8gMiAtIGJhZGdlLndpZHRoIC8gMiArIG9wdHMub2Zmc2V0TGVmdFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2UueCA9IHRoaXMueCArIHRoaXMud2lkdGggLSBiYWRnZS53aWR0aCAvIDIgKyBvcHRzLm9mZnNldExlZnRcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc3dpdGNoIChvcHRzLnZlcnRpY2FsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICBiYWRnZS55ID0gdGhpcy55IC0gYmFkZ2UuaGVpZ2h0IC8gMiArIG9wdHMub2Zmc2V0VG9wXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICAgICAgYmFkZ2UueSA9IHRoaXMueSArIHRoaXMuaGVpZ2h0IC8gMiAtIGJhZGdlLmhlaWdodCAvIDIgKyBvcHRzLm9mZnNldFRvcFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgICAgIGJhZGdlLnkgPSB0aGlzLnkgKyB0aGlzLmhlaWdodCAtIGJhZGdlLmhlaWdodCAvIDIgKyBvcHRzLm9mZnNldFRvcFxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGJhZGdlKVxuXG4gICAgICAgICAgICB0aGlzLmJhZGdlID0gYmFkZ2VcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCBwb3NpdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KHRoaXMub3B0cy54LCB0aGlzLm9wdHMueSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBidXR0b24uIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QnV0dG9ufSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG5cbiAgICAgICAgLy8gQ2xlYXIgY29udGVudFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGhpcy5jb250ZW50KVxuICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgUElYSS5Db250YWluZXIoKVxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuY29udGVudClcblxuICAgICAgICAvLyBTZXQgdGhlIGljb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgaWNvbiA9IG51bGxcblxuICAgICAgICBpZiAoIXRoaXMuYWN0aXZlICYmIHRoaXMuaWNvbkluYWN0aXZlKSB7XG4gICAgICAgICAgICBpY29uID0gdGhpcy5pY29uSW5hY3RpdmVcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFjdGl2ZSAmJiB0aGlzLmljb25BY3RpdmUpIHtcbiAgICAgICAgICAgIGljb24gPSB0aGlzLmljb25BY3RpdmVcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgdGV4dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dC5wb3NpdGlvbi5zZXQoMCwgMClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdpZHRoIGFuZCBIZWlnaHRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBsZXQgd2lkdGggPSAwXG4gICAgICAgIGlmIChpY29uICYmIHRoaXMudGV4dCkge1xuICAgICAgICAgICAgd2lkdGggPSBpY29uLndpZHRoICsgdGhpcy50ZXh0LndpZHRoICsgMyAqIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIH0gZWxzZSBpZiAoaWNvbikge1xuICAgICAgICAgICAgd2lkdGggPSBpY29uLndpZHRoICsgMiAqIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMudGV4dC53aWR0aCArIDIgKiB0aGlzLm9wdHMucGFkZGluZ1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHdpZHRoIDwgdGhpcy5vcHRzLm1pbldpZHRoKSB7XG4gICAgICAgICAgICB3aWR0aCA9IHRoaXMub3B0cy5taW5XaWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhlaWdodCA9IDBcbiAgICAgICAgaWYgKGljb24pIHtcbiAgICAgICAgICAgIGhlaWdodCA9IGljb24uaGVpZ2h0ICsgMiAqIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICBoZWlnaHQgPSB0aGlzLnRleHQuaGVpZ2h0ICsgMiAqIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGVpZ2h0IDwgdGhpcy5vcHRzLm1pbkhlaWdodCkge1xuICAgICAgICAgICAgaGVpZ2h0ID0gdGhpcy5vcHRzLm1pbkhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fd2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLl9oZWlnaHQgPSBoZWlnaHRcblxuICAgICAgICAvLyBQb3NpdGlvbiBpY29uIGFuZCB0ZXh0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKGljb24gJiYgdGhpcy50ZXh0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmljb25Qb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICAgIGljb24ueCA9IHRoaXMudGV4dC53aWR0aCArIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudGV4dC54ID0gaWNvbi53aWR0aCArIHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuYWRkQ2hpbGQoaWNvbiwgdGhpcy50ZXh0KVxuICAgICAgICB9IGVsc2UgaWYgKGljb24pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5hZGRDaGlsZChpY29uKVxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LmFkZENoaWxkKHRoaXMudGV4dClcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubGF5b3V0SW5uZXJDb250ZW50KClcbiAgICAgICAgdGhpcy5sYXlvdXRDb250ZW50KClcblxuICAgICAgICB0aGlzLmljb24gPSBpY29uXG5cbiAgICAgICAgLy8gZHJhd1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuZHJhdygpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBwb3NpdGlvbnMgb2YgdGhlIGNvbnRlbnQgY2hpbGRyZW4gKGljb24gYW5kL29yIHRleHQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCdXR0b259IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dElubmVyQ29udGVudCgpIHtcblxuICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNvbnRlbnQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5vcHRzLnZlcnRpY2FsQWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZC55ID0gMFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnkgPSB0aGlzLmNvbnRlbnQuaGVpZ2h0IC8gMiAtIGNoaWxkLmhlaWdodCAvIDJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgICAgICBjaGlsZC55ID0gdGhpcy5jb250ZW50LmhlaWdodCAtIGNoaWxkLmhlaWdodFxuICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBob3Jpem9udGFsIGFuZCB2ZXJ0aWNhbCBwb3NpdGlvbiBvZiB0aGUgY29udGVudC5cbiAgICAgKiBVc2VzIHRoZSBvcHRpb24ga2V5cyBcImFsaWduXCIgYW5kIFwidmVydGljYWxBbGlnblwiLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCdXR0b259IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dENvbnRlbnQoKSB7XG5cbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMuYWxpZ24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC54ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueCA9ICgodGhpcy5fd2lkdGggLSB0aGlzLmNvbnRlbnQud2lkdGgpIC8gMilcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC54ID0gdGhpcy5fd2lkdGggLSB0aGlzLm9wdHMucGFkZGluZyAtIHRoaXMuY29udGVudC53aWR0aFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC55ID0gdGhpcy5vcHRzLnBhZGRpbmdcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueSA9ICh0aGlzLl9oZWlnaHQgLSB0aGlzLmNvbnRlbnQuaGVpZ2h0KSAvIDJcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQueSA9IHRoaXMuX2hlaWdodCAtIHRoaXMub3B0cy5wYWRkaW5nIC0gdGhpcy5jb250ZW50LmhlaWdodFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjYW52YXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0J1dHRvbn0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICB0aGlzLmJ1dHRvbi5jbGVhcigpXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VBY3RpdmVXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZSwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsQWN0aXZlLCB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idXR0b24ubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsLCB0aGlzLm9wdHMuZmlsbEFscGhhKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnV0dG9uLmRyYXdSb3VuZGVkUmVjdCgwLCAwLCB0aGlzLl93aWR0aCwgdGhpcy5faGVpZ2h0LCB0aGlzLm9wdHMucmFkaXVzKVxuICAgICAgICB0aGlzLmJ1dHRvbi5lbmRGaWxsKClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgYWN0aXZlIHN0YXRlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgYWN0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWN0aXZlXG4gICAgfVxuICAgIHNldCBhY3RpdmUodmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB2YWx1ZVxuXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuc3R5bGUgPSB0aGlzLm9wdHMudGV4dFN0eWxlQWN0aXZlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LnN0eWxlID0gdGhpcy5vcHRzLnRleHRTdHlsZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZGlzYWJsZWQgc3RhdGUuIFdoZW4gZGlzYWJsZWQsIHRoZSBidXR0b24gY2Fubm90IGJlIGNsaWNrZWQuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBkaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkXG4gICAgfVxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWVcblxuICAgICAgICBpZiAodGhpcy5fZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmJ1dHRvbk1vZGUgPSBmYWxzZVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYWxwaGEgPSAuNVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5hbHBoYSA9IC41XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy50ZXh0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0LmFscGhhID0gLjVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5idXR0b24uYnV0dG9uTW9kZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFscGhhID0gMVxuICAgICAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbi5hbHBoYSA9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRleHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHQuYWxwaGEgPSAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgYnV0dG9uIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtCdXR0b259IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWN0aXZlQWxwaGEgPSAxXG5cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGJ1dHRvbiAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDApLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QnV0dG9ufSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBoaWRlKCkge1xuXG4gICAgICAgIHRoaXMub3B0cy5zdHJva2VBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZUFscGhhID0gMFxuICAgICAgICB0aGlzLm9wdHMuZmlsbEFscGhhID0gMFxuICAgICAgICB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhID0gMFxuXG4gICAgICAgIHRoaXMubGF5b3V0KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuIGljb25cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd8UElYSS5EaXNwbGF5T2JqZWN0fSBpY29uIC0gVGhlIGljb24gdG8gbG9hZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sb3IgLSBUaGUgY29sb3Igb2YgdGhlIGljb24gKGlmIG5vdCBhbiBQSVhJLkRpc3BsYXlPYmplY3QpLlxuICAgICAqIEByZXR1cm4ge1BJWEkuRGlzcGxheU9iamVjdH0gUmV0dXJuIHRoZSBpY29uIGFzIGFuIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKi9cbiAgICBsb2FkSWNvbihpY29uLCBjb2xvcikge1xuXG4gICAgICAgIGxldCBkaXNwbGF5T2JqZWN0ID0gbnVsbFxuXG4gICAgICAgIGlmIChpY29uIGluc3RhbmNlb2YgUElYSS5EaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0ID0gaWNvblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHNpemUgPSAxN1xuICAgICAgICAgICAgaWYgKHRoaXMudGV4dCkge1xuICAgICAgICAgICAgICAgIHNpemUgPSB0aGlzLnRleHQuaGVpZ2h0XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0cy5taW5IZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzaXplID0gdGhpcy5vcHRzLm1pbkhlaWdodCAtICgyICogdGhpcy5vcHRzLnBhZGRpbmcpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHVybCA9IEJ1dHRvbi5pY29uSXNVcmwoaWNvbikgPyBpY29uIDogYC4uLy4uL2Fzc2V0cy9pY29ucy9wbmcvZmxhdC8ke2ljb259LnBuZ2BcbiAgICAgICAgICAgIGNvbnN0IGljb25UZXh0dXJlID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZSh1cmwsIHRydWUpXG5cbiAgICAgICAgICAgIGNvbnN0IHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZShpY29uVGV4dHVyZSlcbiAgICAgICAgICAgIHNwcml0ZS50aW50ID0gY29sb3JcbiAgICAgICAgICAgIHNwcml0ZS53aWR0aCA9IHNpemVcbiAgICAgICAgICAgIHNwcml0ZS5oZWlnaHQgPSBzaXplXG5cbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QgPSBzcHJpdGVcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkaXNwbGF5T2JqZWN0XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGVzdHMgaWYgYW4gaWNvbiBzdHJpbmcgaXMgYW4gdXJsLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdGVzdC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIHRoZSB1cmwgaXMgYW4gdXJsIHRvIGFuIGltYWdlLlxuICAgICAqL1xuICAgIHN0YXRpYyBpY29uSXNVcmwodXJsKSB7XG4gICAgICAgIHJldHVybiAvXFwuKHBuZ3xzdmd8Z2lmfGpwZ3xqcGVnfHRpZnx0aWZmKSQvaS50ZXN0KHVybClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGNvbG9yIG9mIHRoZSBjdXJyZW50IGljb24gKG5vIG1hdHRlciBob3cgdGhlIHN0YXR1cyBpcykuIENoYW5naW5nIHRoZSBjb2xvciwgY2hhbmdlc1xuICAgICAqIHRoZSB0aW50IHByb3BlcnR5IG9mIHRoZSBpY29uIHNwcml0ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge251bWJlcn1cbiAgICAgKi9cbiAgICBnZXQgaWNvbkNvbG9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pY29uID8gdGhpcy5pY29uLnRpbnQgOiBudWxsXG4gICAgfVxuICAgIHNldCBpY29uQ29sb3IodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaWNvbikge1xuICAgICAgICAgICAgdGhpcy5pY29uLnRpbnQgPSB2YWx1ZVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFRoZW1lIGZyb20gJy4vdGhlbWUuanMnXG5pbXBvcnQgQnV0dG9uIGZyb20gJy4vYnV0dG9uLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBCdXR0b25Hcm91cC5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGdyb3VwXG4gKiBjb25zdCBidXR0b25Hcm91cCA9IG5ldyBCdXR0b25Hcm91cCh7XG4gKiAgICAgYnV0dG9uczogW1xuICogICAgICAgICB7bGFiZWw6ICdCdXR0b24gMScsIGFjdGlvbjogZXZlbnQgPT4gY29uc29sZS5sb2coZXZlbnQpfSxcbiAqICAgICAgICAge2xhYmVsOiAnQnV0dG9uIDInLCBhY3Rpb246IGV2ZW50ID0+IGNvbnNvbGUubG9nKGV2ZW50KX0sXG4gKiAgICAgICAgIHtsYWJlbDogJ0J1dHRvbiAzJywgYWN0aW9uOiBldmVudCA9PiBjb25zb2xlLmxvZyhldmVudCl9XG4gKiAgICAgXSxcbiAqICAgICBtaW5XaWR0aDogMTAwXG4gKiB9KVxuICpcbiAqIC8vIEFkZCB0aGUgYnV0dG9uIGdyb3VwIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKGJ1dHRvbkdyb3VwKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUElYSS5HcmFwaGljc1xuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkdyYXBoaWNzLmh0bWx8UElYSS5HcmFwaGljc31cbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS9idXR0b25ncm91cC5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJ1dHRvbkdyb3VwIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgQnV0dG9uR3JvdXAuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgYnV0dG9uIGdyb3VwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pZD1hdXRvIGdlbmVyYXRlZF0gLSBUaGUgaWQgb2YgdGhlIGJ1dHRvbiBncm91cC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueD0wXSAtIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBidXR0b24gZ3JvdXAuIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIGJ1dHRvbkdyb3VwLnggPSAwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy55PTBdIC0gVGhlIHkgcG9zaXRpb24gb2YgdGhlIGJ1dHRvbiBncm91cC4gQ2FuIGJlIGFsc28gc2V0IGFmdGVyIGNyZWF0aW9uIHdpdGggYnV0dG9uR3JvdXAueSA9IDAuXG4gICAgICogQHBhcmFtIHtvYmplY3RbXX0gW29wdHMuYnV0dG9ucz1bXV0gLSBBbiBhcnJheSBvZiB0aGUgYnV0dG9ucyBvZiB0aGUgYnV0dG9uIGdyb3VwLiBPbmUgaXRlbSBvZiB0aGUgYXJyYXkgKG9uZSBvYmplY3QpXG4gICAgICogICAgIGNhbiBoYXZlIGV4YWN0bHkgdGhlIHNhbWUgcHJvcGVydGllcyBhcyBhbiBCdXR0b24gb2JqZWN0IHdoZW4gaW5zdGFudGlhdGluZyBhIEJ1dHRvbi4gSWYgYSBwcm9wZXJ0eSBvZiB0aGUgYnV0dG9uIGdyb3VwXG4gICAgICogICAgIGNvbmZsaWN0cyB3aXRoIGEgcHJvcGVydHkgb2YgYSBidXR0b24gb2JqZWN0LCB0aGUgdmFsdWUgZnJvbSB0aGUgYnV0dG9uIG9iamVjdCB3aWxsIGJlIHVzZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8VGhlbWU9fSBbb3B0cy50aGVtZT1kYXJrXSAtIFRoZSB0aGVtZSB0byB1c2UgZm9yIHRoaXMgYnV0dG9uIGdyb3VwLiBQb3NzaWJsZSB2YWx1ZXMgYXJlIGRhcmssIGxpZ2h0LCByZWRcbiAgICAgKiAgICAgb3IgYSBUaGVtZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTQ0XSAtIEJ1dHRvbjogVGhlIG1pbmltdW0gd2lkdGggb2Ygb25lIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluSGVpZ2h0PTQ0XSAtIEJ1dHRvbjogVGhlIG1pbmltdW0gaGVpZ2h0IG9mIG9uZSBidXR0b24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnBhZGRpbmc9VGhlbWUucGFkZGluZ10gLSBCdXR0b246IFRoZSBpbm5lciBzcGFjaW5nIChkaXN0YW5jZSBmcm9tIGljb24gYW5kL29yIGxhYmVsKSB0aGUgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWFyZ2luPVRoZW1lLm1hcmdpbl0gLSBUaGUgb3V0ZXIgc3BhY2luZyAoZGlzdGFuY2UgZnJvbSBvbmUgYnV0dG9uIHRvIHRoZSBwcmV2aW91cy9uZXh0IGJ1dHRvbikuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLmljb25Qb3NpdGlvbj1sZWZ0XSAtIEJ1dHRvbjogVGhlIHBvc2l0aW9uIG9mIHRoZSBpY29uIGluIHJlbGF0aW9uIHRvIHRoZSBsYWJlbC4gQ2FuIGJlIGxlZnQgb3IgcmlnaHQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmljb25Db2xvcj1UaGVtZS5pY29uQ29sb3JdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGljb24gKHNldCBieSB0aGUgdGludCBwcm9wZXJ0eSkgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmljb25Db2xvckFjdGl2ZT1UaGVtZS5pY29uQ29sb3JBY3RpdmVdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGljb24gd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGw9VGhlbWUuZmlsbF0gLSBCdXR0b246IFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uIGJhY2tncm91bmQgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBbHBoYT1UaGVtZS5maWxsQWxwaGFdIC0gQnV0dG9uOiBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmU9VGhlbWUuZmlsbEFjdGl2ZV0gLSBCdXR0b246IFRoZSBjb2xvciBvZiB0aGUgYnV0dG9uIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmVBbHBoYT1UaGVtZS5maWxsQWN0aXZlQWxwaGFdIC0gQnV0dG9uOiBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZT1UaGVtZS5zdHJva2VdIC0gQnV0dG9uOiBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlV2lkdGg9VGhlbWUuc3Ryb2tlV2lkdGhdIC0gQnV0dG9uOiBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gQnV0dG9uOiBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWN0aXZlPVRoZW1lLnN0cm9rZUFjdGl2ZV0gLSBCdXR0b246IFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVXaWR0aD1UaGVtZS5zdHJva2VBY3RpdmVXaWR0aF0gLSBCdXR0b246IFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVBbHBoYT1UaGVtZS5zdHJva2VBY3RpdmVBbHBoYV0gLSBCdXR0b246IFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cy50ZXh0U3R5bGU9VGhlbWUudGV4dFN0eWxlXSAtIEJ1dHRvbjogQSB0ZXh0c3R5bGUgb2JqZWN0IGZvciB0aGUgc3R5bGluZyBvZiB0aGUgbGFiZWwuIFNlZSBQSVhJLlRleHRTdHlsZVxuICAgICAqICAgICBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMudGV4dFN0eWxlQWN0aXZlPVRoZW1lLnRleHRTdHlsZUFjdGl2ZV0gLSBCdXR0b246IEEgdGV4dHN0eWxlIG9iamVjdCBmb3IgdGhlIHN0eWxpbmcgb2YgdGhlIGxhYmVsIHdoZW4gdGhlXG4gICAgICogICAgIGJ1dHRvbiBpcyBhY3RpdmF0ZWQuIFNlZSBQSVhJLlRleHRTdHlsZSBmb3IgcG9zc2libGUgb3B0aW9ucy5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuc3R5bGU9ZGVmYXVsdF0gLSBBIHNob3J0Y3V0IGZvciBzdHlsaW5nIG9wdGlvbnMuIFBvc3NpYmxlIHZhbHVlcyBhcmUgZGVmYXVsdCwgbGluay5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMucmFkaXVzPVRoZW1lLnJhZGl1c10gLSBCdXR0b246IFRoZSByYWRpdXMgb2YgdGhlIGZvdXIgY29ybmVycyBvZiB0aGUgYnV0dG9uICh3aGljaCBpcyBhIHJvdW5kZWQgcmVjdGFuZ2xlKS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRpc2FibGVkPWZhbHNlXSAtIElzIHRoZSBidXR0b24gZ3JvdXAgZGlzYWJsZWQ/IFdoZW4gZGlzYWJsZWQsIHRoZSBidXR0b24gZ3JvdXAgaGFzIGEgbG93ZXIgYWxwaGEgdmFsdWVcbiAgICAgKiAgICAgYW5kIGNhbm5vdCBiZSBjbGlja2VkIChpbnRlcmFjdGl2ZSBvZiBldmVyeSBidXR0b24gaXMgc2V0IHRvIGZhbHNlKS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMudHlwZT1kZWZhdWx0XSAtIFRoZSB0eXBlIG9mIHRoZSBidXR0b24gZ3JvdXAuIENhbiBiZSBkZWZhdWx0LCBjaGVja2JveCBvciByYWRpby4gV2hlbiB0aGUgdHlwZSBpc1xuICAgICAqICAgICBjaGVja2JveCwgdGhlIGFjdGl2ZSBzdGF0ZSBpcyB0b2dnbGVkIGZvciBlYWNoIGJ1dHRvbiBhdXRvbWF0aWNhbGx5LiBXaGVuIHRoZSB0eXBlIGlzIHJhZGlvLCBvbmx5IG9uZSBidXR0b24gY2FuXG4gICAgICogICAgIGJlIGFjdGl2YXRlZCBhdCB0aGUgc2FtZSB0aW1lLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5vcmllbnRhdGlvbj1ob3Jpem9udGFsXSAtIFRoZSBvcmllbnRhdGlvbiBvZiB0aGUgYnV0dG9uIGdyb3VwLiBDYW4gYmUgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdHMuYWxpZ249Y2VudGVyXSAtIEJ1dHRvbjogVGhlIGhvcml6b250YWwgcG9zaXRpb24gb2YgdGhlIGxhYmVsIGFuZCB0aGUgaWNvbi4gUG9zc2libGUgdmFsdWVzIGFyZVxuICAgICAqICAgICBsZWZ0LCBjZW50ZXIgYW5kIHJpZ2h0LiBPbmx5IGFmZmVjdHMgdGhlIHN0eWxlIHdoZW4gdGhlIG1pbldpZHRoIGlzIGJpZ2dlciB0aGFuIHRoZSB3aWR0aCBvZiB0aGUgaWNvbiBhbmQgbGFiZWwuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRzLnZlcnRpY2FsQWxpZ249bWlkZGxlXSAtIEJ1dHRvbjogVGhlIHZlcnRpY2FsIHBvc2l0aW9uIG9mIHRoZSBsYWJlbCBhbmQgdGhlIGljb24uIFBvc3NpYmxlIHZhbHVlcyBhcmVcbiAgICAgKiAgICAgdG9wLCBtaWRkbGUgYW5kIGJ1dHRvbi4gT25seSBhZmZlY3RzIHRoZSBzdHlsZSB3aGVuIHRoZSBtaW5IZWlnaHQgaXMgYmlnZ2VyIHRoYW4gdGhlIGhlaWdodCBvZiB0aGUgaWNvbiBhbmQgbGFiZWwuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy52aXNpYmxlPXRydWVdIC0gSXMgdGhlIGJ1dHRvbiBncm91cCBpbml0aWFsbHkgdmlzaWJsZSAocHJvcGVydHkgdmlzaWJsZSk/XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICBidXR0b25zOiBbXSxcbiAgICAgICAgICAgIG1pbldpZHRoOiA0NCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogNDQsXG4gICAgICAgICAgICBwYWRkaW5nOiB0aGVtZS5wYWRkaW5nLFxuICAgICAgICAgICAgbWFyZ2luOiB0aGVtZS5tYXJnaW4sXG4gICAgICAgICAgICBpY29uUG9zaXRpb246ICdsZWZ0JywgICAgICAgICAgICAgLy8gbGVmdCwgcmlnaHRcbiAgICAgICAgICAgIGljb25Db2xvcjogdGhlbWUuaWNvbkNvbG9yLFxuICAgICAgICAgICAgaWNvbkNvbG9yQWN0aXZlOiB0aGVtZS5pY29uQ29sb3JBY3RpdmUsXG4gICAgICAgICAgICBmaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgZmlsbEFscGhhOiB0aGVtZS5maWxsQWxwaGEsXG4gICAgICAgICAgICBmaWxsQWN0aXZlOiB0aGVtZS5maWxsQWN0aXZlLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZUFscGhhOiB0aGVtZS5maWxsQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZTogdGhlbWUuc3Ryb2tlQWN0aXZlLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlV2lkdGg6IHRoZW1lLnN0cm9rZUFjdGl2ZVdpZHRoLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlQWxwaGE6IHRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB0aGVtZS50ZXh0U3R5bGUsXG4gICAgICAgICAgICB0ZXh0U3R5bGVBY3RpdmU6IHRoZW1lLnRleHRTdHlsZUFjdGl2ZSxcbiAgICAgICAgICAgIHN0eWxlOiAnZGVmYXVsdCcsXG4gICAgICAgICAgICByYWRpdXM6IHRoZW1lLnJhZGl1cyxcbiAgICAgICAgICAgIGRpc2FibGVkOiBudWxsLFxuICAgICAgICAgICAgdHlwZTogJ2RlZmF1bHQnLCAgICAgICAgICAgICAgICAgICAvLyBkZWZhdWx0LCBjaGVja2JveCwgcmFkaW9cbiAgICAgICAgICAgIG9yaWVudGF0aW9uOiAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICBhbGlnbjogJ2NlbnRlcicsICAgICAgICAgICAgICAgICAgIC8vIGxlZnQsIGNlbnRlciwgcmlnaHRcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdtaWRkbGUnLCAgICAgICAgICAgLy8gdG9wLCBtaWRkbGUsIGJvdHRvbVxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHRoaXMuYnV0dG9ucyA9IFtdXG5cbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBudWxsXG4gICAgICAgIFxuICAgICAgICB0aGlzLnZpc2libGUgPSB0aGlzLm9wdHMudmlzaWJsZVxuXG4gICAgICAgIC8vIHNldHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXR1cCgpXG5cbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNoaWxkcmVuIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0J1dHRvbkdyb3VwfSBBIHJlZmVyZW5jZSB0byB0aGUgYnV0dG9uIGdyb3VwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcblxuICAgICAgICAvLyBCdXR0b25zXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IHBvc2l0aW9uID0gMFxuXG4gICAgICAgIGZvciAobGV0IGl0IG9mIHRoaXMub3B0cy5idXR0b25zKSB7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBpdC54XG4gICAgICAgICAgICBkZWxldGUgaXQueVxuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcpIHtcbiAgICAgICAgICAgICAgICBpdC54ID0gcG9zaXRpb25cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXQueSA9IHBvc2l0aW9uXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGl0LnRoZW1lID0gaXQudGhlbWUgfHwgdGhpcy5vcHRzLnRoZW1lXG4gICAgICAgICAgICBpdC5taW5XaWR0aCA9IGl0Lm1pbldpZHRoIHx8IHRoaXMub3B0cy5taW5XaWR0aFxuICAgICAgICAgICAgaXQubWluSGVpZ2h0ID0gaXQubWluSGVpZ2h0IHx8IHRoaXMub3B0cy5taW5IZWlnaHRcbiAgICAgICAgICAgIGl0LnBhZGRpbmcgPSBpdC5wYWRkaW5nIHx8IHRoaXMub3B0cy5wYWRkaW5nXG4gICAgICAgICAgICBpdC5pY29uUG9zaXRpb24gPSBpdC5pY29uUG9zaXRpb24gfHwgdGhpcy5vcHRzLmljb25Qb3NpdGlvblxuICAgICAgICAgICAgaXQuaWNvbkNvbG9yID0gaXQuaWNvbkNvbG9yIHx8IHRoaXMub3B0cy5pY29uQ29sb3JcbiAgICAgICAgICAgIGl0Lmljb25Db2xvckFjdGl2ZSA9IGl0Lmljb25Db2xvckFjdGl2ZSB8fCB0aGlzLm9wdHMuaWNvbkNvbG9yQWN0aXZlXG4gICAgICAgICAgICBpdC5maWxsID0gaXQuZmlsbCB8fCB0aGlzLm9wdHMuZmlsbFxuICAgICAgICAgICAgaXQuZmlsbEFscGhhID0gaXQuZmlsbEFscGhhIHx8IHRoaXMub3B0cy5maWxsQWxwaGFcbiAgICAgICAgICAgIGl0LmZpbGxBY3RpdmUgPSBpdC5maWxsQWN0aXZlIHx8IHRoaXMub3B0cy5maWxsQWN0aXZlXG4gICAgICAgICAgICBpdC5maWxsQWN0aXZlQWxwaGEgPSBpdC5maWxsQWN0aXZlQWxwaGEgfHwgdGhpcy5vcHRzLmZpbGxBY3RpdmVBbHBoYVxuICAgICAgICAgICAgaXQuc3Ryb2tlID0gaXQuc3Ryb2tlIHx8IHRoaXMub3B0cy5zdHJva2VcbiAgICAgICAgICAgIGl0LnN0cm9rZVdpZHRoID0gaXQuc3Ryb2tlV2lkdGggIT0gbnVsbCA/IGl0LnN0cm9rZVdpZHRoIDogdGhpcy5vcHRzLnN0cm9rZVdpZHRoXG4gICAgICAgICAgICBpdC5zdHJva2VBbHBoYSA9IGl0LnN0cm9rZUFscGhhICE9IG51bGwgPyBpdC5zdHJva2VBbHBoYSA6IHRoaXMub3B0cy5zdHJva2VBbHBoYVxuICAgICAgICAgICAgaXQuc3Ryb2tlQWN0aXZlID0gaXQuc3Ryb2tlQWN0aXZlIHx8IHRoaXMub3B0cy5zdHJva2VBY3RpdmVcbiAgICAgICAgICAgIGl0LnN0cm9rZUFjdGl2ZVdpZHRoID0gaXQuc3Ryb2tlQWN0aXZlV2lkdGggIT0gbnVsbCA/IGl0LnN0cm9rZUFjdGl2ZVdpZHRoIDogdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZVdpZHRoXG4gICAgICAgICAgICBpdC5zdHJva2VBY3RpdmVBbHBoYSA9IGl0LnN0cm9rZUFjdGl2ZUFscGhhICE9IG51bGwgPyBpdC5zdHJva2VBY3RpdmVBbHBoYSA6IHRoaXMub3B0cy5zdHJva2VBY3RpdmVBbHBoYVxuICAgICAgICAgICAgaXQudGV4dFN0eWxlID0gaXQudGV4dFN0eWxlIHx8IHRoaXMub3B0cy50ZXh0U3R5bGVcbiAgICAgICAgICAgIGl0LnRleHRTdHlsZUFjdGl2ZSA9IGl0LnRleHRTdHlsZUFjdGl2ZSB8fCB0aGlzLm9wdHMudGV4dFN0eWxlQWN0aXZlXG4gICAgICAgICAgICBpdC5zdHlsZSA9IGl0LnN0eWxlIHx8IHRoaXMub3B0cy5zdHlsZVxuICAgICAgICAgICAgaXQucmFkaXVzID0gaXQucmFkaXVzICE9IG51bGwgPyBpdC5yYWRpdXMgOiB0aGlzLm9wdHMucmFkaXVzXG4gICAgICAgICAgICBpZiAoIWl0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NoZWNrYm94JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LnR5cGUgPSB0aGlzLm9wdHMudHlwZVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0LnR5cGUgPSAnZGVmYXVsdCdcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy9pdC50eXBlID0gaXQudHlwZSB8fCB0aGlzLm9wdHMudHlwZSB8fCAnZGVmYXVsdCdcbiAgICAgICAgICAgIGl0LmFsaWduID0gaXQuYWxpZ24gfHwgdGhpcy5vcHRzLmFsaWduXG4gICAgICAgICAgICBpdC52ZXJ0aWNhbEFsaWduID0gaXQudmVydGljYWxBbGlnbiB8fCB0aGlzLm9wdHMudmVydGljYWxBbGlnblxuICAgICAgICAgICAgaXQuYWZ0ZXJBY3Rpb24gPSAoZXZlbnQsIGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudHlwZSA9PT0gJ3JhZGlvJyAmJiBidXR0b24ub3B0cy50eXBlID09PSAnZGVmYXVsdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goaXQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0Lm9wdHMudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXQuYWN0aXZlID0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLm9wdHMudHlwZSA9PT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXQudG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXQudG9vbHRpcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgaXQudG9vbHRpcCA9IHtjb250ZW50OiBpdC50b29sdGlwLCBjb250YWluZXI6IHRoaXN9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaXQudG9vbHRpcCA9IE9iamVjdC5hc3NpZ24oe30sIHtjb250YWluZXI6IHRoaXN9LCBpdC50b29sdGlwKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IG5ldyBCdXR0b24oaXQpXG5cbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQoYnV0dG9uKVxuICAgICAgICAgICAgdGhpcy5idXR0b25zLnB1c2goYnV0dG9uKVxuXG4gICAgICAgICAgICBwb3NpdGlvbiArPSAodGhpcy5vcHRzLm9yaWVudGF0aW9uID09PSAnaG9yaXpvbnRhbCcgPyBidXR0b24ud2lkdGggOiBidXR0b24uaGVpZ2h0KSArIHRoaXMub3B0cy5tYXJnaW5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMub3JpZW50YXRpb24gPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heFdpZHRoID0gdGhpcy5nZXRNYXhCdXR0b25XaWR0aCgpXG5cbiAgICAgICAgICAgIHRoaXMuYnV0dG9ucy5mb3JFYWNoKGl0ID0+IHtcbiAgICAgICAgICAgICAgICBpdC5vcHRzLm1pbldpZHRoID0gbWF4V2lkdGhcbiAgICAgICAgICAgICAgICBpdC5sYXlvdXQoKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc2FibGVkXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5kaXNhYmxlZCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5vcHRzLmRpc2FibGVkXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgYnV0dG9uIGdyb3VwLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtCdXR0b25Hcm91cH0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBncm91cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuICAgICAgICBcbiAgICAgICAgLy8gc2V0IHBvc2l0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQodGhpcy5vcHRzLngsIHRoaXMub3B0cy55KVxuXG4gICAgICAgIC8vIGRyYXdcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmRyYXcoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBjYW52YXMuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtCdXR0b25Hcm91cH0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBncm91cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICBpZiAodGhpcy5vcHRzLm1hcmdpbiA9PT0gMCkge1xuXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChpdCA9PiBpdC5oaWRlKCkpXG5cbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKVxuICAgICAgICAgICAgdGhpcy5saW5lU3R5bGUodGhpcy5vcHRzLnN0cm9rZVdpZHRoLCB0aGlzLm9wdHMuc3Ryb2tlLCB0aGlzLm9wdHMuc3Ryb2tlQWxwaGEpXG4gICAgICAgICAgICB0aGlzLmJlZ2luRmlsbCh0aGlzLm9wdHMuZmlsbCwgdGhpcy5vcHRzLmZpbGxBbHBoYSlcbiAgICAgICAgICAgIHRoaXMuZHJhd1JvdW5kZWRSZWN0KDAsIDAsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLm9wdHMucmFkaXVzKVxuXG4gICAgICAgICAgICAvLyBEcmF3IGJvcmRlcnNcbiAgICAgICAgICAgIHRoaXMubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhIC8gMilcblxuICAgICAgICAgICAgdGhpcy5idXR0b25zLmZvckVhY2goKGl0LCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvKGl0LngsIGl0LnkpXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vcmllbnRhdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyhpdC54LCBpdC5oZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyhpdC53aWR0aCwgaXQueSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLmVuZEZpbGwoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBkaXNhYmxlZCBzdGF0ZS4gV2hlbiBkaXNhYmxlZCwgbm8gYnV0dG9uIG9mIHRoZSBidXR0b24gZ3JvdXAgY2FuIGJlIGNsaWNrZWQuXG4gICAgICogXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZGlzYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kaXNhYmxlZFxuICAgIH1cblxuICAgIHNldCBkaXNhYmxlZCh2YWx1ZSkge1xuXG4gICAgICAgIHRoaXMuX2Rpc2FibGVkID0gdmFsdWVcblxuICAgICAgICB0aGlzLmJ1dHRvbnMuZm9yRWFjaChpdCA9PiBpdC5kaXNhYmxlZCA9IHZhbHVlKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBhbGwgYnV0dG9ucyBvZiB0aGUgYnV0dG9uIGdyb3VwIGFuZCByZXR1cm5zIHRoZSBtYXhpbXVtIHdpZHRoIG9mIG9uZSBidXR0b24uXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYXhpbXVtIHdpdGggb2YgYSBidXR0b24gb2YgdGhlIGJ1dHRvbiBncm91cC5cbiAgICAgKi9cbiAgICBnZXRNYXhCdXR0b25XaWR0aCgpIHtcblxuICAgICAgICBsZXQgd2lkdGhzID0gdGhpcy5idXR0b25zLm1hcChpdCA9PiBpdC53aWR0aClcblxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoLi4ud2lkdGhzKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgYnV0dG9uIGdyb3VwIChzZXRzIGhpcyBhbHBoYSB2YWx1ZSB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtCdXR0b25Hcm91cH0gQSByZWZlcmVuY2UgdG8gdGhlIGJ1dHRvbiBncm91cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2hvdygpIHtcblxuICAgICAgICB0aGlzLmFscGhhID0gMVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIGJ1dHRvbiBncm91cCAoc2V0cyBoaXMgYWxwaGEgdmFsdWUgdG8gMCkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7QnV0dG9uR3JvdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBidXR0b24gZ3JvdXAgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGhpZGUoKSB7XG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDBcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBBYnN0cmFjdFBvcHVwIGZyb20gJy4vYWJzdHJhY3Rwb3B1cC5qcydcbmltcG9ydCBCdXR0b24gZnJvbSAnLi9idXR0b24uanMnXG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnLi9idXR0b25ncm91cC5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgSW50ZXJhY3RpdmVQb3B1cC5cbiAqIFRoZSBjbGFzcyBpcyB1c2VkIGZvciB2YXJpb3VzIG90aGVyIFBvcHVwLWxpa2UgY2xhc3Nlc1xuICogbGlrZSBQb3B1cCwgTWVzc2FnZS4uLlxuICpcbiAqIEBjbGFzc1xuICogQGFic3RyYWN0XG4gKiBAZXh0ZW5kcyBBYnN0cmFjdFBvcHVwXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnRlcmFjdGl2ZVBvcHVwIGV4dGVuZHMgQWJzdHJhY3RQb3B1cCB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGFuIEludGVyYWN0aXZlUG9wdXAgKG9ubHkgZm9yIGludGVybmFsIHVzZSkuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBwb3B1cC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmNsb3NlT25Qb3B1cD1mYWxzZV0gLSBTaG91bGQgdGhlIHBvcHVwIGJlIGNsb3NlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgcG9wdXA/XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZUJ1dHRvbj10cnVlXSAtIFNob3VsZCBhIGNsb3NlIGJ1dHRvbiBiZSBkaXNwbGF5ZWQgb24gdGhlIHVwcGVyIHJpZ2h0IGNvcm5lcj9cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMuYnV0dG9uXSAtIEEgQnV0dG9uIG9iamVjdCB0byBiZSBkaXNwbGF5IG9uIHRoZSBsb3dlciByaWdodCBjb3JuZXIuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLmJ1dHRvbkdyb3VwXSAtIEEgQnV0dG9uR3JvdXAgb2JqZWN0IHRvIGJlIGRpc3BsYXllZCBvbiB0aGUgbG93ZXIgcmlnaHQgY29ybmVyLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBjbG9zZU9uUG9wdXA6IGZhbHNlLFxuICAgICAgICAgICAgY2xvc2VCdXR0b246IHRydWUsXG4gICAgICAgICAgICBidXR0b246IG51bGwsXG4gICAgICAgICAgICBidXR0b25Hcm91cDogbnVsbFxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHN1cGVyKG9wdHMpXG5cbiAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24gPSBudWxsXG4gICAgICAgIHRoaXMuX2J1dHRvbnMgPSBudWxsXG5cbiAgICAgICAgLy8gcGFkZGluZ1xuICAgICAgICB0aGlzLnNtYWxsUGFkZGluZyA9IHRoaXMub3B0cy5wYWRkaW5nIC8gMlxuXG4gICAgICAgIC8vIHNldHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXR1cCgpXG5cbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgdGhlIGZyYW1ld29yayBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge0Fic3RyYWN0UG9wdXB9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgc3VwZXIuc2V0dXAoKVxuXG4gICAgICAgIC8vIGludGVyYWN0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5vbigncG9pbnRlcnVwJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmNsb3NlT25Qb3B1cCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBjbG9zZUJ1dHRvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMuY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIGxldCBjbG9zZUJ1dHRvbiA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnLi4vLi4vYXNzZXRzL2ljb25zL3BuZy9mbGF0L2Nsb3NlLnBuZycsIHRydWUpXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbi53aWR0aCA9IHRoaXMuaGVhZGVyU3R5bGUuZm9udFNpemVcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLmhlaWdodCA9IGNsb3NlQnV0dG9uLndpZHRoXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbi50aW50ID0gdGhpcy50aGVtZS5jb2xvcjJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgbmVlZGVkLCBiZWNhdXNlIHRoZSBjbG9zZUJ1dHRvbiBiZWxvbmdzIHRvIHRoZSBjb250ZW50LiBUaGUgcG9wdXAgbXVzdCByZXNpemUgd2l0aCB0aGUgY2xvc2VCdXR0b24uXG4gICAgICAgICAgICBpZiAodGhpcy5faGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgY2xvc2VCdXR0b24ueCA9IHRoaXMuX2hlYWRlci53aWR0aCArIHRoaXMuaW5uZXJQYWRkaW5nXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBjbG9zZUJ1dHRvbi54ID0gdGhpcy5fY29udGVudC53aWR0aCArIHRoaXMuaW5uZXJQYWRkaW5nXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICAgICAgY2xvc2VCdXR0b24uYnV0dG9uTW9kZSA9IHRydWVcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLm9uKCdwb2ludGVyZG93bicsIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IGNsb3NlQnV0dG9uXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKGNsb3NlQnV0dG9uKVxuXG4gICAgICAgICAgICAvLyBtYXhXaWR0aCBpcyBzZXQgYW5kIGEgY2xvc2VCdXR0b24gc2hvdWxkIGJlIGRpc3BsYXllZFxuICAgICAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5tYXhXaWR0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdvcmRXcmFwV2lkdGggPSB0aGlzLm9wdHMubWF4V2lkdGggLSAoMiAqIHRoaXMub3B0cy5wYWRkaW5nKSAtIHRoaXMuc21hbGxQYWRkaW5nIC0gdGhpcy5fY2xvc2VCdXR0b24ud2lkdGhcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGVhZGVyU3R5bGUud29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGhcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0U3R5bGUud29yZFdyYXBXaWR0aCA9IHdvcmRXcmFwV2lkdGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBidXR0b25zXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5idXR0b24gfHwgdGhpcy5vcHRzLmJ1dHRvbkdyb3VwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmJ1dHRvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMgPSBuZXcgQnV0dG9uKE9iamVjdC5hc3NpZ24oe3RleHRTdHlsZTogdGhpcy50aGVtZS50ZXh0U3R5bGVTbWFsbH0sIHRoaXMub3B0cy5idXR0b24pKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9idXR0b25zID0gbmV3IEJ1dHRvbkdyb3VwKE9iamVjdC5hc3NpZ24oe3RleHRTdHlsZTogdGhpcy50aGVtZS50ZXh0U3R5bGVTbWFsbH0sIHRoaXMub3B0cy5idXR0b25Hcm91cCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2J1dHRvbnMpXG5cbiAgICAgICAgICAgIHRoaXMuX2J1dHRvbnMueSA9IHRoaXMuaW5uZXJQYWRkaW5nICsgdGhpcy5zeVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgcG9wdXAuIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqXG4gICAgICogQHJldHVybiB7QWJzdHJhY3RQb3B1cH0gQSByZWZlcmVuY2UgdG8gdGhlIHBvcHVwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG5cbiAgICAgICAgc3VwZXIubGF5b3V0KClcbiAgICAgICAgXG4gICAgICAgIC8vIGNsb3NlQnV0dG9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgdGhpcy5fY2xvc2VCdXR0b24ueCA9IHRoaXMud2FudGVkV2lkdGggLSB0aGlzLnNtYWxsUGFkZGluZyAtIHRoaXMuX2Nsb3NlQnV0dG9uLndpZHRoXG4gICAgICAgICAgICB0aGlzLl9jbG9zZUJ1dHRvbi55ID0gdGhpcy5zbWFsbFBhZGRpbmdcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1dHRvbnNcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5fYnV0dG9ucykge1xuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucy54ID0gdGhpcy53YW50ZWRXaWR0aCAtIHRoaXMub3B0cy5wYWRkaW5nIC0gdGhpcy5fYnV0dG9ucy53aWR0aFxuICAgICAgICAgICAgdGhpcy5fYnV0dG9ucy55ID0gdGhpcy53YW50ZWRIZWlnaHQgLSB0aGlzLm9wdHMucGFkZGluZyAtIHRoaXMuX2J1dHRvbnMuaGVpZ2h0XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHNpemUgb2YgdGhlIGNoaWxkcmVuIG9mIHRoZSBBYnN0cmFjdFBvcHVwLlxuICAgICAqIENhbm5vdCB1c2UgZ2V0Qm91bmRzKCkgYmVjYXVzZSBpdCBpcyBub3QgdXBkYXRlZCB3aGVuIGNoaWxkcmVuXG4gICAgICogYXJlIHJlbW92ZWQuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBKYXZhU2NyaXB0IG9iamVjdCB3aWR0aCB0aGUga2V5cyB3aWR0aCBhbmQgaGVpZ2h0LlxuICAgICAqL1xuICAgIGdldElubmVyU2l6ZSgpIHtcblxuICAgICAgICBsZXQgc2l6ZSA9IHN1cGVyLmdldElubmVyU2l6ZSgpXG5cbiAgICAgICAgaWYgKHRoaXMuX2Nsb3NlQnV0dG9uKSB7XG4gICAgICAgICAgICBzaXplLndpZHRoICs9IHRoaXMuc21hbGxQYWRkaW5nICsgdGhpcy5fY2xvc2VCdXR0b24ud2lkdGhcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9idXR0b25zKSB7XG4gICAgICAgICAgICBzaXplLndpZHRoID0gTWF0aC5tYXgoc2l6ZS53aWR0aCwgdGhpcy5fYnV0dG9ucy54ICsgdGhpcy5fYnV0dG9ucy53aWR0aClcbiAgICAgICAgICAgIHNpemUuaGVpZ2h0ICs9IHRoaXMuaW5uZXJQYWRkaW5nICsgdGhpcy5fYnV0dG9ucy5oZWlnaHRcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaXplXG4gICAgfVxufVxuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBQb3B1cC5cbiAqXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBwb3B1cFxuICogY29uc3QgcG9wdXAgPSBuZXcgUG9wdXAoe1xuICogICAgIGhlYWRlcjogJ0dvZXRoZScsXG4gKiAgICAgY29udGVudDogJ01hbiBrYW5uIGRpZSBFcmZhaHJ1bmcgbmljaHQgZnLDvGggZ2VudWcgbWFjaGVuLCB3aWUgZW50YmVocmxpY2ggbWFuIGluIGRlciBXZWx0IGlzdC4nXG4gKiB9KVxuICpcbiAqIC8vIEFkZCB0aGUgcG9wdXAgdG8gYSBEaXNwbGF5T2JqZWN0XG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQocG9wdXApXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBJbnRlcmFjdGl2ZVBvcHVwXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvcG9wdXAuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCBleHRlbmRzIEludGVyYWN0aXZlUG9wdXAge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFBvcHVwLlxuICAgICAqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgcG9wdXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZUJ1dHRvbj1mYWxzZV0gLSBTaG91bGQgYSBjbG9zZSBidXR0b24gYmUgZGlzcGxheWVkIG9uIHRoZSB1cHBlciByaWdodCBjb3JuZXI/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbldpZHRoPTBdIC0gVGhlIG1pbmltdW0gd2lkdGggb2YgdGhlIHBvcHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5taW5IZWlnaHQ9MF0gLSBUaGUgbWluaW11bSBoZWlnaHQgb2YgdGhlIHBvcHVwLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuXG4gICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICBtaW5XaWR0aDogMCxcbiAgICAgICAgICAgIG1pbkhlaWdodDogMFxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHN1cGVyKG9wdHMpXG4gICAgfVxufVxuIiwiaW1wb3J0IFRoZW1lIGZyb20gJy4vdGhlbWUuanMnXG5pbXBvcnQge0ludGVyYWN0aXZlUG9wdXB9IGZyb20gJy4vcG9wdXAuanMnXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIE1vZGFsLlxuICogXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBidXR0b24gYW5kIHRoZSBtb2RhbCB3aGVuIGNsaWNrZWRcbiAqIGNvbnN0IGJ1dHRvbiA9IG5ldyBCdXR0b24oe1xuICogICAgIGxhYmVsOiAnU2hvdyBNb2RhbCcsXG4gKiAgICAgYWN0aW9uOiBlID0+IHtcbiAqICAgICAgICAgY29uc3QgbW9kYWwgPSBuZXcgTW9kYWwoe1xuICogICAgICAgICAgICAgYXBwOiBhcHAsXG4gKiAgICAgICAgICAgICBoZWFkZXI6ICdUaGlzIGlzIHRoZSBoZWFkZXInLFxuICogICAgICAgICAgICAgY29udGVudDogJ1RoaXMgaXMgdGhlIHRleHQuJ1xuICogICAgICAgICB9KVxuICogICAgICAgICBhcHAuc2NlbmUuYWRkQ2hpbGQobW9kYWwpXG4gKiAgICAgfVxuICogfSlcbiAqXG4gKiAvLyBBZGQgdGhlIGJ1dHRvbiB0byBhIERpc3BsYXlPYmplY3RcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChidXR0b24pXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQGV4dGVuZHMgSW50ZXJhY3RpdmVQb3B1cFxuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkNvbnRhaW5lci5odG1sfFBJWEkuQ29udGFpbmVyfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL21vZGFsLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9kYWwgZXh0ZW5kcyBQSVhJLkNvbnRhaW5lciB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgTW9kYWwuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgbW9kYWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmlkPWF1dG8gZ2VuZXJhdGVkXSAtIFRoZSBpZCBvZiB0aGUgbW9kYWwuXG4gICAgICogQHBhcmFtIHtQSVhJQXBwfSBbb3B0cy5hcHA9d2luZG93LmFwcF0gLSBUaGUgYXBwIHdoZXJlIHRoZSBtb2RhbCBiZWxvbmdzIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5iYWNrZ3JvdW5kRmlsbD1UaGVtZS5iYWNrZ3JvdW5kXSAtIFRoZSBjb2xvciBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuYmFja2dyb3VuZEZpbGxBbHBoYT0wLjZdIC0gVGhlIG9wYWNpdHkgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZU9uQmFja2dyb3VuZD10cnVlXSAtIFNob3VsZCB0aGUgbW9kYWwgYmUgY2xvc2VkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZVxuICAgICAqICAgICBiYWNrZ3JvdW5kP1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudmlzaWJsZT10cnVlXSAtIElzIHRoZSBtb2RhbCBpbml0aWFsbHkgdmlzaWJsZSAocHJvcGVydHkgdmlzaWJsZSk/XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgYXBwOiB3aW5kb3cuYXBwLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbGw6IHRoZW1lLmJhY2tncm91bmQsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kRmlsbEFscGhhOiAuNixcbiAgICAgICAgICAgIGNsb3NlT25CYWNrZ3JvdW5kOiB0cnVlLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWRcblxuICAgICAgICB0aGlzLmJhY2tncm91bmQgPSBudWxsXG4gICAgICAgIHRoaXMucG9wdXAgPSBudWxsXG5cbiAgICAgICAgdGhpcy5hbHBoYSA9IDBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtNb2RhbH0gQSByZWZlcmVuY2UgdG8gdGhlIG1vZGFsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcblxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgIHRoaXMub24oJ2FkZGVkJywgZSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93KClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IGJhY2tncm91bmQgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmRcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmJhY2tncm91bmQpXG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQmFja2dyb3VuZCkge1xuICAgICAgICAgICAgYmFja2dyb3VuZC5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIGJhY2tncm91bmQub24oJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcG9wdXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBwb3B1cE9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLm9wdHMsIHtcbiAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICBvbkhpZGRlbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGxldCBwb3B1cCA9IG5ldyBJbnRlcmFjdGl2ZVBvcHVwKHBvcHVwT3B0cylcbiAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQocG9wdXApXG4gICAgICAgIHBvcHVwLnNob3coKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBtb2RhbC4gQ2FuIGJlIHVzZWQgYWZ0ZXIgcmVzaXppbmcuXG4gICAgICogXG4gICAgICogQHJldHVybiB7TW9kYWx9IEEgcmVmZXJlbmNlIHRvIHRoZSBtb2RhbCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5vcHRzLmFwcC5zaXplLndpZHRoXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMub3B0cy5hcHAuc2l6ZS5oZWlnaHRcblxuICAgICAgICAvLyBiYWNrZ3JvdW5kXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmNsZWFyKClcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmJlZ2luRmlsbCh0aGlzLm9wdHMuYmFja2dyb3VuZEZpbGwsIHRoaXMub3B0cy5iYWNrZ3JvdW5kRmlsbEFscGhhKVxuICAgICAgICB0aGlzLmJhY2tncm91bmQuZHJhd1JlY3QoMCwgMCwgd2lkdGgsIGhlaWdodClcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmVuZEZpbGwoKVxuXG4gICAgICAgIC8vIHBvc2l0aW9uXG4gICAgICAgIHRoaXMucG9wdXAueCA9IHdpZHRoIC8gMiAtIHRoaXMucG9wdXAud2lkdGggLyAyXG4gICAgICAgIHRoaXMucG9wdXAueSA9IGhlaWdodCAvIDIgLSB0aGlzLnBvcHVwLmhlaWdodCAvIDJcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG93cyB0aGUgbW9kYWwgKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtNb2RhbH0gQSByZWZlcmVuY2UgdG8gdGhlIG1vZGFsIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzaG93KCkge1xuICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogMSwgb25TdGFydDogKCkgPT4gdGhpcy52aXNpYmxlID0gdHJ1ZX0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIG1vZGFsIChzZXRzIGhpcyBhbHBoYSB2YWx1ZXMgdG8gMCkuXG4gICAgICogXG4gICAgICogQHJldHVybiB7TW9kYWx9IEEgcmVmZXJlbmNlIHRvIHRoZSBtb2RhbCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgaGlkZSgpIHtcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcywgdGhpcy50aGVtZS5mYXN0LCB7YWxwaGE6IDAsIG9uQ29tcGxldGU6ICgpID0+IHRoaXMudmlzaWJsZSA9IGZhbHNlfSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIGdldHMgdGhlIGhlYWRlci4gVGhlIGdldHRlciBhbHdheXMgcmV0dXJucyBhIFBJWEkuVGV4dCBvYmplY3QuIFRoZSBzZXR0ZXIgY2FuIHJlY2VpdmVcbiAgICAgKiBhIHN0cmluZyBvciBhIFBJWEkuVGV4dCBvYmplY3QuXG4gICAgICogXG4gICAgICogQG1lbWJlciB7c3RyaW5nfFBJWEkuVGV4dH1cbiAgICAgKi9cbiAgICBnZXQgaGVhZGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3B1cC5oZWFkZXJcbiAgICB9XG4gICAgc2V0IGhlYWRlcih2YWx1ZSkge1xuICAgICAgICB0aGlzLm9wdHMuaGVhZGVyID0gdmFsdWVcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLnBvcHVwLmRlc3Ryb3koKVxuICAgICAgICB0aGlzLnNldHVwKCkubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0cyBvciBnZXRzIHRoZSBjb250ZW50LiBUaGUgZ2V0dGVyIGFsd2F5cyByZXR1cm5zIGFuIFBJWEkuRGlzcGxheU9iamVjdC4gVGhlIHNldHRlciBjYW4gcmVjZWl2ZVxuICAgICAqIGEgc3RyaW5nIG9yIGEgUElYSS5EaXNwbGF5T2JqZWN0LlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge3N0cmluZ3xQSVhJLkRpc3BsYXlPYmplY3R9XG4gICAgICovXG4gICAgZ2V0IGNvbnRlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVwLmNvbnRlbnRcbiAgICB9XG4gICAgc2V0IGNvbnRlbnQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRlbnQgPSB2YWx1ZVxuICAgICAgICB0aGlzLmJhY2tncm91bmQuZGVzdHJveSgpXG4gICAgICAgIHRoaXMucG9wdXAuZGVzdHJveSgpXG4gICAgICAgIHRoaXMuc2V0dXAoKS5sYXlvdXQoKVxuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IHtJbnRlcmFjdGl2ZVBvcHVwfSBmcm9tICcuL3BvcHVwLmpzJ1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIE1lc3NhZ2UuIEEgbWVzc2FnZSBwb3BzIHVwIGFuZCBkaXNhcHBlYXJzIGFmdGVyIGEgc3BlY2lmaWMgYW1vdW50IG9mIHRpbWUuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIFBpeGlKUyBBcHBcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDkwMCxcbiAqICAgICBoZWlnaHQ6IDI1MFxuICogfSkuc2V0dXAoKS5ydW4oKVxuICogXG4gKiAvLyBDcmVhdGUgYSBidXR0b25cbiAqIGxldCBidXR0b24gPSBuZXcgQnV0dG9uKHtcbiAqICAgICBsYWJlbDogJ0NsaWNrIG1lJyxcbiAqICAgICBhY3Rpb246IGUgPT4ge1xuICogICAgICAgICBjb25zdCBtZXNzYWdlID0gbmV3IE1lc3NhZ2Uoe1xuICogICAgICAgICAgICAgYXBwOiBhcHAsXG4gKiAgICAgICAgICAgICBoZWFkZXI6ICdIZWFkZXInLFxuICogICAgICAgICAgICAgY29udGVudDogJ1RleHQuJ1xuICogICAgICAgICB9KVxuICogICAgICAgICBhcHAuc2NlbmUuYWRkQ2hpbGQobWVzc2FnZSlcbiAqICAgICB9XG4gKiB9KVxuICogXG4gKiAvLyBBZGQgdGhlIGJ1dHRvbiB0byB0aGUgc2NlbmVcbiAqIGFwcC5zY2VuZS5hZGRDaGlsZChidXR0b24pXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBJbnRlcmFjdGl2ZVBvcHVwXG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvbWVzc2FnZS5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2UgZXh0ZW5kcyBJbnRlcmFjdGl2ZVBvcHVwIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBNZXNzYWdlLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIHtQSVhJQXBwfSBbb3B0cy5hcHA9d2luZG93LmFwcF0gLSBUaGUgUElYSUFwcCB3aGVyZSB0aGlzIG1lc3NhZ2UgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmNsb3NlQnV0dG9uPWZhbHNlXSAtIFNob3VsZCBhIGNsb3NlIGJ1dHRvbiBiZSBkaXNwbGF5ZWQgaW4gdGhlIHVwcGVyIHJpZ2h0IGNvcm5lcj9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWluV2lkdGg9MjgwXSAtIFRoZSBtaW5pbXVtIHdpZHRoIG9mIHRoZSBtZXNzYWdlIGJveC4gQXV0b21hdGljYWxseSBleHBhbmRzIHdpdGggdGhlIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1pbkhlaWdodD0xMDBdIC0gVGhlIG1pbmltdW0gaGVpZ2h0IG9mIHRoZSBtZXNzYWdlIGJveC4gQXV0b21hdGljYWxseSBleHBhbmRzIHdpdGggdGhlIGNvbnRlbnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLm1hcmdpbj1UaGVtZS5tYXJnaW5dIC0gVGhlIG91dGVyIHNwYWNpbmcgb2YgdGhlIG1lc3NhZ2UgYm94LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5hbGlnbj1yaWdodF0gLSBUaGUgaG9yaXpvbnRhbCBwb3NpdGlvbiBvZiB0aGUgbWVzc2FnZSBib3ggcmVsYXRpdmUgdG8gdGhlIGFwcC4gUG9zc2libGVcbiAgICAgKiAgICAgdmFsdWVzIGFyZSBsZWZ0LCBjZW50ZXIsIHJpZ2h0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy52ZXJ0aWNhbEFsaWduPXRvcF0gLSBUaGUgdmVydGljYWwgcG9zaXRpb24gb2YgdGhlIG1lc3NhZ2UgYm94IHJlbGF0aXZlIHRvIHRoZSBhcHAuIFBvc3NpYmxlXG4gICAgICogICAgIHZhbHVlcyBhcmUgdG9wLCBtaWRkbGUsIGJvdHRvbS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZHVyYXRpb249NV0gLSBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcyB3aGVuIHRoZSBtZXNzYWdlIGJveCBzaG91bGQgZGlzYXBwZWFyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYXV0b0Nsb3NlPXRydWVdIC0gU2hvdWxkIHRoZSBtZXNzYWdlIGJveCBiZSBjbG9zZWQgYXV0b21hdGljYWxseT9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY2xvc2VEdXJhdGlvbj1UaGVtZS5mYXN0XSAtIFRoZSBkdXJhdGlvbiBpbiBzZWNvbmRzIG9mIHRoZSBjbG9zaW5nIG9mIHRoZSBtZXNzYWdlIGJveC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuXG4gICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBhcHA6IHdpbmRvdy5hcHAsXG4gICAgICAgICAgICBjbG9zZUJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICBtaW5XaWR0aDogMjgwLFxuICAgICAgICAgICAgbWluSGVpZ2h0OiAxMDAsXG4gICAgICAgICAgICBtYXJnaW46IHRoZW1lLm1hcmdpbixcbiAgICAgICAgICAgIGFsaWduOiAncmlnaHQnLCAgICAgICAgICAgICAgICAgICAgIC8vIGxlZnQsIGNlbnRlciwgcmlnaHRcbiAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICd0b3AnLCAgICAgICAgICAgICAgIC8vIHRvcCwgbWlkZGxlLCBib3R0b21cbiAgICAgICAgICAgIGR1cmF0aW9uOiA1LFxuICAgICAgICAgICAgYXV0b0Nsb3NlOiB0cnVlLFxuICAgICAgICAgICAgY2xvc2VEdXJhdGlvbjogdGhlbWUuZmFzdFxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHN1cGVyKG9wdHMpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVsYXlvdXRzIHRoZSBwb3NpdGlvbiBvZiB0aGUgbWVzc2FnZSBib3guXG4gICAgICogXG4gICAgICogQHJldHVybiB7TWVzc2FnZX0gUmV0dXJucyB0aGUgbWVzc2FnZSBib3ggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcblxuICAgICAgICBzdXBlci5sYXlvdXQoKVxuXG4gICAgICAgIC8vIGhvcml6b250YWxcbiAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMuYWxpZ24pIHtcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgIHRoaXMueCA9IHRoaXMub3B0cy5tYXJnaW5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICB0aGlzLnggPSAodGhpcy5vcHRzLmFwcC5zaXplLndpZHRoIC8gMikgLSAodGhpcy53aWR0aCAvIDIpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgICAgICB0aGlzLnggPSB0aGlzLm9wdHMuYXBwLnNpemUud2lkdGggLSB0aGlzLm9wdHMubWFyZ2luIC0gdGhpcy53aWR0aFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cblxuICAgICAgICAvLyB2ZXJ0aWNhbFxuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICd0b3AnOlxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHRoaXMub3B0cy5tYXJnaW5cbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzpcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSAodGhpcy5vcHRzLmFwcC5zaXplLmhlaWdodCAvIDIpIC0gKHRoaXMuaGVpZ2h0IC8gMilcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICB0aGlzLnkgPSB0aGlzLm9wdHMuYXBwLnNpemUuaGVpZ2h0IC0gdGhpcy5vcHRzLm1hcmdpbiAtIHRoaXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBtZXNzYWdlIGJveC5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgc3VwZXIuc2hvdygpXG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy5hdXRvQ2xvc2UpIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgfSwgdGhpcy5vcHRzLmR1cmF0aW9uICogMTAwMClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIGdsb2JhbCBhcG9sbG8sIHN1YnNjcmlwdGlvbnMsIGdxbCAqL1xuXG5pbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcbmltcG9ydCBQcm9ncmVzcyBmcm9tICcuL3Byb2dyZXNzLmpzJ1xuaW1wb3J0IE1vZGFsIGZyb20gJy4vbW9kYWwuanMnXG5pbXBvcnQgTWVzc2FnZSBmcm9tICcuL21lc3NhZ2UuanMnXG5cbi8qKlxuICogQSBzcGVjaWFsIEludGVyYWN0aW9uTWFuYWdlciBmb3IgZnVsbHNjcmVlbiBhcHBzLCB3aGljaCBtYXlcbiAqIGdvIGJleW9uZCB0aGUgbGltaXRzIG9mIFdlYkdMIGRyYXdpbmcgYnVmZmVycy4gT24gU2FmYXJpIGFuZCBDaHJvbWVcbiAqIHRoZSBkcmF3aW5nIGJ1ZmZlcnMgYXJlIGxpbWl0ZWQgdG8gNDA5NiBpbiB3aWR0aCAoU2FmYXJpKSBvciA0MDk2eDQwOTZcbiAqIGluIHRvdGFsIGJ1ZmZlciBzaXplIChDaHJvbWUpLiBUaGUgb3JpZ2luYWwgSW50ZXJhY3Rpb25NYW5hZ2VyLm1hcFBvc2l0aW9uVG9Qb2ludFxuICogZG9lcyBub3Qgd29yayB3aXRoIHRoZXNlIGV4dHJlbWUgc2l6ZXMgd2hpY2ggbWFpbmx5IG9jY3VyIGlmIGxhcmdlXG4gKiByZXRpbmEgZGlzcGxheXMgKD49IDRLKSBhcmUgdXNlZCB3aXRoIGRldmljZVBpeGVsUmF0aW8gPiAxLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuaW50ZXJhY3Rpb24uSW50ZXJhY3Rpb25NYW5hZ2VyLmh0bWx8UElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXJ9XG4gKiBAc2VlIHtAbGluayBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTcxMDY5Ni93ZWJnbC1kcmF3aW5nLWJ1ZmZlci1zaXplLWRvZXMtbm90LWVxdWFsLWNhbnZhcy1zaXplfVxuICovXG5jbGFzcyBGdWxsc2NyZWVuSW50ZXJhY3Rpb25NYW5hZ2VyIGV4dGVuZHMgUElYSS5pbnRlcmFjdGlvbi5JbnRlcmFjdGlvbk1hbmFnZXIge1xuXG4gICAgbWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB4LCB5KSB7XG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uXG4gICAgICAgIGxldCBleHRlbmRXaWR0aCA9IDEuMFxuICAgICAgICBsZXQgZXh0ZW5kSGVpZ2h0ID0gMS4wXG4gICAgICAgIGxldCBkeSA9IDBcbiAgICAgICAgbGV0IGNhbnZhcyA9IHRoaXMucmVuZGVyZXIudmlld1xuICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCd3ZWJnbCcpXG4gICAgICAgIGlmIChjb250ZXh0LmRyYXdpbmdCdWZmZXJXaWR0aCA8IGNhbnZhcy53aWR0aCB8fFxuICAgICAgICAgICAgY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0IDwgY2FudmFzLmhlaWdodCkge1xuICAgICAgICAgICAgZXh0ZW5kV2lkdGggPSBjb250ZXh0LmRyYXdpbmdCdWZmZXJXaWR0aCAvIGNhbnZhcy53aWR0aFxuICAgICAgICAgICAgZXh0ZW5kSGVpZ2h0ID0gY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0IC8gY2FudmFzLmhlaWdodFxuICAgICAgICAgICAgLy9keCA9IHdhbnRlZFdpZHRoIC0gY29udGV4dC5kcmF3aW5nQnVmZmVyV2lkdGhcbiAgICAgICAgICAgIGR5ID0gKGNhbnZhcy5oZWlnaHQgLSBjb250ZXh0LmRyYXdpbmdCdWZmZXJIZWlnaHQpIC8gcmVzb2x1dGlvblxuICAgICAgICB9XG4gICAgICAgIHggKj0gZXh0ZW5kV2lkdGhcbiAgICAgICAgeSAqPSBleHRlbmRIZWlnaHRcblxuICAgICAgICBzdXBlci5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkgKyBkeSlcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIGNsYXNzIFBpeGlBcHAgZXh0ZW5kcyB0aGUgY2xhc3MgUElYSS5BcHBsaWNhdGlvblxuICogYnkgc2V2ZXJhbCBmdW5jdGlvbnMgYW5kIG1ha2VzIG1lYW5pbmdmdWwgcHJlLWFzc3VtcHRpb25zLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBDcmVhdGUgdGhlIGFwcFxuICogY29uc3QgYXBwID0gbmV3IFBJWElBcHAoe1xuICogICAgIHZpZXc6IGNhbnZhcyxcbiAqICAgICB3aWR0aDogNDUwLFxuICogICAgIGhlaWdodDogMTUwLFxuICogICAgIGZwc0xvZ2dpbmc6IHRydWUsXG4gKiAgICAgdGhlbWU6ICdsaWdodCcsXG4gKiAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlXG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkFwcGxpY2F0aW9uXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuQXBwbGljYXRpb24uaHRtbHxQSVhJLkFwcGxpY2F0aW9ufVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQSVhJQXBwIGV4dGVuZHMgUElYSS5BcHBsaWNhdGlvbiB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgUGl4aUFwcC5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cz17fV0gLSBBbiBvcHRpb25zIG9iamVjdC4gVGhlIGZvbGxvd2luZyBvcHRpb25zIGNhbiBiZSBzZXQ6XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLndpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgcmVuZGVyZXIuIElmIG5vIHNldCwgdGhlIGFwcGxpY2F0aW9uIHdpbGwgcnVuIGluIGZ1bGxzY3JlZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmhlaWdodF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSByZW5kZXJlci4gSWYgbm8gc2V0LCB0aGUgYXBwbGljYXRpb24gd2lsbCBydW4gaW4gZnVsbHNjcmVlbi5cbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBbb3B0cy52aWV3XSAtIFRoZSBjYW52YXMgSFRNTCBlbGVtZW50LiBJZiBub3Qgc2V0LCBhIHJlbmRlci1lbGVtZW50IGlzIGFkZGVkIGluc2lkZSB0aGUgYm9keS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnRyYW5zcGFyZW50PXRydWVdIC0gU2hvdWxkIHRoZSByZW5kZXIgdmlldyBiZSB0cmFuc3BhcmVudD9cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmFudGlhbGlhcz10cnVlXSAtIFNldHMgYW50aWFsaWFzIChvbmx5IGFwcGxpY2FibGUgaW4gY2hyb21lIGF0IHRoZSBtb21lbnQpLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5yZXNvbHV0aW9uPXdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHwgMV0gLSBUaGUgcmVzb2x1dGlvbiAvIGRldmljZSBwaXhlbCByYXRpbyBvZiB0aGUgcmVuZGVyZXIsIHJldGluYSB3b3VsZCBiZSAyLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuYXV0b1Jlc2l6ZT10cnVlXSAtIFNob3VsZCB0aGUgY2FudmFzLWVsZW1lbnQgYmUgcmVzaXplZCBhdXRvbWF0aWNhbGx5IGlmIHRoZSByZXNvbHV0aW9uIHdhcyBzZXQ/XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmJhY2tncm91bmRDb2xvcj0weDI4MjgyOF0gLSBUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8VGhlbWV9IFtvcHRzLnRoZW1lPWRhcmtdIC0gVGhlIG5hbWUgb2YgdGhlIHRoZW1lIChkYXJrLCBsaWdodCwgcmVkKSBvciBhIFRoZW1lIG9iamVjdCB0byB1c2UgZm9yIHN0eWxpbmcuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5mcHNMb2dnaW5nPWZhbHNlXSAtIElmIHNldCB0byB0cnVlLCB0aGUgY3VycmVudCBmcmFtZXMgcGVyIHNlY29uZCBhcmUgZGlzcGxheWVkIGluIHRoZSB1cHBlciBsZWZ0IGNvcm5lci5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMucHJvZ3Jlc3M9e31dIC0gQ2FuIGJlIHVzZWQgdG8gYWRkIG9wdGlvbnMgdG8gdGhlIHByb2dyZXNzIGJhci4gU2VlIGNsYXNzIFByb2dyZXNzIGZvciBtb3JlIGluZm9ybWF0aW9ucy5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmZvcmNlQ2FudmFzPWZhbHNlXSAtIFByZXZlbnRzIHNlbGVjdGlvbiBvZiBXZWJHTCByZW5kZXJlciwgZXZlbiBpZiBzdWNoIGlzIHByZXNlbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yb3VuZFBpeGVscz10cnVlXSAtIEFsaWduIFBJWEkuRGlzcGxheU9iamVjdCBjb29yZGluYXRlcyB0byBzY3JlZW4gcmVzb2x1dGlvbi5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLm1vbmtleVBhdGNoTWFwcGluZz10cnVlXSAtIE1vbmtleSBwYXRjaCBmb3IgY2FudmFzIGZ1bGxzY3JlZW4gc3VwcG9ydCBvbiBsYXJnZSBkaXNwbGF5cy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih7XG4gICAgICAgIHdpZHRoID0gbnVsbCwgaGVpZ2h0ID0gbnVsbCwgdmlldyA9IG51bGwsXG4gICAgICAgIHRyYW5zcGFyZW50ID0gdHJ1ZSwgYmFja2dyb3VuZENvbG9yID0gMHgyODI4MjgsIHRoZW1lID0gJ2RhcmsnLFxuICAgICAgICBhbnRpYWxpYXMgPSB0cnVlLCByZXNvbHV0aW9uID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSwgYXV0b1Jlc2l6ZSA9IHRydWUsXG4gICAgICAgIGZwc0xvZ2dpbmcgPSBmYWxzZSwgcHJvZ3Jlc3MgPSB7fSwgZm9yY2VDYW52YXMgPSBmYWxzZSwgcm91bmRQaXhlbHMgPSB0cnVlLCBtb25rZXlQYXRjaE1hcHBpbmcgPSB0cnVlLFxuICAgICAgICBncmFwaHFsID0gZmFsc2V9KSB7XG5cbiAgICAgICAgY29uc3QgZnVsbFNjcmVlbiA9ICF3aWR0aCB8fCAhaGVpZ2h0XG5cbiAgICAgICAgaWYgKGZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgIHdpZHRoID0gd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgICAgIGhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgdmlldzogdmlldyxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiBhbnRpYWxpYXMsXG4gICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgICAgYXV0b1Jlc2l6ZTogYXV0b1Jlc2l6ZSxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgcm91bmRQaXhlbHM6IHJvdW5kUGl4ZWxzLFxuICAgICAgICAgICAgZm9yY2VDYW52YXM6IGZvcmNlQ2FudmFzXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMudGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKHRoZW1lKVxuICAgICAgICB0aGlzLmZwc0xvZ2dpbmcgPSBmcHNMb2dnaW5nXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NPcHRzID0gcHJvZ3Jlc3NcbiAgICAgICAgdGhpcy5mdWxsU2NyZWVuID0gZnVsbFNjcmVlblxuICAgICAgICB0aGlzLm9yaWVudCA9IG51bGxcbiAgICAgICAgdGhpcy5vcmlnaW5hbE1hcFBvc2l0aW9uVG9Qb2ludCA9IG51bGxcbiAgICAgICAgdGhpcy5tb25rZXlQYXRjaE1hcHBpbmcgPSBtb25rZXlQYXRjaE1hcHBpbmdcbiAgICAgICAgdGhpcy5ncmFwaHFsID0gZ3JhcGhxbFxuICAgICAgICBpZiAoZnVsbFNjcmVlbikge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FwcCBpcyBpbiBmdWxsU2NyZWVuIG1vZGUnKVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMucmVzaXplLmJpbmQodGhpcykpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5jaGVja09yaWVudGF0aW9uLmJpbmQodGhpcykpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vbmtleVBhdGNoTWFwcGluZykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ1VzaW5nIG1vbmtleSBwYXRjaGVkIGNvb3JkaW5hdGUgbWFwcGluZycpXG4gICAgICAgICAgICAvLyBQbHVnZ2luIHRoZSBzcGVjaWFsaXp0aW9uIGRvZXMgbm90IHdvcmsuIE1vbmtleSBwYXRjaGluZyBkb2VzXG4gICAgICAgICAgICAvLyB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24gPSBuZXcgRnVsbHNjcmVlbkludGVyYWN0aW9uTWFuYWdlcih0aGlzLnJlbmRlcmVyKVxuICAgICAgICAgICAgdGhpcy5tb25rZXlQYXRjaFBpeGlNYXBwaW5nKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4dHJhIHNldHVwIG1ldGhvZCB0byBjb25zdHJ1Y3QgY29tcGxleCBzY2VuZXMsIGV0Yy4uLlxuICAgICAqIE92ZXJ3cml0ZSB0aGlzIG1ldGhvZCBpZiB5b3UgbmVlZCBhZGRpdG9uYWwgdmlld3MgYW5kIGNvbXBvbmVudHMuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJQXBwfSBBIHJlZmVyZW5jZSB0byB0aGUgUElYSUFwcCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSB0aGlzLnNjZW5lRmFjdG9yeSgpXG4gICAgICAgIHRoaXMuc3RhZ2UuYWRkQ2hpbGQodGhpcy5zY2VuZSlcblxuICAgICAgICAvLyBmcHNMb2dnaW5nXG4gICAgICAgIGlmICh0aGlzLmZwc0xvZ2dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkRnBzRGlzcGxheSgpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBHcmFwaFFMXG4gICAgICAgIGlmICh0aGlzLmdyYXBocWwgJiYgdHlwZW9mIGFwb2xsbyAhPT0gJ3VuZGVmaW5lZCcpIHtcblxuICAgICAgICAgICAgY29uc3QgbmV0d29ya0ludGVyZmFjZSA9IGFwb2xsby5jcmVhdGVOZXR3b3JrSW50ZXJmYWNlKHtcbiAgICAgICAgICAgICAgICB1cmk6ICcvZ3JhcGhxbCdcbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIGNvbnN0IHdzQ2xpZW50ID0gbmV3IHN1YnNjcmlwdGlvbnMuU3Vic2NyaXB0aW9uQ2xpZW50KGB3c3M6Ly8ke2xvY2F0aW9uLmhvc3RuYW1lfS9zdWJzY3JpcHRpb25zYCwge1xuICAgICAgICAgICAgICAgIHJlY29ubmVjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uUGFyYW1zOiB7fVxuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgY29uc3QgbmV0d29ya0ludGVyZmFjZVdpdGhTdWJzY3JpcHRpb25zID0gc3Vic2NyaXB0aW9ucy5hZGRHcmFwaFFMU3Vic2NyaXB0aW9ucyhcbiAgICAgICAgICAgICAgICBuZXR3b3JrSW50ZXJmYWNlLFxuICAgICAgICAgICAgICAgIHdzQ2xpZW50XG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIHRoaXMuYXBvbGxvQ2xpZW50ID0gbmV3IGFwb2xsby5BcG9sbG9DbGllbnQoe1xuICAgICAgICAgICAgICAgIG5ldHdvcmtJbnRlcmZhY2U6IG5ldHdvcmtJbnRlcmZhY2VXaXRoU3Vic2NyaXB0aW9uc1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHByb2dyZXNzXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzID0gbmV3IFByb2dyZXNzKE9iamVjdC5hc3NpZ24oe3RoZW1lOiB0aGlzLnRoZW1lfSwgdGhpcy5wcm9ncmVzc09wdHMsIHthcHA6IHRoaXN9KSlcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3MudmlzaWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMuc3RhZ2UuYWRkQ2hpbGQodGhpcy5fcHJvZ3Jlc3MpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUZXN0cyB3aGV0aGVyIHRoZSB3aWR0aCBpcyBsYXJnZXIgdGhhbiB0aGUgaGVpZ2h0IG9mIHRoZSBhcHBsaWNhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFJldHVybnMgdHJ1ZSBpZiBhcHAgaXMgaW4gbGFuZHNjYXBlIG1vZGUuXG4gICAgICovXG4gICAgb3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndpZHRoID4gdGhpcy5oZWlnaHRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgb3JpZW50YXRpb24gYW5kIGFkYXB0cyB2aWV3IHNpemUgaWYgbmVjZXNzYXJ5LiBJbXBsZW1lbnRzIGFcbiAgICAgKiBoYW5kbGVyIGZvciB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2V2ZW50PX0gLSBvcmllbnRhdGlvbmNoYW5nZSBldmVudFxuICAgICAqL1xuICAgIGNoZWNrT3JpZW50YXRpb24oZXZlbnQpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5vcmllbnRhdGlvbigpXG4gICAgICAgIGlmICh2YWx1ZSAhPSB0aGlzLm9yaWVudCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgxMDAsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3JpZW50YXRpb25DaGFuZ2VkKHRydWUpXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgICAgICB0aGlzLm9yaWVudCA9IHZhbHVlXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgaWYgY2hlY2tPcmllbnRhdGlvbiBkZXRlY3RzIGFuIG9yaWVudGF0aW9uIGNoYW5nZSBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtmb3JjZT1mYWxzZV0gLSBDYWxsZWQgaWYgY2hlY2tPcmllbnRhdGlvbiBkZXRlY3RzIGFuIG9yaWVudGF0aW9uIGNoYW5nZSBldmVudC5cbiAgICAgKi9cbiAgICBvcmllbnRhdGlvbkNoYW5nZWQoZm9yY2U9ZmFsc2UpIHtcbiAgICAgICAgaWYgKHRoaXMuZXhwYW5kUmVuZGVyZXIoKSB8fCBmb3JjZSkge1xuICAgICAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGFmdGVyIGEgcmVzaXplLiBFbXB0eSBtZXRob2QgYnV0IGNhbiBiZSBvdmVyd3JpdHRlbiB0b1xuICAgICAqIGFkYXB0IHRoZWlyIGxheW91dCB0byB0aGUgbmV3IGFwcCBzaXplLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3aWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIGFwcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2hlaWdodF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBhcHAuXG4gICAgICovXG4gICAgbGF5b3V0KHdpZHRoLCBoZWlnaHQpIHtcblxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBkaXNwbGF5IHRyZWUgb2YgdGhlIGFwcC4gVHlwaWNhbGx5IHRoaXMgY2FuIGJlIGRlbGVnYXRlZFxuICAgICAqIHRvIHRoZSBsYXlvdXQgbWV0aG9kLlxuICAgICAqXG4gICAgICovXG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5sYXlvdXQodGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpXG4gICAgfVxuXG4gICAgLypcbiAgICAgKiBSdW4gdGhlIGFwcGxpY2F0aW9uLiBPdmVycmlkZSB0aGlzIG1ldGhvZCB3aXRoIGV2ZXJ5dGhpbmdcbiAgICAgKiB0aGF0IGlzIG5lZWRlZCB0byBtYWludGFpbiB5b3VyIEFwcCwgZS5nLiBzZXR1cCBjYWxscywgbWFpbiBsb29wcywgZXRjLlxuICAgICAqXG4gICAgICovXG4gICAgcnVuKCkge1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qXG4gICAgICogT3ZlcndyaXRlIHRoaXMgZmFjdG9yeSBtZXRob2QgaWYgeW91ciBhcHBsaWNhdGlvbiBuZWVkcyBhIHNwZWNpYWxcbiAgICAgKiBzY2VuZSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7UElYSS5Db250YWluZXJ9IC0gQSBuZXcgUElYSSBDb250YWluZXIgZm9yIHVzZSBhcyBhIHNjZW5lLlxuICAgICAqL1xuICAgIHNjZW5lRmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQSVhJLkNvbnRhaW5lcigpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgZGlzcGxheSBvZiB0aGUgZnJhbWVzIHBlciBzZWNvbmQgdG8gdGhlIHJlbmRlcmVyIGluIHRoZSB1cHBlciBsZWZ0IGNvcm5lci5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1BJWElBcHB9IC0gUmV0dXJucyB0aGUgUElYSUFwcCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgYWRkRnBzRGlzcGxheSgpIHtcbiAgICAgICAgY29uc3QgZnBzRGlzcGxheSA9IG5ldyBGcHNEaXNwbGF5KHRoaXMpXG4gICAgICAgIHRoaXMuc3RhZ2UuYWRkQ2hpbGQoZnBzRGlzcGxheSlcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHNpemUgb2YgdGhlIHJlbmRlcmVyIGFzIGFuIG9iamVjdCB3aXRoIHRoZSBrZXlzIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcmVhZG9ubHlcbiAgICAgKiBAbWVtYmVyIHtvYmplY3R9XG4gICAgICovXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB7d2lkdGg6IHRoaXMud2lkdGgsIGhlaWdodDogdGhpcy5oZWlnaHR9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY2VudGVyIG9mIHRoZSByZW5kZXJlciBhcyBhbiBvYmplY3Qgd2l0aCB0aGUga2V5cyB4IGFuZCB5LlxuICAgICAqXG4gICAgICogQHJlYWRvbmx5XG4gICAgICogQG1lbWJlciB7b2JqZWN0fVxuICAgICAqL1xuICAgIGdldCBjZW50ZXIoKSB7XG4gICAgICAgIHJldHVybiB7eDogdGhpcy53aWR0aCAvIDIsIHk6IHRoaXMuaGVpZ2h0IC8gMn1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXNpemVzIHRoZSByZW5kZXJlciB0byBmaXQgaW50byB0aGUgd2luZG93IG9yIGdpdmVuIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW2V2ZW50XSAtIFRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge29iamVjdD19IFtvcHRzPXt9XSAtIFRoZSBldmVudC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMud2lkdGg9d2luZG93LmlubmVyV2lkdGhdIC0gVGhlIHdpZHRoIG9mIHRoZSBhcHAgdG8gcmVzaXplIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5oZWlnaHQ9d2luZG93LmlubmVySGVpZ2h0XSAtIFRoZSBoZWlnaHQgb2YgdGhlIGFwcCB0byByZXNpemUgdG8uXG4gICAgICogQHJldHVybiB7UElYSUFwcH0gLSBSZXR1cm5zIHRoZSBQSVhJQXBwIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICByZXNpemUoZXZlbnQsIHt3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoLCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHR9ID0ge30pIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMuZXhwYW5kUmVuZGVyZXIoKVxuICAgICAgICB0aGlzLmxheW91dCh3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAvLyBpZiAodGhpcy5zY2VuZSkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImdsLmRyYXdpbmdCdWZmZXJXaWR0aFwiLCB0aGlzLnJlbmRlcmVyLnZpZXcuZ2V0Q29udGV4dCgnd2ViZ2wnKS5kcmF3aW5nQnVmZmVyV2lkdGgpXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwic2NlbmVcIiwgdGhpcy5zY2VuZS5zY2FsZSwgdGhpcy5yZW5kZXJlciwgdGhpcy5yZW5kZXJlci5hdXRvUmVzaXplLCB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb24pXG4gICAgICAgIC8vIH1cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAdG9kbyBXcml0ZSB0aGUgZG9jdW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgbW9ua2V5UGF0Y2hQaXhpTWFwcGluZygpIHtcbiAgICAgICAgaWYgKHRoaXMub3JpZ2luYWxNYXBQb3NpdGlvblRvUG9pbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBpbnRlcmFjdGlvbk1hbmFnZXIgPSB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb25cbiAgICAgICAgICAgIHRoaXMub3JpZ2luYWxNYXBQb3NpdGlvblRvUG9pbnQgPSBpbnRlcmFjdGlvbk1hbmFnZXIubWFwUG9zaXRpb25Ub1BvaW50XG4gICAgICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIubWFwUG9zaXRpb25Ub1BvaW50ID0gKHBvaW50LCB4LCB5KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZml4ZWRNYXBQb3NpdGlvblRvUG9pbnQocG9pbnQsIHgsIHkpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbiBzb21lIGJyb3dzZXJzIHRoZSBjYW52YXMgaXMgZGlzdG9ydGVkIGlmIHRoZSBzY3JlZW4gcmVzb2x1dGlvbiBhbmQgXG4gICAgICogb3ZlcmFsbCBzaXplIG9mIHRoZSBjYW52YXMgZXhjZWVkcyB0aGUgaW50ZXJuYWwgbGltaXRzIChlLmcuIDQwOTYgeCA0MDk2IHBpeGVscykuXG4gICAgICogVG8gY29tcGVuc2F0ZSB0aGVzZSBkaXN0b3J0aW9ucyB3ZSBuZWVkIHRvIGZpeCB0aGUgbWFwcGluZyB0byB0aGUgYWN0dWFsXG4gICAgICogZHJhd2luZyBidWZmZXIgY29vcmRpbmF0ZXMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2FueX0gbG9jYWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHJldHVybiB7fSBpbnRlcmFjdGlvbk1hbmFnZXIubWFwUG9zaXRpb25Ub1BvaW50XG4gICAgICovXG4gICAgZml4ZWRNYXBQb3NpdGlvblRvUG9pbnQobG9jYWwsIHgsIHkpIHtcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb25cbiAgICAgICAgbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvblxuICAgICAgICBsZXQgZXh0ZW5kV2lkdGggPSAxLjBcbiAgICAgICAgbGV0IGV4dGVuZEhlaWdodCA9IDEuMFxuICAgICAgICBsZXQgZHkgPSAwXG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLnJlbmRlcmVyLnZpZXdcbiAgICAgICAgbGV0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dCgnd2ViZ2wnKVxuXG4gICAgICAgIGlmIChjb250ZXh0ICE9PSBudWxsICYmIChjb250ZXh0LmRyYXdpbmdCdWZmZXJXaWR0aCA8IGNhbnZhcy53aWR0aCB8fFxuICAgICAgICAgICAgY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0IDwgY2FudmFzLmhlaWdodCkpIHtcbiAgICAgICAgICAgIGV4dGVuZFdpZHRoID0gY29udGV4dC5kcmF3aW5nQnVmZmVyV2lkdGggLyBjYW52YXMud2lkdGhcbiAgICAgICAgICAgIGV4dGVuZEhlaWdodCA9IGNvbnRleHQuZHJhd2luZ0J1ZmZlckhlaWdodCAvIGNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIC8vZHggPSB3YW50ZWRXaWR0aCAtIGNvbnRleHQuZHJhd2luZ0J1ZmZlcldpZHRoXG4gICAgICAgICAgICBkeSA9IChjYW52YXMuaGVpZ2h0IC0gY29udGV4dC5kcmF3aW5nQnVmZmVySGVpZ2h0KSAvIHJlc29sdXRpb25cbiAgICAgICAgfVxuICAgICAgICB4ICo9IGV4dGVuZFdpZHRoXG4gICAgICAgIHkgKj0gZXh0ZW5kSGVpZ2h0XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsTWFwUG9zaXRpb25Ub1BvaW50LmNhbGwoaW50ZXJhY3Rpb25NYW5hZ2VyLCBsb2NhbCwgeCwgeSArIGR5KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCB0aGUgcmVuZGVyZXIgc3RlcC13aXNlIG9uIHJlc2l6ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZXhwYW5kXSAtIFRoZSBhbW91bnQgb2YgYWRkaXRpb25hbCBzcGFjZSBmb3IgdGhlIHJlbmRlcmVyIFtweF0uXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiB0aGUgcmVuZGVyZXIgd2FzIHJlc2l6ZWQuXG4gICAgICovXG4gICAgZXhwYW5kUmVuZGVyZXIoZXhwYW5kPTI1Nikge1xuICAgICAgICBsZXQgcmVuZGVyZXIgPSB0aGlzLnJlbmRlcmVyXG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gdGhpcy5yZW5kZXJlci5yZXNvbHV0aW9uXG4gICAgICAgIGxldCB3dyA9IHRoaXMud2lkdGhcbiAgICAgICAgbGV0IGhoID0gdGhpcy5oZWlnaHRcbiAgICAgICAgbGV0IHN3ID0gdGhpcy5zY3JlZW4ud2lkdGhcbiAgICAgICAgbGV0IHNoID0gdGhpcy5zY3JlZW4uaGVpZ2h0XG4gICAgICAgIGlmICh3dyA+IHN3IHx8IGhoID4gc2gpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBcHAuZXhwYW5kUmVuZGVyZXInKVxuICAgICAgICAgICAgcmVuZGVyZXIucmVzaXplKHd3ICsgZXhwYW5kLCBoaCArIGV4cGFuZClcbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXJlci5yZXNpemUod3csIGhoKVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIGxvYWRpbmcgcHJvZ3Jlc3Mgb2YgdGhlIGFwcGxpY2F0aW9uLiBJZiBjYWxsZWQgZm9yIHRoZSBmaXJzdCB0aW1lLCBkaXNwbGF5IHRoZSBwcm9ncmVzcyBiYXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ZhbHVlXSAtIFNob3VsZCBiZSBhIHZhbHVlIGJldHdlZW4gMCBhbmQgMTAwLiBJZiAxMDAsIHRoZSBwcm9ncmVzcyBiYXIgd2lsbCBkaXNhcHBlYXIuXG4gICAgICogQHJldHVybiB7UElYSUFwcHxQcm9ncmVzc30gVGhlIFBpeGlBcHAgb2JqZWN0IGZvciBjaGFpbmluZyBvciB0aGUgUHJvZ3Jlc3Mgb2JqZWN0IHdoZW4gdGhlIG1ldGhvZCB3YXNcbiAgICAgKiAgICAgY2FsbGVkIHdpdGhvdXQgYSBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgcHJvZ3Jlc3ModmFsdWUpIHtcblxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2dyZXNzXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wcm9ncmVzcy52aXNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLl9wcm9ncmVzcy5wcm9ncmVzcyA9IHZhbHVlXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBPcGVucyBhIG5ldyBNb2RhbCBvYmplY3QgYmluZGVkIHRvIHRoaXMgYXBwLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IGZvciB0aGUgTW9kYWwgb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge01vZGFsfSBSZXR1cm5zIHRoZSBNb2RhbCBvYmplY3QuXG4gICAgICovXG4gICAgbW9kYWwob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgbGV0IG1vZGFsID0gbmV3IE1vZGFsKE9iamVjdC5hc3NpZ24oe3RoZW1lOiB0aGlzLnRoZW1lfSwgb3B0cywge2FwcDogdGhpc30pKVxuICAgICAgICB0aGlzLnNjZW5lLmFkZENoaWxkKG1vZGFsKVxuXG4gICAgICAgIHJldHVybiBtb2RhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW5zIGEgbmV3IE1lc3NhZ2Ugb2JqZWN0IGJpbmRlZCB0byB0aGlzIGFwcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCBmb3IgdGhlIE1lc3NhZ2Ugb2JqZWN0LlxuICAgICAqIEByZXR1cm4ge01lc3NhZ2V9IFJldHVybnMgdGhlIE1lc3NhZ2Ugb2JqZWN0LlxuICAgICAqL1xuICAgIG1lc3NhZ2Uob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSBuZXcgTWVzc2FnZShPYmplY3QuYXNzaWduKHt0aGVtZTogdGhpcy50aGVtZX0sIG9wdHMsIHthcHA6IHRoaXN9KSlcbiAgICAgICAgdGhpcy5zY2VuZS5hZGRDaGlsZChtZXNzYWdlKVxuXG4gICAgICAgIHJldHVybiBtZXNzYWdlXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgc3ByaXRlcywgZS5nLiBpbWFnZXMgaW50byB0aGUgUElYSSBUZXh0dXJlQ2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xzdHJpbmdbXX0gcmVzb3VyY2VzIC0gQSBTdHJpbmcgb3IgYW4gQXJyYXkgb2YgdXJscyB0byB0aGUgaW1hZ2VzIHRvIGxvYWQuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2xvYWRlZF0gLSBBIGNhbGxiYWNrIHdoaWNoIGlzIGV4ZWN1dGVkIGFmdGVyIGFsbCByZXNvdXJjZXMgaGFzIGJlZW4gbG9hZGVkLlxuICAgICAqICAgICBSZWNlaXZlcyBvbmUgcGFyYW10ZXIsIGEgTWFwIG9mIHNwcml0ZXMgd2hlcmUgdGhlIGtleSBpcyB0aGUgcGF0aCBvZiB0aGUgaW1hZ2Ugd2hpY2ggd2FzXG4gICAgICogICAgIGxvYWRlZCBhbmQgdGhlIHZhbHVlIGlzIHRoZSBQSVhJLlNwcml0ZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IGZvciBtb3JlIHNwZWNpZmljIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yZXNvbHV0aW9uRGVwZW5kZW50PXRydWVdIC0gU2hvdWxkIHRoZSBzcHJpdGVzIGJlIGxvYWRlZCBkZXBlbmRlbnQgb2YgdGhlXG4gICAgICogICAgIHJlbmRlcmVyIHJlc29sdXRpb24/XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5wcm9ncmVzcz1mYWxzZV0gLSBTaG91bGQgYSBwcm9ncmVzcyBiYXIgZGlzcGxheSB0aGUgbG9hZGluZyBzdGF0dXM/XG4gICAgICogQHJldHVybiB7UElYSUFwcH0gVGhlIFBJWElBcHAgb2JqZWN0IGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsb2FkU3ByaXRlcyhyZXNvdXJjZXMsIGxvYWRlZCA9IG51bGwsIHtyZXNvbHV0aW9uRGVwZW5kZW50ID0gdHJ1ZSwgcHJvZ3Jlc3MgPSBmYWxzZX0gPSB7fSkge1xuXG4gICAgICAgIHRoaXMubG9hZFRleHR1cmVzKHJlc291cmNlcywgdGV4dHVyZXMgPT4ge1xuXG4gICAgICAgICAgICBsZXQgc3ByaXRlcyA9IG5ldyBNYXAoKVxuXG4gICAgICAgICAgICBmb3IgKGxldCBba2V5LCB0ZXh0dXJlXSBvZiB0ZXh0dXJlcykge1xuICAgICAgICAgICAgICAgIHNwcml0ZXMuc2V0KGtleSwgbmV3IFBJWEkuU3ByaXRlKHRleHR1cmUpKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVkLmNhbGwodGhpcywgc3ByaXRlcylcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9LCB7cmVzb2x1dGlvbkRlcGVuZGVudCwgcHJvZ3Jlc3N9KVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGV4dHVyZXMsIGUuZy4gaW1hZ2VzIGludG8gdGhlIFBJWEkgVGV4dHVyZUNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd8c3RyaW5nW119IHJlc291cmNlcyAtIEEgU3RyaW5nIG9yIGFuIEFycmF5IG9mIHVybHMgdG8gdGhlIGltYWdlcyB0byBsb2FkLlxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtsb2FkZWRdIC0gQSBjYWxsYmFjayB3aGljaCBpcyBleGVjdXRlZCBhZnRlciBhbGwgcmVzb3VyY2VzIGhhcyBiZWVuIGxvYWRlZC5cbiAgICAgKiAgICAgUmVjZWl2ZXMgb25lIHBhcmFtdGVyLCBhIE1hcCBvZiB0ZXh0dXJlcyB3aGVyZSB0aGUga2V5IGlzIHRoZSBwYXRoIG9mIHRoZSBpbWFnZSB3aGljaCB3YXNcbiAgICAgKiAgICAgbG9hZGVkIGFuZCB0aGUgdmFsdWUgaXMgdGhlIFBJWEkuVGV4dHVyZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IGZvciBtb3JlIHNwZWNpZmljIHBhcmFtZXRlcnMuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5yZXNvbHV0aW9uRGVwZW5kZW50PXRydWVdIC0gU2hvdWxkIHRoZSB0ZXh0dXJlcyBiZSBsb2FkZWQgZGVwZW5kZW50IG9mIHRoZVxuICAgICAqICAgICByZW5kZXJlciByZXNvbHV0aW9uP1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMucHJvZ3Jlc3M9ZmFsc2VdIC0gU2hvdWxkIGEgcHJvZ3Jlc3MgYmFyIGRpc3BsYXkgdGhlIGxvYWRpbmcgc3RhdHVzP1xuICAgICAqIEByZXR1cm4ge1BJWElBcHB9IFRoZSBQSVhJQXBwIG9iamVjdCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbG9hZFRleHR1cmVzKHJlc291cmNlcywgbG9hZGVkID0gbnVsbCwge3Jlc29sdXRpb25EZXBlbmRlbnQgPSB0cnVlLCBwcm9ncmVzcyA9IGZhbHNlfSA9IHt9KSB7XG5cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc291cmNlcykpIHtcbiAgICAgICAgICAgIHJlc291cmNlcyA9IFtyZXNvdXJjZXNdXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBsb2FkZXIgPSB0aGlzLmxvYWRlclxuXG4gICAgICAgIGZvciAobGV0IHJlc291cmNlIG9mIHJlc291cmNlcykge1xuXG4gICAgICAgICAgICBpZiAoIWxvYWRlci5yZXNvdXJjZXNbcmVzb3VyY2VdKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdXRpb25EZXBlbmRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlc29sdXRpb24gPSBNYXRoLnJvdW5kKHRoaXMucmVuZGVyZXIucmVzb2x1dGlvbilcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZGVyLmFkZChyZXNvdXJjZSwgcmVzb3VyY2UucmVwbGFjZSgvXFwuKFteLl0qKSQvLCAnQDJ4LiQxJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlLCByZXNvdXJjZS5yZXBsYWNlKC9cXC4oW14uXSopJC8sICdAM3guJDEnKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWRkKHJlc291cmNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwcm9ncmVzcykge1xuICAgICAgICAgICAgbG9hZGVyLm9uKCdwcm9ncmVzcycsIGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvZ3Jlc3MoZS5wcm9ncmVzcylcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICBsb2FkZXIubG9hZCgobG9hZGVyLCByZXNvdXJjZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRleHR1cmVzID0gbmV3IE1hcCgpXG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiByZXNvdXJjZXMpIHtcbiAgICAgICAgICAgICAgICB0ZXh0dXJlcy5zZXQoa2V5LCByZXNvdXJjZXNba2V5XS50ZXh0dXJlKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVkLmNhbGwodGhpcywgdGV4dHVyZXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBRdWVyaWVzIHRoZSBHcmFwaFFMIGVuZHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtxdWVyeV0gLSBUaGUgR3JhcGhRTCBxdWVyeSBzdHJpbmcuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzPXt9XSAtIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgZm9sbG93aW5nIG9wdGlvbnMgY2FuIGJlIHNldDpcbiAgICAgKiAgICAgaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2Fwb2xsby1jbGllbnQtYXBpLmh0bWwjQXBvbGxvQ2xpZW50LnF1ZXJ5XG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggaXMgZWl0aGVyIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdGluZyBkYXRhIG9yXG4gICAgICogICAgIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAgICovXG4gICAgcXVlcnkocXVlcnksIG9wdHMgPSB7fSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgcXVlcnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge3F1ZXJ5fSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBxdWVyeSlcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMucXVlcnkgPSBvcHRzLnF1ZXJ5LnRyaW0oKVxuXG4gICAgICAgIGlmICghb3B0cy5xdWVyeS5zdGFydHNXaXRoKCdxdWVyeScpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5xdWVyeS5zdGFydHNXaXRoKCd7JykpIHtcbiAgICAgICAgICAgICAgICBvcHRzLnF1ZXJ5ID0gYHF1ZXJ5ICR7b3B0cy5xdWVyeX1gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMucXVlcnkgPSBgcXVlcnkgeyR7b3B0cy5xdWVyeX19YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5xdWVyeSA9IGdxbChvcHRzLnF1ZXJ5KVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFwb2xsb0NsaWVudC5xdWVyeShvcHRzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11dGF0ZSB0aGUgR3JhcGhRTCBlbmRwb2ludC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbXV0YXRpb25dIC0gVGhlIEdyYXBoUUwgbXV0YXRpb24gc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0cz17fV0gLSBBbiBvcHRpb25zIG9iamVjdC4gVGhlIGZvbGxvd2luZyBvcHRpb25zIGNhbiBiZSBzZXQ6XG4gICAgICogICAgIGh0dHA6Ly9kZXYuYXBvbGxvZGF0YS5jb20vY29yZS9hcG9sbG8tY2xpZW50LWFwaS5odG1sI0Fwb2xsb0NsaWVudC5tdXRhdGVcbiAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBSZXR1cm5zIGEgUHJvbWlzZSB3aGljaCBpcyBlaXRoZXIgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0aW5nIGRhdGEgb3JcbiAgICAgKiAgICAgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAgICAgKi9cbiAgICBtdXRhdGUobXV0YXRpb24sIG9wdHMgPSB7fSkge1xuXG4gICAgICAgIGlmICh0eXBlb2YgbXV0YXRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge211dGF0aW9ufSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCBtdXRhdGlvbilcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMubXV0YXRpb24gPSBvcHRzLm11dGF0aW9uLnRyaW0oKVxuXG4gICAgICAgIGlmICghb3B0cy5tdXRhdGlvbi5zdGFydHNXaXRoKCdtdXRhdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5tdXRhdGlvbi5zdGFydHNXaXRoKCd7JykpIHtcbiAgICAgICAgICAgICAgICBvcHRzLm11dGF0aW9uID0gYG11dGF0aW9uICR7b3B0cy5tdXRhdGlvbn1gXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdHMubXV0YXRpb24gPSBgbXV0YXRpb24geyR7b3B0cy5tdXRhdGlvbn19YFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5tdXRhdGlvbiA9IGdxbChvcHRzLm11dGF0aW9uKVxuXG4gICAgICAgIHJldHVybiB0aGlzLmFwb2xsb0NsaWVudC5tdXRhdGUob3B0cylcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmUgdGhlIEdyYXBoUUwgZW5kcG9pbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N1YnNjcmlwdGlvbl0gLSBUaGUgR3JhcGhRTCBzdWJzY3JpcHRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzPXt9XSAtIEFuIG9wdGlvbnMgb2JqZWN0LiBUaGUgZm9sbG93aW5nIG9wdGlvbnMgY2FuIGJlIHNldDpcbiAgICAgKiAgICAgaHR0cDovL2Rldi5hcG9sbG9kYXRhLmNvbS9jb3JlL2Fwb2xsby1jbGllbnQtYXBpLmh0bWwjQXBvbGxvQ2xpZW50LnF1ZXJ5XG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gUmV0dXJucyBhIFByb21pc2Ugd2hpY2ggaXMgZWl0aGVyIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdGluZyBkYXRhIG9yXG4gICAgICogICAgIHJlamVjdGVkIHdpdGggYW4gZXJyb3IuXG4gICAgICovXG4gICAgc3Vic2NyaWJlKHN1YnNjcmlwdGlvbiwgb3B0cyA9IHt9KSB7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzdWJzY3JpcHRpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cywge3N1YnNjcmlwdGlvbn0pXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgc3Vic2NyaXB0aW9uKVxuICAgICAgICB9XG5cbiAgICAgICAgb3B0cy5zdWJzY3JpcHRpb24gPSBvcHRzLnN1YnNjcmlwdGlvbi50cmltKClcblxuICAgICAgICBpZiAoIW9wdHMuc3Vic2NyaXB0aW9uLnN0YXJ0c1dpdGgoJ3N1YnNjcmlwdGlvbicpKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zdWJzY3JpcHRpb24uc3RhcnRzV2l0aCgneycpKSB7XG4gICAgICAgICAgICAgICAgb3B0cy5zdWJzY3JpcHRpb24gPSBgc3Vic2NyaXB0aW9uICR7b3B0cy5zdWJzY3JpcHRpb259YFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzLnN1YnNjcmlwdGlvbiA9IGBzdWJzY3JpcHRpb24geyR7b3B0cy5zdWJzY3JpcHRpb259fWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG9wdHMucXVlcnkgPSBncWwob3B0cy5zdWJzY3JpcHRpb24pXG5cbiAgICAgICAgZGVsZXRlIG9wdHMuc3Vic2NyaXB0aW9uXG5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXBvbGxvQ2xpZW50LnN1YnNjcmliZShvcHRzKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFN1cHBvcnRzIHRoZSBwYWdlIGFzIGEgZ2xvYmFsIGNvb3JkaW5hdGUgc3lzdGVtIGFuZCBjb252ZXJ0cyBicm93c2VyIHBhZ2UgY29vcmRpbmF0ZXNcbiAgICAgKiB0byBsb2NhbCBEaXNwbGF5T2JqZWN0IGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtEaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIFBJWEkgZGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geCAtIFRoZSB4IGNvb3JkaW5hdGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHkgLSBUaGUgeSBjb29yZGluYXRlLlxuICAgICAqICBcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlBvaW50fSBSZXR1cm5zIGEgUElYSS5Qb2ludC5cbiAgICAgKi9cblxuICAgIGNvbnZlcnRQb2ludEZyb21QYWdlVG9Ob2RlKGRpc3BsYXlPYmplY3QsIHgsIHkpIHtcbiAgICAgICAgbGV0IHJlc29sdXRpb24gPSB0aGlzLnJlbmRlcmVyLnJlc29sdXRpb25cbiAgICAgICAgY29uc29sZS5sb2coXCJyZXNvbHV0aW9uXCIsIHJlc29sdXRpb24pXG4gICAgICAgIGxldCBwaXhpR2xvYmFsID0gd2luZG93LmNvbnZlcnRQb2ludEZyb21QYWdlVG9Ob2RlKGFwcC52aWV3LCAgeCwgeSlcbiAgICAgICAgcGl4aUdsb2JhbC54IC89IHJlc29sdXRpb25cbiAgICAgICAgcGl4aUdsb2JhbC55IC89IHJlc29sdXRpb25cbiAgICAgICAgcmV0dXJuIGRpc3BsYXlPYmplY3QudG9Mb2NhbChuZXcgUElYSS5Qb2ludChwaXhpR2xvYmFsLngsIHBpeGlHbG9iYWwueSkpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU3VwcG9ydHMgdGhlIHBhZ2UgYXMgYSBnbG9iYWwgY29vcmRpbmF0ZSBzeXN0ZW0gYW5kIGNvbnZlcnRzIGxvY2FsIERpc3BsYXlPYmplY3QgY29vcmRpbmF0ZXNcbiAgICAgKiB0byBicm93c2VyIHBhZ2UgY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Rpc3BsYXlPYmplY3R9IGRpc3BsYXlPYmplY3QgLSBUaGUgUElYSSBkaXNwbGF5T2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4IC0gVGhlIHggY29vcmRpbmF0ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0geSAtIFRoZSB5IGNvb3JkaW5hdGUuXG4gICAgICogIFxuICAgICAqIEByZXR1cm4ge1BvaW50fSBSZXR1cm5zIGEgRE9NIFBvaW50LlxuICAgICAqL1xuXG4gICAgY29udmVydFBvaW50RnJvbU5vZGVUb1BhZ2UoZGlzcGxheU9iamVjdCwgeCwgeSkge1xuICAgICAgICBsZXQgcmVzb2x1dGlvbiA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvblxuICAgICAgICBsZXQgcGl4aUdsb2JhbCA9IGRpc3BsYXlPYmplY3QudG9HbG9iYWwobmV3IFBJWEkuUG9pbnQoeCwgeSkpXG4gICAgICAgIHBpeGlHbG9iYWwueCAqPSByZXNvbHV0aW9uXG4gICAgICAgIHBpeGlHbG9iYWwueSAqPSByZXNvbHV0aW9uXG4gICAgICAgLy8gY29uc29sZS5sb2coXCJhcHAuY29udmVydFBvaW50RnJvbU5vZGVUb1BhZ2VcIiwgcGl4aUdsb2JhbClcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5jb252ZXJ0UG9pbnRGcm9tTm9kZVRvUGFnZShhcHAudmlldywgcGl4aUdsb2JhbC54LCBwaXhpR2xvYmFsLnkpXG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBjbGFzcyBmcHNkaXNwbGF5IHNob3dzIGluIHRoZSB1cHBlciBsZWZ0IGNvcm5lclxuICogb2YgdGhlIHJlbmRlcmVyIHRoZSBjdXJyZW50IGltYWdlIHJlZnJlc2ggcmF0ZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkdyYXBoaWNzXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuR3JhcGhpY3MuaHRtbHxQSVhJLkdyYXBoaWNzfVxuICovXG5jbGFzcyBGcHNEaXNwbGF5IGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgRnBzRGlzcGxheS5cbiAgICAgKlxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7UElYSUFwcH0gYXBwIC0gVGhlIFBJWElBcHAgd2hlcmUgdGhlIGZyYW1lcyBwZXIgc2Vjb25kIHNob3VsZCBiZSBkaXNwbGF5ZWQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoYXBwKSB7XG5cbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIHRoaXMuYXBwID0gYXBwXG5cbiAgICAgICAgdGhpcy5saW5lU3R5bGUoMywgMHg0MzRmNGYsIDEpXG4gICAgICAgICAgICAuYmVnaW5GaWxsKDB4NDM0ZjRmLCAuNilcbiAgICAgICAgICAgIC5kcmF3Um91bmRlZFJlY3QoMCwgMCwgNjgsIDMyLCA1KVxuICAgICAgICAgICAgLmVuZEZpbGwoKVxuICAgICAgICAgICAgLnBvc2l0aW9uLnNldCgyMCwgMjApXG5cbiAgICAgICAgdGhpcy50ZXh0ID0gbmV3IFBJWEkuVGV4dCh0aGlzLmZwcywgbmV3IFBJWEkuVGV4dFN0eWxlKHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgICAgICBmb250V2VpZ2h0OiAnYm9sZCcsXG4gICAgICAgICAgICBmaWxsOiAnI2Y2ZjZmNicsXG4gICAgICAgICAgICBzdHJva2U6ICcjNDM0ZjRmJyxcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xuICAgICAgICB9KSlcbiAgICAgICAgdGhpcy50ZXh0LnBvc2l0aW9uLnNldCg2LCA2KVxuXG4gICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50ZXh0KVxuXG4gICAgICAgIHRoaXMucmVmcmVzaEZwcygpXG5cbiAgICAgICAgd2luZG93LnNldEludGVydmFsKHRoaXMucmVmcmVzaEZwcy5iaW5kKHRoaXMpLCAxMDAwKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZnJlc2hlcyBmcHMgbnVtZXIuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtQSVhJQXBwfSBSZXR1cm5zIHRoZSBQSVhJQXBwIG9iamVjdCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgcmVmcmVzaEZwcygpIHtcbiAgICAgICAgdGhpcy50ZXh0LnRleHQgPSBgJHsodGhpcy5hcHAudGlja2VyLkZQUykudG9GaXhlZCgxKX0gZnBzYFxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxufVxuIiwiLyoqXG4gKiBBIEdhdXNzaWFuIGJsdXIgZmlsdGVyLiBXaXRoIHRoaXMgZmlsdGVyLCB5b3UgY2FuIGJsdXIgYW4gYXJlYSBvZiBhIFBJWEkuRGlzcGxheU9iamVjdC4gVGhpcyBjYW5ub3RcbiAqIGJlIGRvbmUgd2l0aCB0aGUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgKHdoZW4geW91IHVzZSB0aGUgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIgd2l0aFxuICogYW4gZmlsdGVyIGFyZWEsIGFsbCBwaXhlbHMgb3V0c2lkZSBvZiB0aGUgYXJlYSBhcmUgbm90IGRpc3BsYXllZCkuIEF0dGVudGlvbjogVGhlIGFyZWEgb2ZcbiAqIHRoZSBmaWx0ZXIgaXMgYWx3YXlzIGluIGdsb2JhbCBzY29wZSwgTk9UIHJlbGF0aXZlIHRvIHRoZSBQSVhJLkRpc3BsYXlPYmplY3QgdGhlIGZpbHRlclxuICogaXMgYXNzaWduZWQgdG8hXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA0ODAsXG4gKiAgICAgaGVpZ2h0OiAyNzAsXG4gKiAgICAgdHJhbnNwYXJlbnQ6IGZhbHNlXG4gKiB9KS5zZXR1cCgpLnJ1bigpXG4gKiBcbiAqIC8vIEFkZCBhIHZpZGVvIHNwcml0ZVxuICogY29uc3Qgc3ByaXRlID0gbmV3IFBJWEkuU3ByaXRlKFBJWEkuVGV4dHVyZS5mcm9tVmlkZW8oXCJhc3NldHMvYmx1cmZpbHRlci5tcDRcIikpXG4gKiBzcHJpdGUud2lkdGggPSBhcHAuc2l6ZS53aWR0aFxuICogc3ByaXRlLmhlaWdodCA9IGFwcC5zaXplLmhlaWdodFxuICogYXBwLnNjZW5lLmFkZENoaWxkKHNwcml0ZSlcbiAqIFxuICogLy8gQ3JlYXRlIHRoZSBmaWx0ZXIgYW5kIGFzc2lnbiBpdCB0byB0aGUgc2NlbmVcbiAqIGNvbnN0IGJsdXJGaWx0ZXIgPSBuZXcgQmx1ckZpbHRlcihuZXcgUElYSS5SZWN0YW5nbGUoMjAsIDIwLCA4MCwgNjApKVxuICogYXBwLnNjZW5lLmZpbHRlcnMgPSBbYmx1ckZpbHRlcl1cbiAqIFxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQHBhcmFtIHtQSVhJLlJlY3RhbmdsZXxQSVhJLkRpc3BsYXlPYmplY3R9IHJlY3RhbmdsZSBUaGUgYXJlYSB3aGVyZSB0aGUgYmx1ciBlZmZlY3Qgc2hvdWxkIGJlIGFwcGxpZWQgdG8uIFJlbGF0aXZlIHRvIHRoZVxuICogICAgIGNhbnZhcywgTk9UIHJlbGF0aXZlIHRvIHRoZSBQSVhJLkRpc3BsYXlPYmplY3Qgd2hlcmUgdGhlIGJsdXIgZWZmZWN0IGlzIGFzc2lnbmVkIHRvIVxuICogQHBhcmFtIHtudW1iZXJ9IFtibHVyPTUwXSBUaGUgc3RyZW5ndGggb2YgdGhlIGJsdXIuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJsdXJGaWx0ZXIgZXh0ZW5kcyBQSVhJLkZpbHRlciB7XG4gICAgXG4gICAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBibHVyID0gNTApIHtcbiAgICAgICAgc3VwZXIoKVxuXG4gICAgICAgIGlmIChyZWN0YW5nbGUgaW5zdGFuY2VvZiBQSVhJLkRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgICAgIHJlY3RhbmdsZSA9IHJlY3RhbmdsZS5nZXRCb3VuZHMoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWx0U2hpZnRYRmlsdGVyID0gbmV3IFRpbHRTaGlmdFhGaWx0ZXIocmVjdGFuZ2xlLCBibHVyKVxuICAgICAgICB0aGlzLnRpbHRTaGlmdFlGaWx0ZXIgPSBuZXcgVGlsdFNoaWZ0WUZpbHRlcihyZWN0YW5nbGUsIGJsdXIpXG4gICAgfVxuXG4gICAgYXBwbHkoZmlsdGVyTWFuYWdlciwgaW5wdXQsIG91dHB1dCkge1xuICAgICAgICBsZXQgcmVuZGVyVGFyZ2V0ID0gZmlsdGVyTWFuYWdlci5nZXRSZW5kZXJUYXJnZXQodHJ1ZSlcbiAgICAgICAgdGhpcy50aWx0U2hpZnRYRmlsdGVyLmFwcGx5KGZpbHRlck1hbmFnZXIsIGlucHV0LCByZW5kZXJUYXJnZXQpXG4gICAgICAgIHRoaXMudGlsdFNoaWZ0WUZpbHRlci5hcHBseShmaWx0ZXJNYW5hZ2VyLCByZW5kZXJUYXJnZXQsIG91dHB1dClcbiAgICAgICAgZmlsdGVyTWFuYWdlci5yZXR1cm5SZW5kZXJUYXJnZXQocmVuZGVyVGFyZ2V0KVxuICAgICAgICAvL2NvbnNvbGUubG9nKGZpbHRlck1hbmFnZXIpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCBibHVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aWx0U2hpZnRYRmlsdGVyLmJsdXJcbiAgICB9XG4gICAgc2V0IGJsdXIodmFsdWUpIHtcbiAgICAgICAgdGhpcy50aWx0U2hpZnRYRmlsdGVyLmJsdXIgPSB0aGlzLnRpbHRTaGlmdFlGaWx0ZXIuYmx1ciA9IHZhbHVlXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBibHVyIHJlY3RhbmdsZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge1BJWEkuUmVjdGFuZ2xlfVxuICAgICAqL1xuICAgIGdldCByZWN0YW5nbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbHRTaGlmdFhGaWx0ZXIucmVjdGFuZ2xlXG4gICAgfVxuICAgIHNldCByZWN0YW5nbGUodmFsdWUpIHtcbiAgICAgICAgXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFBJWEkuRGlzcGxheU9iamVjdCkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5nZXRCb3VuZHMoKVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50aWx0U2hpZnRYRmlsdGVyLnJlY3RhbmdsZSA9IHRoaXMudGlsdFNoaWZ0WUZpbHRlci5yZWN0YW5nbGUgPSB2YWx1ZVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIFRpbHRTaGlmdEF4aXNGaWx0ZXIuXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkZpbHRlclxuICogQGFic3RyYWN0XG4gKiBAcHJpdmF0ZVxuICovXG5jbGFzcyBUaWx0U2hpZnRBeGlzRmlsdGVyIGV4dGVuZHMgUElYSS5GaWx0ZXIge1xuXG4gICAgY29uc3RydWN0b3IocmVjdGFuZ2xlLCBibHVyKXtcblxuICAgICAgICBjb25zdCB2ZXJ0ZXggPSBgXG4gICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMiBhVmVydGV4UG9zaXRpb247XG4gICAgICAgICAgICBhdHRyaWJ1dGUgdmVjMiBhVGV4dHVyZUNvb3JkO1xuXG4gICAgICAgICAgICB1bmlmb3JtIG1hdDMgcHJvamVjdGlvbk1hdHJpeDtcblxuICAgICAgICAgICAgdmFyeWluZyB2ZWMyIHZUZXh0dXJlQ29vcmQ7XG5cbiAgICAgICAgICAgIHZvaWQgbWFpbih2b2lkKSB7XG4gICAgICAgICAgICAgICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChwcm9qZWN0aW9uTWF0cml4ICogdmVjMyhhVmVydGV4UG9zaXRpb24sIDEuMCkpLnh5LCAwLjAsIDEuMCk7XG4gICAgICAgICAgICAgICAgdlRleHR1cmVDb29yZCA9IGFUZXh0dXJlQ29vcmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIGBcblxuICAgICAgICBjb25zdCBmcmFnbWVudCA9IGBcbiAgICAgICAgICAgIHZhcnlpbmcgdmVjMiB2VGV4dHVyZUNvb3JkO1xuXG4gICAgICAgICAgICB1bmlmb3JtIHZlYzQgZmlsdGVyQXJlYTtcbiAgICAgICAgICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVTYW1wbGVyO1xuICAgICAgICAgICAgdW5pZm9ybSB2ZWM0IHJlY3RhbmdsZTtcbiAgICAgICAgICAgIHVuaWZvcm0gZmxvYXQgYmx1cjtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMiBkZWx0YTtcbiAgICAgICAgICAgIHVuaWZvcm0gdmVjMiB0ZXhTaXplO1xuXG4gICAgICAgICAgICBmbG9hdCByYW5kb20odmVjMyBzY2FsZSwgZmxvYXQgc2VlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcmFjdChzaW4oZG90KGdsX0ZyYWdDb29yZC54eXogKyBzZWVkLCBzY2FsZSkpICogNDM3NTguNTQ1MyArIHNlZWQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2b2lkIG1haW4odm9pZCkge1xuICAgICAgICAgICAgICAgIC8vIHRleHR1cmVDb29yZCB0byBwaXhlbENvb3JkXG4gICAgICAgICAgICAgICAgdmVjMiBwaXhlbENvb3JkID0gdlRleHR1cmVDb29yZCAqIGZpbHRlckFyZWEueHkgLSB2ZWMyKDQuMCwgNC4wKTsgICAvLyBGSVhNRTogVGhlcmUncyBhIHNoaWZ0IG9mIDQgKiA0IHBpeGVscywgZG9uJ3Qga25vdyB3aHkuLi5cblxuICAgICAgICAgICAgICAgIGlmIChwaXhlbENvb3JkLnggPj0gcmVjdGFuZ2xlLnggJiYgcGl4ZWxDb29yZC54IDw9IHJlY3RhbmdsZS56ICYmIHBpeGVsQ29vcmQueSA+PSByZWN0YW5nbGUueSAmJiBwaXhlbENvb3JkLnkgPD0gcmVjdGFuZ2xlLncpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVjNCBjb2xvciA9IHZlYzQoMC4wKTtcbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgdG90YWwgPSAwLjA7XG5cbiAgICAgICAgICAgICAgICAgICAgZmxvYXQgb2Zmc2V0ID0gcmFuZG9tKHZlYzMoMTIuOTg5OCwgNzguMjMzLCAxNTEuNzE4MiksIDAuMCk7XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChmbG9hdCB0ID0gLTMwLjA7IHQgPD0gMzAuMDsgdCsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbG9hdCBwZXJjZW50ID0gKHQgKyBvZmZzZXQgLSAwLjUpIC8gMzAuMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsb2F0IHdlaWdodCA9IDEuMCAtIGFicyhwZXJjZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlYzQgc2FtcGxlID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB2VGV4dHVyZUNvb3JkICsgZGVsdGEgLyB0ZXhTaXplICogcGVyY2VudCAqIGJsdXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2FtcGxlLnJnYiAqPSBzYW1wbGUuYTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yICs9IHNhbXBsZSAqIHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IHdlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IGNvbG9yIC8gdG90YWw7XG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvci5yZ2IgLz0gZ2xfRnJhZ0NvbG9yLmEgKyAwLjAwMDAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdsX0ZyYWdDb2xvciA9IHRleHR1cmUyRCh1U2FtcGxlciwgdmVjMih2VGV4dHVyZUNvb3JkLnMsIHZUZXh0dXJlQ29vcmQudCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgYFxuXG4gICAgICAgIHN1cGVyKHZlcnRleCwgZnJhZ21lbnQpXG5cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5yZWN0YW5nbGUgPSBbcmVjdGFuZ2xlLmxlZnQsIHJlY3RhbmdsZS50b3AsIHJlY3RhbmdsZS5yaWdodCwgcmVjdGFuZ2xlLmJvdHRvbV1cbiAgICAgICAgdGhpcy51bmlmb3Jtcy5ibHVyID0gYmx1clxuICAgICAgICB0aGlzLnVuaWZvcm1zLmRlbHRhID0gbmV3IFBJWEkuUG9pbnQoMCwgMClcbiAgICAgICAgdGhpcy51bmlmb3Jtcy50ZXhTaXplID0gbmV3IFBJWEkuUG9pbnQoNDgwLCAyNzApXG5cbiAgICAgICAgdGhpcy51cGRhdGVEZWx0YSgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIHN0cmVuZ3RoIG9mIHRoZSBibHVyLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqIEBtZW1iZXJvZiBQSVhJLmZpbHRlcnMuVGlsdFNoaWZ0QXhpc0ZpbHRlciNcbiAgICAgKi9cbiAgICBnZXQgYmx1cigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5pZm9ybXMuYmx1clxuICAgIH1cbiAgICBzZXQgYmx1cih2YWx1ZSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLmJsdXIgPSB2YWx1ZVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgYmx1ciByZWN0YW5nbGUuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyIHtQSVhJLlJlY3RhbmdsZX1cbiAgICAgKiBAbWVtYmVyb2YgUElYSS5maWx0ZXJzLlRpbHRTaGlmdEF4aXNGaWx0ZXIjXG4gICAgICovXG4gICAgZ2V0IHJlY3RhbmdsZSgpIHtcbiAgICAgICAgY29uc3QgcmVjdCA9IHRoaXMudW5pZm9ybXMucmVjdGFuZ2xlXG4gICAgICAgIHJldHVybiBuZXcgUElYSS5SZWN0YW5nbGUocmVjdFswXSwgcmVjdFsxXSwgcmVjdFsyXSwgcmVjdFszXSlcbiAgICB9XG4gICAgc2V0IHJlY3RhbmdsZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLnVuaWZvcm1zLnJlY3RhbmdsZSA9IFt2YWx1ZS5sZWZ0LCB2YWx1ZS50b3AsIHZhbHVlLnJpZ2h0LCB2YWx1ZS5ib3R0b21dXG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGlsdFNoaWZ0WEZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGlsdFNoaWZ0QXhpc0ZpbHRlclxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVGlsdFNoaWZ0WEZpbHRlciBleHRlbmRzIFRpbHRTaGlmdEF4aXNGaWx0ZXIge1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGZpbHRlciBkZWx0YSB2YWx1ZXMuXG4gICAgICovXG4gICAgdXBkYXRlRGVsdGEoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZGVsdGEueCA9IDAuMVxuICAgICAgICB0aGlzLnVuaWZvcm1zLmRlbHRhLnkgPSAwXG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGlsdFNoaWZ0WUZpbHRlci5cbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuVGlsdFNoaWZ0QXhpc0ZpbHRlclxuICogQHByaXZhdGVcbiAqL1xuY2xhc3MgVGlsdFNoaWZ0WUZpbHRlciBleHRlbmRzIFRpbHRTaGlmdEF4aXNGaWx0ZXIge1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGZpbHRlciBkZWx0YSB2YWx1ZXMuXG4gICAgICovXG4gICAgdXBkYXRlRGVsdGEoKSB7XG4gICAgICAgIHRoaXMudW5pZm9ybXMuZGVsdGEueCA9IDBcbiAgICAgICAgdGhpcy51bmlmb3Jtcy5kZWx0YS55ID0gMC4xXG4gICAgfVxufVxuXG4iLCIvKiBnbG9iYWxzIFdlYktpdFBvaW50ICovXG5cbi8qKiBUZXN0cyB3aGV0aGVyIGFuIG9iamVjdCBpcyBlbXB0eVxuICogQHBhcmFtIHtPYmplY3R9IG9iaiAtIHRoZSBvYmplY3QgdG8gYmUgdGVzdGVkXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcbiAgICAvLyA+IGlzRW1wdHkoe30pXG4gICAgLy8gdHJ1ZVxuICAgIGZvciAobGV0IGkgaW4gb2JqKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxufVxuXG4vKiogUmV0dXJucyBhIHVuaXZlcnNhbCB1bmlxdWUgaWRcbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqIFNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvY3JlYXRlLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxOTYzMTM2IzIxOTYzMTM2XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkKCkge1xuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xuICAgICAgICBsZXQgciA9IChNYXRoLnJhbmRvbSgpICogMTYpIHwgMCxcbiAgICAgICAgICAgIHYgPSBjID09ICd4JyA/IHIgOiAociAmIDB4MykgfCAweDhcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpXG4gICAgfSlcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxlcnAoc3RhcnQsIHN0b3AsIGFtdCkge1xuICAgIHJldHVybiBhbXQgKiAoc3RvcCAtIHN0YXJ0KSArIHN0YXJ0XG59XG5cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3Rcbi8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3Jcbi8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbi8vIFRha2VuIGZyb206IGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL2Vzc2VudGlhbC1qYXZhc2NyaXB0LWZ1bmN0aW9uc1xuZXhwb3J0IGZ1bmN0aW9uIGRlYm91bmNlKGZ1bmMsIHdhaXQsIGltbWVkaWF0ZSkge1xuICAgIGxldCB0aW1lb3V0XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHRoaXMsXG4gICAgICAgICAgICBhcmdzID0gYXJndW1lbnRzXG4gICAgICAgIGxldCBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGltZW91dCA9IG51bGxcbiAgICAgICAgICAgIGlmICghaW1tZWRpYXRlKSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhbGxOb3cgPSBpbW1lZGlhdGUgJiYgIXRpbWVvdXRcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpXG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KVxuICAgICAgICBpZiAoY2FsbE5vdykgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKVxuICAgIH1cbn1cblxuLyoqIFJldHVybnMgYW4gaWQgdGhhdCBpcyBndWFyYW50ZWVkIHRvIGJlIHVuaXF1ZSB3aXRoaW4gdGhlIGxpdmV0aW1lIG9mIHRoZVxuICogYXBwbGljYXRpb25cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xubGV0IF9pZEdlbmVyYXRvciA9IDBcbmV4cG9ydCBmdW5jdGlvbiBnZXRJZCgpIHtcbiAgICByZXR1cm4gJ2lkJyArIF9pZEdlbmVyYXRvcisrXG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlcyB7XG4gICAgc3RhdGljIGNyZWF0ZShmdWxsWWVhciwgbW9udGgsIGRheSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoZnVsbFllYXIsIG1vbnRoLCBkYXkpKVxuICAgIH1cblxuICAgIHN0YXRpYyBkYXlzSW5Nb250aChkYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKVxuICAgIH1cblxuICAgIHN0YXRpYyBuZXh0WWVhcihkYXRlLCBvZmZzZXQgPSAxKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShkYXRlLmdldEZ1bGxZZWFyKCkgKyBvZmZzZXQsIDAsIDEpXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRNb250aChkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZShkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEsIDEpXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHREYXkoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUoXG4gICAgICAgICAgICBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBkYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgICBkYXRlLmdldERhdGUoKSArIDFcbiAgICAgICAgKVxuICAgIH1cblxuICAgIHN0YXRpYyBuZXh0SG91cihkYXRlKSB7XG4gICAgICAgIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEwNTA3MjAvYWRkaW5nLWhvdXJzLXRvLWphdmFzY3JpcHQtZGF0ZS1vYmplY3RcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgNjAgKiA2MCAqIDEwMDApXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRNaW51dGUoZGF0ZSkge1xuICAgICAgICAvLyBTZWUgYWJvdmVcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpICsgNjAgKiAxMDAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBuZXh0U2Vjb25kKGRhdGUpIHtcbiAgICAgICAgLy8gU2VlIGFib3ZlXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIDEwMDApXG4gICAgfVxuXG4gICAgc3RhdGljIG5leHRNaWxsaXNlY29uZChkYXRlKSB7XG4gICAgICAgIC8vIFNlZSBhYm92ZVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkgKyAxKVxuICAgIH1cblxuICAgIHN0YXRpYyAqaXRlclllYXJzKHN0YXJ0LCBlbmQpIHtcbiAgICAgICAgbGV0IGRhdGUgPSB0aGlzLmNyZWF0ZShzdGFydC5nZXRGdWxsWWVhcigpLCAwLCAxKVxuICAgICAgICB3aGlsZSAoZGF0ZSA8PSBlbmQpIHtcbiAgICAgICAgICAgIHlpZWxkIGRhdGVcbiAgICAgICAgICAgIGRhdGUgPSB0aGlzLm5leHRZZWFyKGRhdGUpXG4gICAgICAgIH1cbiAgICAgICAgeWllbGQgZGF0ZVxuICAgIH1cblxuICAgIHN0YXRpYyAqaXRlck1vbnRocyh5ZWFyLCBsaW1pdCA9IDEyKSB7XG4gICAgICAgIGxldCBtb250aCA9IDBcbiAgICAgICAgd2hpbGUgKG1vbnRoIDwgbGltaXQpIHtcbiAgICAgICAgICAgIGxldCBkYXRlID0gdGhpcy5jcmVhdGUoeWVhci5nZXRGdWxsWWVhcigpLCBtb250aCwgMSlcbiAgICAgICAgICAgIHlpZWxkIGRhdGVcbiAgICAgICAgICAgIG1vbnRoICs9IDFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyAqaXRlck1vbnRoc09mWWVhcnMoeWVhcnMpIHtcbiAgICAgICAgZm9yIChsZXQgeWVhciBvZiB5ZWFycykge1xuICAgICAgICAgICAgZm9yIChsZXQgbW9udGggb2YgdGhpcy5pdGVyTW9udGhzKHllYXIpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgbW9udGhcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyAqaXRlckRheXMobW9udGgpIHtcbiAgICAgICAgbGV0IGRheSA9IDFcbiAgICAgICAgbGV0IGxpbWl0ID0gRGF0ZXMuZGF5c0luTW9udGgobW9udGgpXG4gICAgICAgIHdoaWxlIChkYXkgPD0gbGltaXQpIHtcbiAgICAgICAgICAgIGxldCBkYXRlID0gdGhpcy5jcmVhdGUobW9udGguZ2V0RnVsbFllYXIoKSwgbW9udGguZ2V0TW9udGgoKSwgZGF5KVxuICAgICAgICAgICAgeWllbGQgZGF0ZVxuICAgICAgICAgICAgZGF5ICs9IDFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyAqaXRlckRheXNPZk1vbnRocyhtb250aHMpIHtcbiAgICAgICAgZm9yIChsZXQgbW9udGggb2YgbW9udGhzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkYXkgb2YgdGhpcy5pdGVyRGF5cyhtb250aCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBkYXlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbi8qIENvbG9yIGNvbnZlcnNpb24gZnVuY3Rpb25zICovXG5cbmV4cG9ydCBjbGFzcyBDb2xvcnMge1xuICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNTYyMzgzOC9yZ2ItdG8taGV4LWFuZC1oZXgtdG8tcmdiXG5cbiAgICBzdGF0aWMgcmdiMm51bShyZWQsIGdyZWVuLCBibHVlKSB7XG4gICAgICAgIGxldCByZ2IgPSBibHVlIHwgKGdyZWVuIDw8IDgpIHwgKHJlZCA8PCAxNilcbiAgICAgICAgcmV0dXJuIDB4MDAwMDAwICsgcmdiXG4gICAgfVxuXG4gICAgc3RhdGljIHJnYjJoZXgocmVkLCBncmVlbiwgYmx1ZSkge1xuICAgICAgICBsZXQgcmdiID0gYmx1ZSB8IChncmVlbiA8PCA4KSB8IChyZWQgPDwgMTYpXG4gICAgICAgIHJldHVybiAnIycgKyAoMHgxMDAwMDAwICsgcmdiKS50b1N0cmluZygxNikuc2xpY2UoMSlcbiAgICB9XG5cbiAgICBzdGF0aWMgaGV4MnJnYihoZXgpIHtcbiAgICAgICAgLy8gbG9uZyB2ZXJzaW9uXG4gICAgICAgIGxldCByID0gaGV4Lm1hdGNoKC9eIyhbMC05YS1mXXsyfSkoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KSQvaSlcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIHJldHVybiByLnNsaWNlKDEsIDQpLm1hcCh4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoeCwgMTYpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIC8vIHNob3J0IHZlcnNpb25cbiAgICAgICAgciA9IGhleC5tYXRjaCgvXiMoWzAtOWEtZl0pKFswLTlhLWZdKShbMC05YS1mXSkkL2kpXG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICByZXR1cm4gci5zbGljZSgxLCA0KS5tYXAoeCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDB4MTEgKiBwYXJzZUludCh4LCAxNilcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBzdGF0aWMgcmdiKHIsIGcsIGIpIHtcbiAgICAgICAgcmV0dXJuIHtyLCBnLCBifVxuICAgIH1cblxuICAgIHN0YXRpYyBsZXJwKHJnYjEsIHJnYjIsIGFtb3VudCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogTWF0aC5yb3VuZChsZXJwKHJnYjEuciwgcmdiMi5yLCBhbW91bnQpKSxcbiAgICAgICAgICAgIGc6IE1hdGgucm91bmQobGVycChyZ2IxLmcsIHJnYjIuZywgYW1vdW50KSksXG4gICAgICAgICAgICBiOiBNYXRoLnJvdW5kKGxlcnAocmdiMS5iLCByZ2IyLmIsIGFtb3VudCkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0IHZpb2xldCgpIHtcbiAgICAgICAgcmV0dXJuIENvbG9ycy5yZ2IybnVtKDg5LCAzNCwgMTMxKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc3RlZWxibHVlKCkge1xuICAgICAgICByZXR1cm4gQ29sb3JzLnJnYjJudW0oMCwgMTMwLCAxNjQpXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBvY2hyZSgpIHtcbiAgICAgICAgcmV0dXJuIENvbG9ycy5yZ2IybnVtKDE4MSwgMTU3LCAwKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgdHVycXVvaXNlKCkge1xuICAgICAgICByZXR1cm4gQ29sb3JzLnJnYjJudW0oMzQsIDE2NCwgMTMxKVxuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW1pbmVuY2UoKSB7XG4gICAgICAgIHJldHVybiBDb2xvcnMucmdiMm51bSgxNTAsIDYwLCAxMzQpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQ3ljbGUgZXh0ZW5kcyBBcnJheSB7XG4gICAgY29uc3RydWN0b3IoLi4uaXRlbXMpIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goaXRlbSlcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluZGV4ID0gMFxuICAgIH1cblxuICAgIG5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLmluZGV4ID09IHRoaXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gMFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzW3RoaXMuaW5kZXgrK11cbiAgICB9XG5cbiAgICBjdXJyZW50KCkge1xuICAgICAgICBpZiAodGhpcy5pbmRleCA9PT0gdGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXggPSAwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbdGhpcy5pbmRleF1cbiAgICB9XG59XG5cbi8qKiBTdGF0aWMgbWV0aG9kcyB0byBjb21wdXRlIDJEIHBvaW50cyB3aXRoIHggYW5kIHkgY29vcmRpbmF0ZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBQb2ludHMge1xuICAgIHN0YXRpYyBsZW5ndGgoYSkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGEueCAqIGEueCArIGEueSAqIGEueSlcbiAgICB9XG5cbiAgICBzdGF0aWMgbm9ybWFsaXplKHApIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMubGVuZ3RoKHApXG4gICAgICAgIHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKHAsIDEgLyBsZW4pXG4gICAgfVxuXG4gICAgc3RhdGljIG1lYW4oYSwgYikge1xuICAgICAgICByZXR1cm4ge3g6IChhLnggKyBiLngpIC8gMiwgeTogKGEueSArIGIueSkgLyAyfVxuICAgIH1cblxuICAgIHN0YXRpYyBzdWJ0cmFjdChhLCBiKSB7XG4gICAgICAgIHJldHVybiB7eDogYS54IC0gYi54LCB5OiBhLnkgLSBiLnl9XG4gICAgfVxuXG4gICAgc3RhdGljIG11bHRpcGx5KGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIHt4OiBhLnggKiBiLngsIHk6IGEueSAqIGIueX1cbiAgICB9XG5cbiAgICBzdGF0aWMgbXVsdGlwbHlTY2FsYXIoYSwgYikge1xuICAgICAgICByZXR1cm4ge3g6IGEueCAqIGIsIHk6IGEueSAqIGJ9XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZChhLCBiKSB7XG4gICAgICAgIHJldHVybiB7eDogYS54ICsgYi54LCB5OiBhLnkgKyBiLnl9XG4gICAgfVxuXG4gICAgc3RhdGljIG5lZ2F0ZShwKSB7XG4gICAgICAgIHJldHVybiB7eDogLXAueCwgeTogLXAueX1cbiAgICB9XG5cbiAgICBzdGF0aWMgYW5nbGUocDEsIHAyKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHAxLnkgLSBwMi55LCBwMS54IC0gcDIueClcbiAgICB9XG5cbiAgICBzdGF0aWMgYXJjKHAsIGFscGhhLCByYWRpdXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHg6IHAueCArIHJhZGl1cyAqIE1hdGguY29zKGFscGhhKSxcbiAgICAgICAgICAgIHk6IHAueSArIHJhZGl1cyAqIE1hdGguc2luKGFscGhhKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGRpc3RhbmNlKGEsIGIpIHtcbiAgICAgICAgbGV0IGR4ID0gYS54IC0gYi54XG4gICAgICAgIGxldCBkeSA9IGEueSAtIGIueVxuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KGR4ICogZHggKyBkeSAqIGR5KVxuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tUGFnZVRvTm9kZShlbGVtZW50LCBwKSB7XG4gICAgICAgIC8vICAgIGlmICh3aW5kb3cud2Via2l0Q29udmVydFBvaW50RnJvbVBhZ2VUb05vZGUpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy53ZWJraXRDb252ZXJ0UG9pbnRGcm9tUGFnZVRvTm9kZShlbGVtZW50LFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFdlYktpdFBvaW50KHAueCwgcC55KSlcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuY29udmVydFBvaW50RnJvbVBhZ2VUb05vZGUoZWxlbWVudCwgcC54LCBwLnkpXG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Ob2RlVG9QYWdlKGVsZW1lbnQsIHApIHtcbiAgICAgICAgLy8gIGlmICh3aW5kb3cud2Via2l0Q29udmVydFBvaW50RnJvbU5vZGVUb1BhZ2UpIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy53ZWJraXRDb252ZXJ0UG9pbnRGcm9tTm9kZVRvUGFnZShlbGVtZW50LFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFdlYktpdFBvaW50KHAueCwgcC55KSlcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIHJldHVybiB3aW5kb3cuY29udmVydFBvaW50RnJvbU5vZGVUb1BhZ2UoZWxlbWVudCwgcC54LCBwLnkpXG4gICAgfVxufVxuXG4vKiogU3RhdGljIG1ldGhvZHMgdG8gY29tcHV0ZSBhbmdsZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBBbmdsZSB7XG4gICAgc3RhdGljIG5vcm1hbGl6ZShhbmdsZSkge1xuICAgICAgICBsZXQgdHdvUEkgPSBNYXRoLlBJICogMi4wXG4gICAgICAgIHdoaWxlIChhbmdsZSA+IE1hdGguUEkpIHtcbiAgICAgICAgICAgIGFuZ2xlIC09IHR3b1BJXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFuZ2xlIDwgLU1hdGguUEkpIHtcbiAgICAgICAgICAgIGFuZ2xlICs9IHR3b1BJXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuZ2xlXG4gICAgfVxuXG4gICAgc3RhdGljIG5vcm1hbGl6ZURlZ3JlZShhbmdsZSkge1xuICAgICAgICBsZXQgZnVsbCA9IDM2MC4wXG4gICAgICAgIHdoaWxlIChhbmdsZSA+IDE4MC4wKSB7XG4gICAgICAgICAgICBhbmdsZSAtPSBmdWxsXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGFuZ2xlIDwgLTE4MC4wKSB7XG4gICAgICAgICAgICBhbmdsZSArPSBmdWxsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFuZ2xlXG4gICAgfVxuXG4gICAgc3RhdGljIGRpZmYoYSwgYikge1xuICAgICAgICByZXR1cm4gQW5nbGUubm9ybWFsaXplKE1hdGguYXRhbjIoTWF0aC5zaW4oYSAtIGIpLCBNYXRoLmNvcyhhIC0gYikpKVxuICAgIH1cblxuICAgIHN0YXRpYyBkZWdyZWUycmFkaWFuKGRlZ3JlZSkge1xuICAgICAgICByZXR1cm4gTWF0aC5QSSAqIGRlZ3JlZSAvIDE4MC4wXG4gICAgfVxuXG4gICAgc3RhdGljIHJhZGlhbjJkZWdyZWUocmFkKSB7XG4gICAgICAgIHJldHVybiAxODAuMCAvIE1hdGguUEkgKiByYWRcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBFbGVtZW50cyB7XG4gICAgc3RhdGljIHNldFN0eWxlKGVsZW1lbnQsIHN0eWxlcykge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gc3R5bGVzKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW2tleV0gPSBzdHlsZXNba2V5XVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZENsYXNzKGVsZW1lbnQsIGNzc0NsYXNzKSB7XG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzcylcbiAgICB9XG5cbiAgICBzdGF0aWMgcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3MpIHtcbiAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNzc0NsYXNzKVxuICAgIH1cblxuICAgIHN0YXRpYyB0b2dnbGVDbGFzcyhlbGVtZW50LCBjc3NDbGFzcykge1xuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoY3NzQ2xhc3MpXG4gICAgfVxuXG4gICAgc3RhdGljIGhhc0NsYXNzKGVsZW1lbnQsIGNzc0NsYXNzKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjc3NDbGFzcylcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXBQcm94eSB7XG4gICAgLyogVGhpcyBjbGFzcyBpcyBuZWVkZWQgaWYgd2Ugd2FudCB0byB1c2UgdGhlIGludGVyYWN0aW9uIGNsYXNzZXNcbiAgICBpbiBGaXJlZm94IDQ1LjggYW5kIG1vZGVybiBCcm93c2Vycy5cblxuICAgIEEgd29ya2Fyb3VuZCBmb3IgaHR0cHM6Ly9naXRodWIuY29tL2JhYmVsL2JhYmVsL2lzc3Vlcy8yMzM0XG4gICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpXG4gICAgfVxuXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5zaXplXG4gICAgfVxuXG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZ2V0KGtleSlcbiAgICB9XG5cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuc2V0KGtleSwgdmFsdWUpXG4gICAgfVxuXG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tYXAuZGVsZXRlKGtleSlcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmNsZWFyKClcbiAgICB9XG5cbiAgICBoYXMoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5oYXMoa2V5KVxuICAgIH1cblxuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5rZXlzKClcbiAgICB9XG5cbiAgICB2YWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC52YWx1ZXMoKVxuICAgIH1cblxuICAgIGVudHJpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5lbnRyaWVzKClcbiAgICB9XG5cbiAgICBmb3JFYWNoKGZ1bmMpIHtcbiAgICAgICAgdGhpcy5tYXAuZm9yRWFjaChmdW5jKVxuICAgIH1cbn1cblxuLyogQmFzZWQgb20gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vY3dsZW9uYXJkL2UxMjRkNjMyMzhiZGE3YTNjYmZhICovXG5leHBvcnQgY2xhc3MgUG9seWdvbiB7XG4gICAgLypcbiAgICAgKiAgVGhpcyBpcyB0aGUgUG9seWdvbiBjb25zdHJ1Y3Rvci4gQWxsIHBvaW50cyBhcmUgY2VudGVyLXJlbGF0aXZlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNlbnRlcikge1xuICAgICAgICB0aGlzLnBvaW50cyA9IG5ldyBBcnJheSgpXG4gICAgICAgIHRoaXMuY2VudGVyID0gY2VudGVyXG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgUG9pbnQgeCBhbmQgeSB2YWx1ZXMgc2hvdWxkIGJlIHJlbGF0aXZlIHRvIHRoZSBjZW50ZXIuXG4gICAgICovXG4gICAgYWRkUG9pbnQocCkge1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHApXG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgUG9pbnQgeCBhbmQgeSB2YWx1ZXMgc2hvdWxkIGJlIGFic29sdXRlIGNvb3JkaW5hdGVzLlxuICAgICAqL1xuICAgIGFkZEFic29sdXRlUG9pbnQocCkge1xuICAgICAgICB0aGlzLnBvaW50cy5wdXNoKHt4OiBwLnggLSB0aGlzLmNlbnRlci54LCB5OiBwLnkgLSB0aGlzLmNlbnRlci55fSlcbiAgICB9XG5cbiAgICAvKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBzaWRlcy4gRXF1YWwgdG8gdGhlIG51bWJlciBvZiB2ZXJ0aWNlcy5cbiAgICAgKi9cbiAgICBnZXROdW1iZXJPZlNpZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb2ludHMubGVuZ3RoXG4gICAgfVxuXG4gICAgLypcbiAgICAgKiByb3RhdGUgdGhlIHBvbHlnb24gYnkgYSBudW1iZXIgb2YgcmFkaWFuc1xuICAgICAqL1xuICAgIHJvdGF0ZShyYWRzKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy5wb2ludHNbaV0ueFxuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLnBvaW50c1tpXS55XG4gICAgICAgICAgICB0aGlzLnBvaW50c1tpXS54ID0gTWF0aC5jb3MocmFkcykgKiB4IC0gTWF0aC5zaW4ocmFkcykgKiB5XG4gICAgICAgICAgICB0aGlzLnBvaW50c1tpXS55ID0gTWF0aC5zaW4ocmFkcykgKiB4ICsgTWF0aC5jb3MocmFkcykgKiB5XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBUaGUgZHJhdyBmdW5jdGlvbiB0YWtlcyBhcyBhIHBhcmFtZXRlciBhIENvbnRleHQgb2JqZWN0IGZyb21cbiAgICAgKiAgYSBDYW52YXMgZWxlbWVudCBhbmQgZHJhd3MgdGhlIHBvbHlnb24gb24gaXQuXG4gICAgICovXG4gICAgZHJhdyhjb250ZXh0LCB7bGluZVdpZHRoID0gMiwgc3Ryb2tlID0gJyMwMDAwMDAnLCBmaWxsID0gbnVsbH0gPSB7fSkge1xuICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpXG4gICAgICAgIGNvbnRleHQubW92ZVRvKFxuICAgICAgICAgICAgdGhpcy5wb2ludHNbMF0ueCArIHRoaXMuY2VudGVyLngsXG4gICAgICAgICAgICB0aGlzLnBvaW50c1swXS55ICsgdGhpcy5jZW50ZXIueVxuICAgICAgICApXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5wb2ludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnRleHQubGluZVRvKFxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldLnggKyB0aGlzLmNlbnRlci54LFxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW2ldLnkgKyB0aGlzLmNlbnRlci55XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICAgICAgY29udGV4dC5jbG9zZVBhdGgoKVxuICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IGxpbmVXaWR0aFxuICAgICAgICBpZiAoc3Ryb2tlKSB7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gc3Ryb2tlXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbGwpIHtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gZmlsbFxuICAgICAgICAgICAgY29udGV4dC5maWxsKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFic29sdXRlUG9pbnRzKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IEFycmF5KClcbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnBvaW50cykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goUG9pbnRzLmFkZChwLCB0aGlzLmNlbnRlcikpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIGZsYXRBYnNvbHV0ZVBvaW50cygpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBBcnJheSgpXG4gICAgICAgIGZvciAobGV0IHAgb2YgdGhpcy5wb2ludHMpIHtcbiAgICAgICAgICAgIGxldCBhID0gUG9pbnRzLmFkZChwLCB0aGlzLmNlbnRlcilcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGEueClcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGEueSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLypcbiAgICAgKiAgVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBvaW50IGlzIGluc2lkZSB0aGUgcG9seWdvbixcbiAgICAgKiAgYW5kIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKi9cbiAgICBjb250YWluc1BvaW50KHBudCkge1xuICAgICAgICBsZXQgbnZlcnQgPSB0aGlzLnBvaW50cy5sZW5ndGhcbiAgICAgICAgbGV0IHRlc3R4ID0gcG50LnhcbiAgICAgICAgbGV0IHRlc3R5ID0gcG50LnlcblxuICAgICAgICBsZXQgdmVydHggPSBuZXcgQXJyYXkoKVxuICAgICAgICBmb3IgKGxldCBxID0gMDsgcSA8IHRoaXMucG9pbnRzLmxlbmd0aDsgcSsrKSB7XG4gICAgICAgICAgICB2ZXJ0eC5wdXNoKHRoaXMucG9pbnRzW3FdLnggKyB0aGlzLmNlbnRlci54KVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHZlcnR5ID0gbmV3IEFycmF5KClcbiAgICAgICAgZm9yIChsZXQgdyA9IDA7IHcgPCB0aGlzLnBvaW50cy5sZW5ndGg7IHcrKykge1xuICAgICAgICAgICAgdmVydHkucHVzaCh0aGlzLnBvaW50c1t3XS55ICsgdGhpcy5jZW50ZXIueSlcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpLFxuICAgICAgICAgICAgaiA9IDBcbiAgICAgICAgbGV0IGMgPSBmYWxzZVxuICAgICAgICBmb3IgKGkgPSAwLCBqID0gbnZlcnQgLSAxOyBpIDwgbnZlcnQ7IGogPSBpKyspIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB2ZXJ0eVtpXSA+IHRlc3R5ICE9IHZlcnR5W2pdID4gdGVzdHkgJiZcbiAgICAgICAgICAgICAgICB0ZXN0eCA8XG4gICAgICAgICAgICAgICAgICAgICh2ZXJ0eFtqXSAtIHZlcnR4W2ldKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICAodGVzdHkgLSB2ZXJ0eVtpXSkgL1xuICAgICAgICAgICAgICAgICAgICAgICAgKHZlcnR5W2pdIC0gdmVydHlbaV0pICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnR4W2ldXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgYyA9ICFjXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNcbiAgICB9XG5cbiAgICBtdWx0aXBseVNjYWxhcihzY2FsZSkge1xuICAgICAgICBsZXQgY2VudGVyID0gUG9pbnRzLm11bHRpcGx5U2NhbGFyKHRoaXMuY2VudGVyLCBzY2FsZSlcbiAgICAgICAgbGV0IGNsb25lID0gbmV3IFBvbHlnb24oY2VudGVyKVxuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMucG9pbnRzKSB7XG4gICAgICAgICAgICBjbG9uZS5hZGRQb2ludChQb2ludHMubXVsdGlwbHlTY2FsYXIocCwgc2NhbGUpKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjbG9uZVxuICAgIH1cblxuICAgIC8qXG4gICAgICogIFRvIGRldGVjdCBpbnRlcnNlY3Rpb24gd2l0aCBhbm90aGVyIFBvbHlnb24gb2JqZWN0LCB0aGlzXG4gICAgICogIGZ1bmN0aW9uIHVzZXMgdGhlIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtLiBJdCByZXR1cm5zIGZhbHNlXG4gICAgICogIGlmIHRoZXJlIGlzIG5vIGludGVyc2VjdGlvbiwgb3IgYW4gb2JqZWN0IGlmIHRoZXJlIGlzLiBUaGUgb2JqZWN0XG4gICAgICogIGNvbnRhaW5zIDIgZmllbGRzLCBvdmVybGFwIGFuZCBheGlzLiBNb3ZpbmcgdGhlIHBvbHlnb24gYnkgb3ZlcmxhcFxuICAgICAqICBvbiBheGlzIHdpbGwgZ2V0IHRoZSBwb2x5Z29ucyBvdXQgb2YgaW50ZXJzZWN0aW9uLlxuICAgICAqL1xuICAgIGludGVyc2VjdHNXaXRoKG90aGVyKSB7XG4gICAgICAgIGxldCBheGlzID0ge3g6IDAsIHk6IDB9XG4gICAgICAgIGxldCB0bXAsIG1pbkEsIG1heEEsIG1pbkIsIG1heEJcbiAgICAgICAgbGV0IHNpZGUsIGlcbiAgICAgICAgbGV0IHNtYWxsZXN0ID0gbnVsbFxuICAgICAgICBsZXQgb3ZlcmxhcCA9IDk5OTk5OTk5XG5cbiAgICAgICAgLyogdGVzdCBwb2x5Z29uIEEncyBzaWRlcyAqL1xuICAgICAgICBmb3IgKHNpZGUgPSAwOyBzaWRlIDwgdGhpcy5nZXROdW1iZXJPZlNpZGVzKCk7IHNpZGUrKykge1xuICAgICAgICAgICAgLyogZ2V0IHRoZSBheGlzIHRoYXQgd2Ugd2lsbCBwcm9qZWN0IG9udG8gKi9cbiAgICAgICAgICAgIGlmIChzaWRlID09IDApIHtcbiAgICAgICAgICAgICAgICBheGlzLnggPVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1t0aGlzLmdldE51bWJlck9mU2lkZXMoKSAtIDFdLnkgLVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1swXS55XG4gICAgICAgICAgICAgICAgYXhpcy55ID1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb2ludHNbMF0ueCAtXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzW3RoaXMuZ2V0TnVtYmVyT2ZTaWRlcygpIC0gMV0ueFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBheGlzLnggPSB0aGlzLnBvaW50c1tzaWRlIC0gMV0ueSAtIHRoaXMucG9pbnRzW3NpZGVdLnlcbiAgICAgICAgICAgICAgICBheGlzLnkgPSB0aGlzLnBvaW50c1tzaWRlXS54IC0gdGhpcy5wb2ludHNbc2lkZSAtIDFdLnhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogbm9ybWFsaXplIHRoZSBheGlzICovXG4gICAgICAgICAgICB0bXAgPSBNYXRoLnNxcnQoYXhpcy54ICogYXhpcy54ICsgYXhpcy55ICogYXhpcy55KVxuICAgICAgICAgICAgYXhpcy54IC89IHRtcFxuICAgICAgICAgICAgYXhpcy55IC89IHRtcFxuXG4gICAgICAgICAgICAvKiBwcm9qZWN0IHBvbHlnb24gQSBvbnRvIGF4aXMgdG8gZGV0ZXJtaW5lIHRoZSBtaW4vbWF4ICovXG4gICAgICAgICAgICBtaW5BID0gbWF4QSA9IHRoaXMucG9pbnRzWzBdLnggKiBheGlzLnggKyB0aGlzLnBvaW50c1swXS55ICogYXhpcy55XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgdGhpcy5nZXROdW1iZXJPZlNpZGVzKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRtcCA9IHRoaXMucG9pbnRzW2ldLnggKiBheGlzLnggKyB0aGlzLnBvaW50c1tpXS55ICogYXhpcy55XG4gICAgICAgICAgICAgICAgaWYgKHRtcCA+IG1heEEpIG1heEEgPSB0bXBcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0bXAgPCBtaW5BKSBtaW5BID0gdG1wXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjb3JyZWN0IGZvciBvZmZzZXQgKi9cbiAgICAgICAgICAgIHRtcCA9IHRoaXMuY2VudGVyLnggKiBheGlzLnggKyB0aGlzLmNlbnRlci55ICogYXhpcy55XG4gICAgICAgICAgICBtaW5BICs9IHRtcFxuICAgICAgICAgICAgbWF4QSArPSB0bXBcblxuICAgICAgICAgICAgLyogcHJvamVjdCBwb2x5Z29uIEIgb250byBheGlzIHRvIGRldGVybWluZSB0aGUgbWluL21heCAqL1xuICAgICAgICAgICAgbWluQiA9IG1heEIgPVxuICAgICAgICAgICAgICAgIG90aGVyLnBvaW50c1swXS54ICogYXhpcy54ICsgb3RoZXIucG9pbnRzWzBdLnkgKiBheGlzLnlcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBvdGhlci5nZXROdW1iZXJPZlNpZGVzKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRtcCA9IG90aGVyLnBvaW50c1tpXS54ICogYXhpcy54ICsgb3RoZXIucG9pbnRzW2ldLnkgKiBheGlzLnlcbiAgICAgICAgICAgICAgICBpZiAodG1wID4gbWF4QikgbWF4QiA9IHRtcFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRtcCA8IG1pbkIpIG1pbkIgPSB0bXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGNvcnJlY3QgZm9yIG9mZnNldCAqL1xuICAgICAgICAgICAgdG1wID0gb3RoZXIuY2VudGVyLnggKiBheGlzLnggKyBvdGhlci5jZW50ZXIueSAqIGF4aXMueVxuICAgICAgICAgICAgbWluQiArPSB0bXBcbiAgICAgICAgICAgIG1heEIgKz0gdG1wXG5cbiAgICAgICAgICAgIC8qIHRlc3QgaWYgbGluZXMgaW50ZXJzZWN0LCBpZiBub3QsIHJldHVybiBmYWxzZSAqL1xuICAgICAgICAgICAgaWYgKG1heEEgPCBtaW5CIHx8IG1pbkEgPiBtYXhCKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBvID0gbWF4QSA+IG1heEIgPyBtYXhCIC0gbWluQSA6IG1heEEgLSBtaW5CXG4gICAgICAgICAgICAgICAgaWYgKG8gPCBvdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXAgPSBvXG4gICAgICAgICAgICAgICAgICAgIHNtYWxsZXN0ID0ge3g6IGF4aXMueCwgeTogYXhpcy55fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qIHRlc3QgcG9seWdvbiBCJ3Mgc2lkZXMgKi9cbiAgICAgICAgZm9yIChzaWRlID0gMDsgc2lkZSA8IG90aGVyLmdldE51bWJlck9mU2lkZXMoKTsgc2lkZSsrKSB7XG4gICAgICAgICAgICAvKiBnZXQgdGhlIGF4aXMgdGhhdCB3ZSB3aWxsIHByb2plY3Qgb250byAqL1xuICAgICAgICAgICAgaWYgKHNpZGUgPT0gMCkge1xuICAgICAgICAgICAgICAgIGF4aXMueCA9XG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnBvaW50c1tvdGhlci5nZXROdW1iZXJPZlNpZGVzKCkgLSAxXS55IC1cbiAgICAgICAgICAgICAgICAgICAgb3RoZXIucG9pbnRzWzBdLnlcbiAgICAgICAgICAgICAgICBheGlzLnkgPVxuICAgICAgICAgICAgICAgICAgICBvdGhlci5wb2ludHNbMF0ueCAtXG4gICAgICAgICAgICAgICAgICAgIG90aGVyLnBvaW50c1tvdGhlci5nZXROdW1iZXJPZlNpZGVzKCkgLSAxXS54XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF4aXMueCA9IG90aGVyLnBvaW50c1tzaWRlIC0gMV0ueSAtIG90aGVyLnBvaW50c1tzaWRlXS55XG4gICAgICAgICAgICAgICAgYXhpcy55ID0gb3RoZXIucG9pbnRzW3NpZGVdLnggLSBvdGhlci5wb2ludHNbc2lkZSAtIDFdLnhcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogbm9ybWFsaXplIHRoZSBheGlzICovXG4gICAgICAgICAgICB0bXAgPSBNYXRoLnNxcnQoYXhpcy54ICogYXhpcy54ICsgYXhpcy55ICogYXhpcy55KVxuICAgICAgICAgICAgYXhpcy54IC89IHRtcFxuICAgICAgICAgICAgYXhpcy55IC89IHRtcFxuXG4gICAgICAgICAgICAvKiBwcm9qZWN0IHBvbHlnb24gQSBvbnRvIGF4aXMgdG8gZGV0ZXJtaW5lIHRoZSBtaW4vbWF4ICovXG4gICAgICAgICAgICBtaW5BID0gbWF4QSA9IHRoaXMucG9pbnRzWzBdLnggKiBheGlzLnggKyB0aGlzLnBvaW50c1swXS55ICogYXhpcy55XG4gICAgICAgICAgICBmb3IgKGkgPSAxOyBpIDwgdGhpcy5nZXROdW1iZXJPZlNpZGVzKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRtcCA9IHRoaXMucG9pbnRzW2ldLnggKiBheGlzLnggKyB0aGlzLnBvaW50c1tpXS55ICogYXhpcy55XG4gICAgICAgICAgICAgICAgaWYgKHRtcCA+IG1heEEpIG1heEEgPSB0bXBcbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0bXAgPCBtaW5BKSBtaW5BID0gdG1wXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBjb3JyZWN0IGZvciBvZmZzZXQgKi9cbiAgICAgICAgICAgIHRtcCA9IHRoaXMuY2VudGVyLnggKiBheGlzLnggKyB0aGlzLmNlbnRlci55ICogYXhpcy55XG4gICAgICAgICAgICBtaW5BICs9IHRtcFxuICAgICAgICAgICAgbWF4QSArPSB0bXBcblxuICAgICAgICAgICAgLyogcHJvamVjdCBwb2x5Z29uIEIgb250byBheGlzIHRvIGRldGVybWluZSB0aGUgbWluL21heCAqL1xuICAgICAgICAgICAgbWluQiA9IG1heEIgPVxuICAgICAgICAgICAgICAgIG90aGVyLnBvaW50c1swXS54ICogYXhpcy54ICsgb3RoZXIucG9pbnRzWzBdLnkgKiBheGlzLnlcbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBvdGhlci5nZXROdW1iZXJPZlNpZGVzKCk7IGkrKykge1xuICAgICAgICAgICAgICAgIHRtcCA9IG90aGVyLnBvaW50c1tpXS54ICogYXhpcy54ICsgb3RoZXIucG9pbnRzW2ldLnkgKiBheGlzLnlcbiAgICAgICAgICAgICAgICBpZiAodG1wID4gbWF4QikgbWF4QiA9IHRtcFxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRtcCA8IG1pbkIpIG1pbkIgPSB0bXBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGNvcnJlY3QgZm9yIG9mZnNldCAqL1xuICAgICAgICAgICAgdG1wID0gb3RoZXIuY2VudGVyLnggKiBheGlzLnggKyBvdGhlci5jZW50ZXIueSAqIGF4aXMueVxuICAgICAgICAgICAgbWluQiArPSB0bXBcbiAgICAgICAgICAgIG1heEIgKz0gdG1wXG5cbiAgICAgICAgICAgIC8qIHRlc3QgaWYgbGluZXMgaW50ZXJzZWN0LCBpZiBub3QsIHJldHVybiBmYWxzZSAqL1xuICAgICAgICAgICAgaWYgKG1heEEgPCBtaW5CIHx8IG1pbkEgPiBtYXhCKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBvID0gbWF4QSA+IG1heEIgPyBtYXhCIC0gbWluQSA6IG1heEEgLSBtaW5CXG4gICAgICAgICAgICAgICAgaWYgKG8gPCBvdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXAgPSBvXG4gICAgICAgICAgICAgICAgICAgIHNtYWxsZXN0ID0ge3g6IGF4aXMueCwgeTogYXhpcy55fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge292ZXJsYXA6IG92ZXJsYXAgKyAwLjAwMSwgYXhpczogc21hbGxlc3R9XG4gICAgfVxuXG4gICAgc3RhdGljIGZyb21Qb2ludHMocG9pbnRzKSB7XG4gICAgICAgIGxldCBtaW4gPSB7eDogTnVtYmVyLk1BWF9WQUxVRSwgeTogTnVtYmVyLk1BWF9WQUxVRX1cbiAgICAgICAgbGV0IG1heCA9IHt4OiBOdW1iZXIuTUlOX1ZBTFVFLCB5OiBOdW1iZXIuTUlOX1ZBTFVFfVxuICAgICAgICBmb3IgKGxldCBwIG9mIHBvaW50cykge1xuICAgICAgICAgICAgbWluLnggPSBNYXRoLm1pbihwLngsIG1pbi54KVxuICAgICAgICAgICAgbWF4LnggPSBNYXRoLm1heChwLngsIG1heC54KVxuICAgICAgICAgICAgbWluLnkgPSBNYXRoLm1pbihwLnksIG1pbi55KVxuICAgICAgICAgICAgbWF4LnkgPSBNYXRoLm1heChwLnksIG1heC55KVxuICAgICAgICB9XG4gICAgICAgIGxldCBjZW50ZXIgPSBQb2ludHMubWVhbihtaW4sIG1heClcbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbihjZW50ZXIpXG4gICAgICAgIGZvciAobGV0IHAgb2YgcG9pbnRzKSB7XG4gICAgICAgICAgICBwb2x5Z29uLmFkZEFic29sdXRlUG9pbnQocClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9seWdvblxuICAgIH1cbn1cbiIsIi8vIEluIG9yZGVyIHRvIHRlc3QgdGhpcyBpbnRlcmZhY2UgaW1wbGVtZW50YXRpb24gcnVuIGpzYyBpbnRlcmZhY2UuanNcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJmYWNlIHtcbiAgICAvLyBBYnN0cmFjdCBpbnRlcmZhY2UgdGhhdCBzaG91bGQgYmUgZXh0ZW5kZWQgaW4gaW50ZXJmYWNlIHN1YmNsYXNzZXMuXG4gICAgLy8gQnkgY29udmVudGlvbiBhbGwgaW50ZXJmYWNlcyBzaG91bGQgc3RhcnQgd2l0aCBhbiB1cHBlciAnSSdcblxuICAgIHN0YXRpYyBpbXBsZW1lbnRhdGlvbkVycm9yKGtsYXNzKSB7XG4gICAgICAgIGxldCBpbnRlcmZhY2VLZXlzID0gUmVmbGVjdC5vd25LZXlzKHRoaXMucHJvdG90eXBlKVxuICAgICAgICBsZXQgY2xhc3NLZXlzID0gUmVmbGVjdC5vd25LZXlzKGtsYXNzLnByb3RvdHlwZSlcbiAgICAgICAgZm9yKGxldCBrZXkgb2YgaW50ZXJmYWNlS2V5cykge1xuICAgICAgICAgICAgbGV0IGludGVyZmFjZURlc2MgPSB0aGlzLnByb3RvdHlwZVtrZXldXG4gICAgICAgICAgICBsZXQgY2xhc3NEZXNjID0ga2xhc3MucHJvdG90eXBlW2tleV1cbiAgICAgICAgICAgIGlmICh0eXBlb2YoY2xhc3NEZXNjKSA9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICByZXR1cm4gJ01pc3NpbmcgJyArIGtleVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgc3RhdGljIGltcGxlbWVudGVkQnkoa2xhc3MpIHtcbiAgICAgICAgLy8gSW4gdGhlIGZpcnN0IHN0ZXAgb25seSBjaGVja3Mgd2hldGhlciB0aGUgbWV0aG9kcyBvZiB0aGlzXG4gICAgICAgIC8vIGludGVyZmFjZSBhcmUgYWxsIGltcGxlbWVudGVkIGJ5IHRoZSBnaXZlbiBjbGFzc1xuICAgICAgICBsZXQgZXJyb3IgPSB0aGlzLmltcGxlbWVudGF0aW9uRXJyb3Ioa2xhc3MpXG4gICAgICAgIHJldHVybiBlcnJvciA9PSBudWxsXG4gICAgfVxuXG4gICAgICAgIC8vIFRPRE86IFNwZWNpZnkgb3B0aW9uYWwgbWV0aG9kc1xuLy8gICAgIHN0YXRpYyBvcHRpb25hbE1ldGhvZHMoKSB7XG4vLyAgICAgICAgIHJldHVybiBbdGhpcy5vbk1vdXNlV2hlZWxdXG4vLyAgICAgfVxufVxuIiwiLyogZ2xvYmFscyBIYW1tZXIsIHByb3BhZ2F0aW5nICovXG4vKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJsb2dcIiwgXCJ3YXJuXCIsIFwiaW5mb1wiLCBcImVycm9yXCJdIH1dKi9cblxuaW1wb3J0IEludGVyZmFjZSBmcm9tICcuL2ludGVyZmFjZS5qcydcbmltcG9ydCB7IFBvaW50cywgQW5nbGUsIE1hcFByb3h5IH0gZnJvbSAnLi91dGlscy5qcydcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9ldmVudHMuanMnXG5cbi8qKiBJbnRlcmFjdGlvbiBwYXR0ZXJuc1xuXG4gICAgU2VlIGludGVyYWN0aW9uLmh0bWwgZm9yIGV4cGxhbmF0aW9uXG4qL1xuXG5leHBvcnQgY2xhc3MgSUludGVyYWN0aW9uVGFyZ2V0IGV4dGVuZHMgSW50ZXJmYWNlIHtcbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdHJ1ZVxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQsIGludGVyYWN0aW9uKSB7IH1cbiAgICBvbk1vdmUoZXZlbnQsIGludGVyYWN0aW9uKSB7IH1cbiAgICBvbkVuZChldmVudCwgaW50ZXJhY3Rpb24pIHsgfVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7IH1cbn1cblxuZXhwb3J0IGNsYXNzIElJbnRlcmFjdGlvbk1hcHBlclRhcmdldCBleHRlbmRzIEludGVyZmFjZSB7XG4gICAgY2FwdHVyZShldmVudCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHRydWVcbiAgICB9XG5cbiAgICBmaW5kVGFyZ2V0KGV2ZW50LCBsb2NhbCwgZ2xvYmFsKSB7XG4gICAgICAgIHJldHVybiBJSW50ZXJhY3Rpb25UYXJnZXRcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQb2ludE1hcCBleHRlbmRzIE1hcFByb3h5IHtcbiAgICAvLyBDb2xsZWN0cyB0b3VjaCBwb2ludHMsIG1vdXNlIGNvb3JkaW5hdGVzLCBldGMuIGFzIGtleSB2YWx1ZSBwYWlycy5cbiAgICAvLyBLZXlzIGFyZSBwb2ludGVyIGFuZCB0b3VjaCBpZHMsIHRoZSBzcGVjaWFsIFwibW91c2VcIiBrZXkuXG4gICAgLy8gVmFsdWVzIGFyZSBwb2ludHMsIGkuZS4gYWxsIG9iamVjdHMgd2l0aCBudW1lcmljIHggYW5kIHkgcHJvcGVydGllcy5cbiAgICBjb25zdHJ1Y3Rvcihwb2ludHMgPSB7fSkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIGZvciAobGV0IGtleSBpbiBwb2ludHMpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgcG9pbnRzW2tleV0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgbGV0IHBvaW50cyA9IFtdXG4gICAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLmtleXMoKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGhpcy5nZXQoa2V5KVxuICAgICAgICAgICAgcG9pbnRzLnB1c2goYCR7a2V5fTp7eDoke3ZhbHVlLnh9LCB5OiR7dmFsdWUueX19YClcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXR0cnMgPSBwb2ludHMuam9pbignLCAnKVxuICAgICAgICByZXR1cm4gYFtQb2ludE1hcCAke2F0dHJzfV1gXG4gICAgfVxuXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBuZXcgUG9pbnRNYXAoKVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgdGhpcy5rZXlzKCkpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0KGtleSlcbiAgICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCB7IHg6IHZhbHVlLngsIHk6IHZhbHVlLnkgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgZmFydGhlc3RzKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhaXJzID0gW11cbiAgICAgICAgZm9yIChsZXQgcCBvZiB0aGlzLnZhbHVlcygpKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBxIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKFtwLCBxXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgc29ydGVkID0gcGFpcnMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFBvaW50cy5kaXN0YW5jZShiWzBdLCBiWzFdKSAtIFBvaW50cy5kaXN0YW5jZShhWzBdLCBhWzFdKVxuICAgICAgICB9KVxuICAgICAgICByZXR1cm4gc29ydGVkWzBdXG4gICAgfVxuXG4gICAgbWVhbigpIHtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGxldCB4ID0gMC4wLFxuICAgICAgICAgICAgeSA9IDAuMFxuICAgICAgICBmb3IgKGxldCBwIG9mIHRoaXMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHggKz0gcC54XG4gICAgICAgICAgICB5ICs9IHAueVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHg6IHggLyB0aGlzLnNpemUsIHk6IHkgLyB0aGlzLnNpemUgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uRGVsdGEge1xuICAgIGNvbnN0cnVjdG9yKHgsIHksIHpvb20sIHJvdGF0ZSwgYWJvdXQpIHtcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMuem9vbSA9IHpvb21cbiAgICAgICAgdGhpcy5yb3RhdGUgPSByb3RhdGVcbiAgICAgICAgdGhpcy5hYm91dCA9IGFib3V0XG4gICAgfVxuXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGxldCB2YWx1ZXMgPSBbXVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgT2JqZWN0LmtleXModGhpcykpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXNba2V5XVxuICAgICAgICAgICAgaWYgKGtleSA9PSAnYWJvdXQnKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYCR7a2V5fTp7eDoke3ZhbHVlLnh9LCB5OiR7dmFsdWUueX19YClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYCR7a2V5fToke3ZhbHVlfWApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGF0dHJzID0gdmFsdWVzLmpvaW4oJywgJylcbiAgICAgICAgcmV0dXJuIGBbSW50ZXJhY3Rpb25EZWx0YSAke2F0dHJzfV1gXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25Qb2ludHMge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnRcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gbmV3IFBvaW50TWFwKClcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IG5ldyBQb2ludE1hcCgpXG4gICAgICAgIHRoaXMuc3RhcnQgPSBuZXcgUG9pbnRNYXAoKVxuICAgICAgICB0aGlzLmVuZGVkID0gbmV3IFBvaW50TWFwKClcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzID0gbmV3IE1hcCgpXG4gICAgfVxuXG4gICAgbW92ZWQoa2V5KSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5jdXJyZW50LmdldChrZXkpXG4gICAgICAgIGxldCBwcmV2aW91cyA9IHRoaXMucHJldmlvdXMuZ2V0KGtleSlcbiAgICAgICAgcmV0dXJuIFBvaW50cy5zdWJ0cmFjdChjdXJyZW50LCBwcmV2aW91cylcbiAgICB9XG5cbiAgICBtb3ZlKCkge1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuY3VycmVudC5tZWFuKClcbiAgICAgICAgbGV0IHByZXZpb3VzID0gdGhpcy5wcmV2aW91cy5tZWFuKClcbiAgICAgICAgcmV0dXJuIFBvaW50cy5zdWJ0cmFjdChjdXJyZW50LCBwcmV2aW91cylcbiAgICB9XG5cbiAgICBkZWx0YSgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBbXVxuICAgICAgICB2YXIgcHJldmlvdXMgPSBbXVxuICAgICAgICBmb3IgKGxldCBrZXkgb2YgdGhpcy5jdXJyZW50LmtleXMoKSkge1xuICAgICAgICAgICAgbGV0IGMgPSB0aGlzLmN1cnJlbnQuZ2V0KGtleSlcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXZpb3VzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnByZXZpb3VzLmdldChrZXkpXG4gICAgICAgICAgICAgICAgY3VycmVudC5wdXNoKGMpXG4gICAgICAgICAgICAgICAgcHJldmlvdXMucHVzaChwKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50Lmxlbmd0aCA+PSAyKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudC5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMuY3VycmVudC5mYXJ0aGVzdHMoKVxuICAgICAgICAgICAgICAgIHByZXZpb3VzID0gdGhpcy5wcmV2aW91cy5mYXJ0aGVzdHMoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGMxID0gY3VycmVudFswXVxuICAgICAgICAgICAgbGV0IGMyID0gY3VycmVudFsxXVxuXG4gICAgICAgICAgICBsZXQgcDEgPSBwcmV2aW91c1swXVxuICAgICAgICAgICAgbGV0IHAyID0gcHJldmlvdXNbMV1cblxuICAgICAgICAgICAgbGV0IGNtID0gUG9pbnRzLm1lYW4oYzEsIGMyKVxuICAgICAgICAgICAgbGV0IHBtID0gUG9pbnRzLm1lYW4ocDEsIHAyKVxuXG4gICAgICAgICAgICBsZXQgZGVsdGEgPSBQb2ludHMuc3VidHJhY3QoY20sIHBtKVxuICAgICAgICAgICAgbGV0IHpvb20gPSAxLjBcbiAgICAgICAgICAgIGxldCBkaXN0YW5jZTEgPSBQb2ludHMuZGlzdGFuY2UocDEsIHAyKVxuICAgICAgICAgICAgbGV0IGRpc3RhbmNlMiA9IFBvaW50cy5kaXN0YW5jZShjMSwgYzIpXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UxICE9IDAgJiYgZGlzdGFuY2UyICE9IDApIHtcbiAgICAgICAgICAgICAgICB6b29tID0gZGlzdGFuY2UyIC8gZGlzdGFuY2UxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYW5nbGUxID0gUG9pbnRzLmFuZ2xlKGMyLCBjMSlcbiAgICAgICAgICAgIGxldCBhbmdsZTIgPSBQb2ludHMuYW5nbGUocDIsIHAxKVxuICAgICAgICAgICAgbGV0IGFscGhhID0gQW5nbGUuZGlmZihhbmdsZTEsIGFuZ2xlMilcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJhY3Rpb25EZWx0YShkZWx0YS54LCBkZWx0YS55LCB6b29tLCBhbHBoYSwgY20pXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudC5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgbGV0IGRlbHRhID0gUG9pbnRzLnN1YnRyYWN0KGN1cnJlbnRbMF0sIHByZXZpb3VzWzBdKVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcmFjdGlvbkRlbHRhKGRlbHRhLngsIGRlbHRhLnksIDEuMCwgMC4wLCBjdXJyZW50WzBdKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsXG4gICAgfVxuXG4gICAgc3RhcnRlZChrZXksIHBvaW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudC5zZXQoa2V5LCBwb2ludClcbiAgICAgICAgdGhpcy5zdGFydC5zZXQoa2V5LCBwb2ludClcbiAgICAgICAgdGhpcy5wcmV2aW91cy5zZXQoa2V5LCBwb2ludClcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzLnNldChrZXksIHBlcmZvcm1hbmNlLm5vdygpKVxuICAgIH1cblxuICAgIHVwZGF0ZShrZXksIHBvaW50KSB7XG4gICAgICAgIC8vIFJldHVybnMgdHJ1ZSBpZmYgdGhlIGtleSBpcyBuZXdcbiAgICAgICAgdGhpcy5jdXJyZW50LnNldChrZXksIHBvaW50KVxuICAgICAgICBpZiAoIXRoaXMuc3RhcnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnQuc2V0KGtleSwgcG9pbnQpXG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzLnNldChrZXksIHBvaW50KVxuICAgICAgICAgICAgdGhpcy50aW1lc3RhbXBzLnNldChrZXksIHBlcmZvcm1hbmNlLm5vdygpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB1cGRhdGVQcmV2aW91cygpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIHRoaXMuY3VycmVudC5rZXlzKCkpIHtcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXMuc2V0KGtleSwgdGhpcy5jdXJyZW50LmdldChrZXkpKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RvcChrZXksIHBvaW50KSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnQuaGFzKGtleSkpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudC5kZWxldGUoa2V5KVxuICAgICAgICAgICAgdGhpcy5wcmV2aW91cy5kZWxldGUoa2V5KVxuICAgICAgICAgICAgdGhpcy5lbmRlZC5zZXQoa2V5LCBwb2ludClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmlzaChrZXksIHBvaW50KSB7XG4gICAgICAgIHRoaXMuY3VycmVudC5kZWxldGUoa2V5KVxuICAgICAgICB0aGlzLnByZXZpb3VzLmRlbGV0ZShrZXkpXG4gICAgICAgIHRoaXMuc3RhcnQuZGVsZXRlKGtleSlcbiAgICAgICAgdGhpcy50aW1lc3RhbXBzLmRlbGV0ZShrZXkpXG4gICAgICAgIHRoaXMuZW5kZWQuZGVsZXRlKGtleSlcbiAgICB9XG5cbiAgICBpc0ZpbmlzaGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50LnNpemUgPT0gMFxuICAgIH1cblxuICAgIGlzTm9Mb25nZXJUd29GaW5nZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpb3VzLnNpemUgPiAxICYmIHRoaXMuY3VycmVudC5zaXplIDwgMlxuICAgIH1cblxuICAgIGlzVGFwKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaXNUYXAoa2V5KVxuICAgIH1cblxuICAgIGlzTG9uZ1ByZXNzKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQuaXNMb25nUHJlc3Moa2V5KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uIGV4dGVuZHMgSW50ZXJhY3Rpb25Qb2ludHMge1xuICAgIGNvbnN0cnVjdG9yKHRhcERpc3RhbmNlID0gMTAsIGxvbmdQcmVzc1RpbWUgPSA1MDAuMCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMudGFwRGlzdGFuY2UgPSB0YXBEaXN0YW5jZVxuICAgICAgICB0aGlzLmxvbmdQcmVzc1RpbWUgPSBsb25nUHJlc3NUaW1lXG4gICAgICAgIHRoaXMudGFyZ2V0cyA9IG5ldyBNYXAoKVxuICAgICAgICB0aGlzLnN1YkludGVyYWN0aW9ucyA9IG5ldyBNYXAoKSAvLyB0YXJnZXQ6T2JqZWN0IDogSW50ZXJhY3Rpb25Qb2ludHNcbiAgICB9XG5cbiAgICBzdG9wKGtleSwgcG9pbnQpIHtcbiAgICAgICAgc3VwZXIuc3RvcChrZXksIHBvaW50KVxuICAgICAgICBmb3IgKGxldCBwb2ludHMgb2YgdGhpcy5zdWJJbnRlcmFjdGlvbnMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHBvaW50cy5zdG9wKGtleSwgcG9pbnQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRUYXJnZXQoa2V5LCB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRzLnNldChrZXksIHRhcmdldClcbiAgICAgICAgdGhpcy5zdWJJbnRlcmFjdGlvbnMuc2V0KHRhcmdldCwgbmV3IEludGVyYWN0aW9uUG9pbnRzKHRoaXMpKVxuICAgIH1cblxuICAgIHJlbW92ZVRhcmdldChrZXkpIHtcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5nZXQoa2V5KVxuICAgICAgICB0aGlzLnRhcmdldHMuZGVsZXRlKGtleSlcbiAgICAgICAgLy8gT25seSByZW1vdmUgdGFyZ2V0IGlmIG5vIGtleXMgYXJlIHJlZmVyaW5nIHRvIHRoZSB0YXJnZXRcbiAgICAgICAgbGV0IHJlbW92ZSA9IHRydWVcbiAgICAgICAgZm9yIChsZXQgdCBvZiB0aGlzLnRhcmdldHMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT09IHQpIHtcbiAgICAgICAgICAgICAgICByZW1vdmUgPSBmYWxzZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyZW1vdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3ViSW50ZXJhY3Rpb25zLmRlbGV0ZSh0YXJnZXQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmaW5pc2goa2V5LCBwb2ludCkge1xuICAgICAgICBzdXBlci5maW5pc2goa2V5LCBwb2ludClcbiAgICAgICAgdGhpcy5yZW1vdmVUYXJnZXQoa2V5KVxuICAgIH1cblxuICAgIG1hcEludGVyYWN0aW9uKHBvaW50cywgYXNwZWN0cywgbWFwcGluZ0Z1bmMpIHtcbiAgICAgICAgLy8gTWFwIGNlbnRyYWxseSByZWdpc3RlcmVkIHBvaW50cyB0byB0YXJnZXQgaW50ZXJhY3Rpb25zXG4gICAgICAgIC8vIFJldHVybnMgYW4gYXJyYXkgb2YgW3RhcmdldCwgdXBkYXRlZCBzdWJJbnRlcmFjdGlvbl0gcGFpcnNcbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBNYXAoKVxuICAgICAgICBmb3IgKGxldCBrZXkgaW4gcG9pbnRzKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXRzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMudGFyZ2V0cy5nZXQoa2V5KVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YkludGVyYWN0aW9ucy5oYXModGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW50ZXJhY3Rpb24gPSB0aGlzLnN1YkludGVyYWN0aW9ucy5nZXQodGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBhc3BlY3Qgb2YgYXNwZWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBvaW50TWFwID0gdGhpc1thc3BlY3RdXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBwb2ludE1hcC5nZXQoa2V5KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1hcHBlZCA9IG1hcHBpbmdGdW5jKHBvaW50LCB0YXJnZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnRlcmFjdGlvblthc3BlY3RdLnNldChrZXksIG1hcHBlZClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXN1bHQuc2V0KHRhcmdldCwgaW50ZXJhY3Rpb24pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBpc1RhcChrZXkpIHtcbiAgICAgICAgbGV0IGVuZGVkID0gdGhpcy5lbmRlZC5nZXQoa2V5KVxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0LmdldChrZXkpXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0YXJ0ICYmXG4gICAgICAgICAgICBlbmRlZCAmJlxuICAgICAgICAgICAgUG9pbnRzLmRpc3RhbmNlKGVuZGVkLCBzdGFydCkgPCB0aGlzLnRhcERpc3RhbmNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgbGV0IHQxID0gdGhpcy50aW1lc3RhbXBzLmdldChrZXkpXG4gICAgICAgICAgICBsZXQgdG9va0xvbmcgPSBwZXJmb3JtYW5jZS5ub3coKSA+IHQxICsgdGhpcy5sb25nUHJlc3NUaW1lXG4gICAgICAgICAgICBpZiAodG9va0xvbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaXNBbnlUYXAoKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLmVuZGVkLmtleXMoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUYXAoa2V5KSkgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpc0xvbmdQcmVzcyhrZXkpIHtcbiAgICAgICAgbGV0IGVuZGVkID0gdGhpcy5lbmRlZC5nZXQoa2V5KVxuICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0LmdldChrZXkpXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHN0YXJ0ICYmXG4gICAgICAgICAgICBlbmRlZCAmJlxuICAgICAgICAgICAgUG9pbnRzLmRpc3RhbmNlKGVuZGVkLCBzdGFydCkgPCB0aGlzLnRhcERpc3RhbmNlXG4gICAgICAgICkge1xuICAgICAgICAgICAgbGV0IHQxID0gdGhpcy50aW1lc3RhbXBzLmdldChrZXkpXG4gICAgICAgICAgICBsZXQgdG9va0xvbmcgPSBwZXJmb3JtYW5jZS5ub3coKSA+IHQxICsgdGhpcy5sb25nUHJlc3NUaW1lXG4gICAgICAgICAgICBpZiAodG9va0xvbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaXNBbnlMb25nUHJlc3MoKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBvZiB0aGlzLmVuZGVkLmtleXMoKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNMb25nUHJlc3Moa2V5KSkgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBpc1N0eWx1cyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIGtleSA9PT0gJ3N0eWx1cydcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpbXBsZW1lbnRzIHRoZSBtYWluIGRlbGVnYXRlIGZ1bmN0aW9uYWxpdHk6IEFsbCBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnMgYXJlIHJlZ2lzdGVyZWQgZm9yIHRoZVxuICogZ2l2ZW4gZWxlbWVudC4gVXNlcyBQb2ludGVyRXZlbnRzIGlmIGF2YWlsYWJsZSBvciBUb3VjaEV2ZW50cyBvbiBpT1MuIFRoZSBmYWxsYmFjayBpcyBvbiBtb3VzZSBldmVudHMuXG4gKiBDb2xsZWN0cyB0aGUgZXZlbnRzIGlmIHRoZSBpbnRlcmFjdGlvbiB0YXJnZXQgY2FwdHVyZXMgdGhlIHN0YXJ0IGV2ZW50IChpLmUuIGRlY2xhcmVzIHRoYXRcbiAqIHRoZSB0YXJnZXQgd2FudHMgdGhlIHN0YXJ0IGV2ZW50IGFzIHdlbGwgYXMgYWxsIGZvbGxvd2luZyBtb3ZlIGFuZCBlbmQgZXZjZW50cy4pXG4gKlxuICogQGV4cG9ydFxuICogQGNsYXNzIEludGVyYWN0aW9uRGVsZWdhdGVcbiAqL1xuZXhwb3J0IGNsYXNzIEludGVyYWN0aW9uRGVsZWdhdGUge1xuICAgIC8vIExvbmcgcHJlc3M6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTkzMDg5NS9ob3ctbG9uZy1pcy10aGUtZXZlbnQtb25sb25ncHJlc3MtaW4tdGhlLWFuZHJvaWRcbiAgICAvLyBTdHlsdXMgc3VwcG9ydDogaHR0cHM6Ly93M2MuZ2l0aHViLmlvL3RvdWNoLWV2ZW50cy9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgSW50ZXJhY3Rpb25EZWxlZ2F0ZS5cbiAgICAgKiBAcGFyYW0ge2FueX0gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7YW55fSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge2FueX0gW3sgbW91c2VXaGVlbEVsZW1lbnQgPSBudWxsLCB1c2VDYXB0dXJlID0gdHJ1ZSwgY2FwdHVyZVBvaW50ZXJFdmVudHMgPSB0cnVlLCBkZWJ1ZyA9IGZhbHNlIH09e31dXG4gICAgICogQG1lbWJlcm9mIEludGVyYWN0aW9uRGVsZWdhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgdGFyZ2V0LFxuICAgICAgICB7IG1vdXNlV2hlZWxFbGVtZW50ID0gbnVsbCwgdXNlQ2FwdHVyZSA9IHRydWUsIGNhcHR1cmVQb2ludGVyRXZlbnRzID0gdHJ1ZSwgZGVidWcgPSBmYWxzZSB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5kZWJ1ZyA9IGRlYnVnXG4gICAgICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBuZXcgSW50ZXJhY3Rpb24oKVxuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50XG4gICAgICAgIHRoaXMubW91c2VXaGVlbEVsZW1lbnQgPSBtb3VzZVdoZWVsRWxlbWVudCB8fCBlbGVtZW50XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0XG4gICAgICAgIHRoaXMudXNlQ2FwdHVyZSA9IHVzZUNhcHR1cmVcbiAgICAgICAgdGhpcy5jYXB0dXJlUG9pbnRlckV2ZW50cyA9IGNhcHR1cmVQb2ludGVyRXZlbnRzXG4gICAgICAgIHRoaXMuc2V0dXBJbnRlcmFjdGlvbigpXG4gICAgfVxuXG4gICAgc2V0dXBJbnRlcmFjdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcbiAgICAgICAgICAgIGxldCBlcnJvciA9IHRoaXMudGFyZ2V0SW50ZXJmYWNlLmltcGxlbWVudGF0aW9uRXJyb3IoXG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQuY29uc3RydWN0b3JcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGlmIChlcnJvciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBJSW50ZXJhY3Rpb25UYXJnZXQ6ICcgKyBlcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldHVwVG91Y2hJbnRlcmFjdGlvbigpXG4gICAgICAgIHRoaXMuc2V0dXBNb3VzZVdoZWVsSW50ZXJhY3Rpb24oKVxuICAgIH1cblxuICAgIGdldCB0YXJnZXRJbnRlcmZhY2UoKSB7XG4gICAgICAgIHJldHVybiBJSW50ZXJhY3Rpb25UYXJnZXRcbiAgICB9XG5cbiAgICBzZXR1cFRvdWNoSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIGxldCBlbGVtZW50ID0gdGhpcy5lbGVtZW50XG4gICAgICAgIGxldCB1c2VDYXB0dXJlID0gdGhpcy51c2VDYXB0dXJlXG4gICAgICAgIGlmICh3aW5kb3cuUG9pbnRlckV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1BvaW50ZXIgQVBJJyArIHdpbmRvdy5Qb2ludGVyRXZlbnQpXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3BvaW50ZXJkb3duJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVyZG93bicsIGUucG9pbnRlcklkKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0UG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3RhcnQoZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICdwb2ludGVybW92ZScsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZygncG9pbnRlcm1vdmUnLCBlLnBvaW50ZXJJZClcblxuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnBvaW50ZXJUeXBlID09ICd0b3VjaCcgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlLnBvaW50ZXJUeXBlID09ICdtb3VzZScgJiYgRXZlbnRzLmlzTW91c2VEb3duKGUpKVxuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuY2FwdHVyZShlKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3BvaW50ZXJtb3ZlIGNhcHR1cmVkJywgZS5wb2ludGVySWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZShlKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3BvaW50ZXJ1cCcsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZygncG9pbnRlcnVwJylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jYXB0dXJlUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbGVhc2VQb2ludGVyQ2FwdHVyZShlLnBvaW50ZXJJZClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3BvaW50ZXJjYW5jZWwnLFxuICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ3BvaW50ZXJjYW5jZWwnKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kKGUpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmVQb2ludGVyRXZlbnRzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZWxlYXNlUG9pbnRlckNhcHR1cmUoZS5wb2ludGVySWQpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jYXB0dXJlUG9pbnRlckV2ZW50cykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgJ3BvaW50ZXJsZWF2ZScsXG4gICAgICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVybGVhdmUnKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09IGVsZW1lbnQpIHRoaXMub25FbmQoZSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhcHR1cmVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAncG9pbnRlcm91dCcsXG4gICAgICAgICAgICAgICAgICAgIGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdwb2ludGVyb3V0JylcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBlbGVtZW50KSB0aGlzLm9uRW5kKGUpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuVG91Y2hFdmVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdUb3VjaCBBUEknKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICd0b3VjaHN0YXJ0JyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2hzdGFydCcsIHRoaXMudG91Y2hQb2ludHMoZSkpXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhcHR1cmUoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHRvdWNoIG9mIGUuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3RhcnQodG91Y2gpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAndG91Y2htb3ZlJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG91Y2htb3ZlJywgdGhpcy50b3VjaFBvaW50cyhlKSwgZSlcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdG91Y2ggb2YgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdmUodG91Y2gpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdG91Y2ggb2YgZS50YXJnZXRUb3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZSh0b3VjaClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICd0b3VjaGVuZCcsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZygndG91Y2hlbmQnLCB0aGlzLnRvdWNoUG9pbnRzKGUpKVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCB0b3VjaCBvZiBlLmNoYW5nZWRUb3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kKHRvdWNoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ3RvdWNoY2FuY2VsJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAndG91Y2hjYW5jZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0VG91Y2hlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGhcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgdG91Y2ggb2YgZS5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZCh0b3VjaClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdNb3VzZSBBUEknKVxuXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgJ21vdXNlZG93bicsXG4gICAgICAgICAgICAgICAgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZygnbW91c2Vkb3duJywgZSlcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZShlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN0YXJ0KGUpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHVzZUNhcHR1cmVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG93IHdlIG9ubHkgdXNlIG1vdmUgZXZlbnRzIGlmIHRoZSBtb3VzZSBpcyBkb3duP1xuICAgICAgICAgICAgICAgICAgICAvLyBIT3ZlciBlZmZlY3RzIGhhdmUgdG8gYmUgaW1wbGVtZW50ZWQgYnkgb3RoZXIgbWVhbnNcbiAgICAgICAgICAgICAgICAgICAgLy8gJiYgRXZlbnRzLmlzTW91c2VEb3duKGUpKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChFdmVudHMuaXNNb3VzZURvd24oZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdtb3VzZW1vdmUnLCBlKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk1vdmUoZSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdXNlQ2FwdHVyZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICdtb3VzZXVwJyxcbiAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdtb3VzZXVwJywgZSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgaWYgKCF0aGlzLmNhcHR1cmVQb2ludGVyRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAnbW91c2VvdXQnLFxuICAgICAgICAgICAgICAgICAgICBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCA9PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZChlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlNob3VsZG4ndCBoYXBwZW46IG1vdXNlb3V0IGVuZHMgaW50ZXJhY3Rpb25cIilcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1c2VDYXB0dXJlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpc0Rlc2NlbmRhbnQocGFyZW50LCBjaGlsZCkge1xuICAgICAgICBpZiAocGFyZW50ID09IGNoaWxkKSByZXR1cm4gdHJ1ZVxuICAgICAgICBsZXQgbm9kZSA9IGNoaWxkLnBhcmVudE5vZGVcbiAgICAgICAgd2hpbGUgKG5vZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKG5vZGUgPT0gcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB0b3VjaFBvaW50cyhldmVudCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW11cbiAgICAgICAgZm9yIChsZXQgdG91Y2ggb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMuZXh0cmFjdFBvaW50KHRvdWNoKSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgc2V0dXBNb3VzZVdoZWVsSW50ZXJhY3Rpb24oKSB7XG4gICAgICAgIHRoaXMubW91c2VXaGVlbEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICdtb3VzZXdoZWVsJyxcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICAgICAgdGhpcy5tb3VzZVdoZWVsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJyxcbiAgICAgICAgICAgIHRoaXMub25Nb3VzZVdoZWVsLmJpbmQodGhpcyksXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgIClcbiAgICB9XG5cbiAgICBvbk1vdXNlV2hlZWwoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FwdHVyZShldmVudCkgJiYgdGhpcy50YXJnZXQub25Nb3VzZVdoZWVsKSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5vbk1vdXNlV2hlZWwoZXZlbnQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvL2NvbnNvbGUud2FybignVGFyZ2V0IGhhcyBubyBvbk1vdXNlV2hlZWwgY2FsbGJhY2snKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TdGFydChldmVudCkge1xuICAgICAgICBsZXQgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0UG9pbnQoZXZlbnQpXG4gICAgICAgIHRoaXMuc3RhcnRJbnRlcmFjdGlvbihldmVudCwgZXh0cmFjdGVkKVxuICAgICAgICB0aGlzLnRhcmdldC5vblN0YXJ0KGV2ZW50LCB0aGlzLmludGVyYWN0aW9uKVxuICAgIH1cblxuICAgIG9uTW92ZShldmVudCkge1xuICAgICAgICBsZXQgZXh0cmFjdGVkID0gdGhpcy5leHRyYWN0UG9pbnQoZXZlbnQsICdhbGwnKVxuICAgICAgICB0aGlzLnVwZGF0ZUludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uTW92ZShldmVudCwgdGhpcy5pbnRlcmFjdGlvbilcbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi51cGRhdGVQcmV2aW91cygpXG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50LCAnY2hhbmdlZFRvdWNoZXMnKVxuICAgICAgICB0aGlzLmVuZEludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIHRoaXMudGFyZ2V0Lm9uRW5kKGV2ZW50LCB0aGlzLmludGVyYWN0aW9uKVxuICAgICAgICB0aGlzLmZpbmlzaEludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNrcyB0aGUgdGFyZ2V0IHdoZXRoZXIgdGhlIGV2ZW50IHNob3VsZCBiZSBjYXB0dXJlZFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7YW55fSBldmVudCBcbiAgICAgKiBAcmV0dXJucyB7Ym9vbH1cbiAgICAgKiBAbWVtYmVyb2YgSW50ZXJhY3Rpb25EZWxlZ2F0ZVxuICAgICAqL1xuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKEV2ZW50cy5pc0NhcHR1cmVkKGV2ZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhcHR1cmVkID0gdGhpcy50YXJnZXQuY2FwdHVyZShldmVudClcbiAgICAgICAgcmV0dXJuIGNhcHR1cmVkXG4gICAgfVxuXG4gICAgZ2V0UG9zaXRpb24oZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogZXZlbnQuY2xpZW50WCwgeTogZXZlbnQuY2xpZW50WSB9XG4gICAgfVxuXG4gICAgZXh0cmFjdFBvaW50KGV2ZW50LCB0b3VjaEV2ZW50S2V5ID0gJ2FsbCcpIHtcbiAgICAgICAgLy8gJ3RhcmdldFRvdWNoZXMnXG4gICAgICAgIGxldCByZXN1bHQgPSB7fVxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgICAgICAgIGNhc2UgJ01vdXNlRXZlbnQnOlxuICAgICAgICAgICAgICAgIGxldCBidXR0b25zID0gZXZlbnQuYnV0dG9ucyB8fCBldmVudC53aGljaFxuICAgICAgICAgICAgICAgIGlmIChidXR0b25zKSByZXN1bHRbJ21vdXNlJ10gPSB0aGlzLmdldFBvc2l0aW9uKGV2ZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdQb2ludGVyRXZlbnQnOlxuICAgICAgICAgICAgICAgIHJlc3VsdFtldmVudC5wb2ludGVySWQudG9TdHJpbmcoKV0gPSB0aGlzLmdldFBvc2l0aW9uKGV2ZW50KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdUb3VjaCc6XG4gICAgICAgICAgICAgICAgbGV0IGlkID1cbiAgICAgICAgICAgICAgICAgICAgZXZlbnQudG91Y2hUeXBlID09PSAnc3R5bHVzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgPyAnc3R5bHVzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBldmVudC5pZGVudGlmaWVyLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICByZXN1bHRbaWRdID0gdGhpcy5nZXRQb3NpdGlvbihldmVudClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgY2FzZSAnVG91Y2hFdmVudCc6XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy8gTmVlZHMgdG8gYmUgb2JzZXJ2ZWQ6IFBlcmhhcHMgY2hhbmdlZFRvdWNoZXMgYXJlIGFsbCB3ZSBuZWVkLiBJZiBzb1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vIHdlIGNhbiByZW1vdmUgdGhlIHRvdWNoRXZlbnRLZXkgZGVmYXVsdCBwYXJhbWV0ZXJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBpZiAodG91Y2hFdmVudEtleSA9PSAnYWxsJykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHQgb2YgZXZlbnQudGFyZ2V0VG91Y2hlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3QuaWRlbnRpZmllci50b1N0cmluZygpXSA9IHRoaXMuZ2V0UG9zaXRpb24odClcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHQgb2YgZXZlbnQuY2hhbmdlZFRvdWNoZXMpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFt0LmlkZW50aWZpZXIudG9TdHJpbmcoKV0gPSB0aGlzLmdldFBvc2l0aW9uKHQpXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgdCBvZiBldmVudC5jaGFuZ2VkVG91Y2hlcykge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3QuaWRlbnRpZmllci50b1N0cmluZygpXSA9IHRoaXMuZ2V0UG9zaXRpb24odClcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBpbnRlcmFjdGlvblN0YXJ0ZWQoZXZlbnQsIGtleSwgcG9pbnQpIHtcbiAgICAgICAgLy8gQ2FsbGJhY2s6IGNhbiBiZSBvdmVyd3JpdHRlblxuICAgIH1cblxuICAgIGludGVyYWN0aW9uRW5kZWQoZXZlbnQsIGtleSwgcG9pbnQpIHtcbiAgICAgICAgLy8gQ2FsbGJhY2s6IGNhbiBiZSBvdmVyd3JpdHRlblxuICAgIH1cblxuICAgIGludGVyYWN0aW9uRmluaXNoZWQoZXZlbnQsIGtleSwgcG9pbnQpIHsgfVxuXG4gICAgc3RhcnRJbnRlcmFjdGlvbihldmVudCwgZXh0cmFjdGVkKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBleHRyYWN0ZWQpIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IGV4dHJhY3RlZFtrZXldXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uLnN0YXJ0ZWQoa2V5LCBwb2ludClcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25TdGFydGVkKGV2ZW50LCBrZXksIHBvaW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZXh0cmFjdGVkKSB7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBleHRyYWN0ZWRba2V5XVxuICAgICAgICAgICAgbGV0IHVwZGF0ZWQgPSB0aGlzLmludGVyYWN0aW9uLnVwZGF0ZShrZXksIHBvaW50KVxuICAgICAgICAgICAgaWYgKHVwZGF0ZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJuZXcgcG9pbnRlciBpbiB1cGRhdGVJbnRlcmFjdGlvbiBzaG91bGRuJ3QgaGFwcGVuXCIpXG4gICAgICAgICAgICAgICAgdGhpcy5pbnRlcmFjdGlvblN0YXJ0ZWQoZXZlbnQsIGtleSwgcG9pbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmRJbnRlcmFjdGlvbihldmVudCwgZW5kZWQpIHtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGVuZGVkKSB7XG4gICAgICAgICAgICBsZXQgcG9pbnQgPSBlbmRlZFtrZXldXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uLnN0b3Aoa2V5LCBwb2ludClcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb25FbmRlZChldmVudCwga2V5LCBwb2ludClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmlzaEludGVyYWN0aW9uKGV2ZW50LCBlbmRlZCkge1xuICAgICAgICBmb3IgKGxldCBrZXkgaW4gZW5kZWQpIHtcbiAgICAgICAgICAgIGxldCBwb2ludCA9IGVuZGVkW2tleV1cbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3Rpb24uZmluaXNoKGtleSwgcG9pbnQpXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uRmluaXNoZWQoZXZlbnQsIGtleSwgcG9pbnQpXG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgc3BlY2lhbCBJbnRlcmFjdGlvbkRlbGVnYXRlIHRoYXQgbWFwcyBldmVudHMgdG8gc3BlY2lmaWMgcGFydHMgb2ZcbiAqIHRoZSBpbnRlcmFjdGlvbiB0YXJnZXQuIFRoZSBJbnRlcmFjdGlvblRhcmdldCBtdXN0IGltcGxlbWVudCBhIGZpbmRUYXJnZXRcbiAqIG1ldGhvZCB0aGF0IHJldHVybnMgYW4gb2JqZWN0IGltcGxlbWVudGluZyB0aGUgSUludGVyYWN0aW9uVGFyZ2V0IGludGVyZmFjZS5cbiAqXG4gKiBJZiB0aGUgSW50ZXJhY3Rpb25UYXJnZXQgYWxzbyBpbXBsZW1lbnRzIGEgbWFwUG9zaXRpb25Ub1BvaW50IG1ldGhvZCB0aGlzXG4gKiBpcyB1c2VkIHRvIG1hcCB0aGUgcG9pbnRzIHRvIHRoZSBsb2NhbCBjb29yZGluYXRlIHNwYWNlIG9mIHRoZSB0aGUgdGFyZ2V0LlxuICpcbiAqIFRoaXMgbWFrZXMgaXQgZWFzaWVyIHRvIGxvb2t1cCBlbGVtZW50cyBhbmQgcmVsYXRlIGV2ZW50cyB0byBsb2NhbFxuICogcG9zaXRpb25zLlxuICogXG4gKiBAZXhwb3J0XG4gKiBAY2xhc3MgSW50ZXJhY3Rpb25NYXBwZXJcbiAqIEBleHRlbmRzIHtJbnRlcmFjdGlvbkRlbGVnYXRlfVxuICovXG5leHBvcnQgY2xhc3MgSW50ZXJhY3Rpb25NYXBwZXIgZXh0ZW5kcyBJbnRlcmFjdGlvbkRlbGVnYXRlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHsgdGFwRGlzdGFuY2UgPSAxMCwgbG9uZ1ByZXNzVGltZSA9IDUwMC4wLCB1c2VDYXB0dXJlID0gdHJ1ZSwgbW91c2VXaGVlbEVsZW1lbnQgPSBudWxsIH0gPSB7fVxuICAgICkge1xuICAgICAgICBzdXBlcihlbGVtZW50LCB0YXJnZXQsIHsgdGFwRGlzdGFuY2UsIHVzZUNhcHR1cmUsIGxvbmdQcmVzc1RpbWUsIG1vdXNlV2hlZWxFbGVtZW50IH0pXG4gICAgfVxuXG4gICAgZ2V0IHRhcmdldEludGVyZmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIElJbnRlcmFjdGlvbk1hcHBlclRhcmdldFxuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgZWxlbWVudCA9IG51bGwpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0Lm1hcFBvc2l0aW9uVG9Qb2ludCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0Lm1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgZWxlbWVudClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9pbnRcbiAgICB9XG5cbiAgICBpbnRlcmFjdGlvblN0YXJ0ZWQoZXZlbnQsIGtleSwgcG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0LmZpbmRUYXJnZXQpIHtcbiAgICAgICAgICAgIGxldCBsb2NhbCA9IHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KHBvaW50KVxuICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy50YXJnZXQuZmluZFRhcmdldChldmVudCwgbG9jYWwsIHBvaW50KVxuICAgICAgICAgICAgaWYgKGZvdW5kICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uLmFkZFRhcmdldChrZXksIGZvdW5kKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmNhcHR1cmUoZXZlbnQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy50YXJnZXQuZmluZFRhcmdldCkge1xuICAgICAgICAgICAgICAgIGxldCBwb2ludCA9IHRoaXMuZ2V0UG9zaXRpb24oZXZlbnQpXG4gICAgICAgICAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpXG4gICAgICAgICAgICAgICAgbGV0IGZvdW5kID0gdGhpcy50YXJnZXQuZmluZFRhcmdldChldmVudCwgbG9jYWwsIHBvaW50KVxuICAgICAgICAgICAgICAgIGlmIChmb3VuZCAhPSBudWxsICYmIGZvdW5kLm9uTW91c2VXaGVlbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZC5vbk1vdXNlV2hlZWwoZXZlbnQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnRhcmdldC5vbk1vdXNlV2hlZWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5vbk1vdXNlV2hlZWwoZXZlbnQpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignVGFyZ2V0IGhhcyBubyBvbk1vdXNlV2hlZWwgY2FsbGJhY2snLCB0aGlzLnRhcmdldClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50KVxuICAgICAgICB0aGlzLnN0YXJ0SW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICAgICAgbGV0IG1hcHBlZCA9IHRoaXMuaW50ZXJhY3Rpb24ubWFwSW50ZXJhY3Rpb24oXG4gICAgICAgICAgICBleHRyYWN0ZWQsXG4gICAgICAgICAgICBbJ2N1cnJlbnQnLCAnc3RhcnQnXSxcbiAgICAgICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50LmJpbmQodGhpcylcbiAgICAgICAgKVxuICAgICAgICBmb3IgKGxldCBbdGFyZ2V0LCBpbnRlcmFjdGlvbl0gb2YgbWFwcGVkLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgdGFyZ2V0Lm9uU3RhcnQoZXZlbnQsIGludGVyYWN0aW9uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50KSB7XG4gICAgICAgIGxldCBleHRyYWN0ZWQgPSB0aGlzLmV4dHJhY3RQb2ludChldmVudCwgJ2FsbCcpXG4gICAgICAgIHRoaXMudXBkYXRlSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICAgICAgbGV0IG1hcHBlZCA9IHRoaXMuaW50ZXJhY3Rpb24ubWFwSW50ZXJhY3Rpb24oXG4gICAgICAgICAgICBleHRyYWN0ZWQsXG4gICAgICAgICAgICBbJ2N1cnJlbnQnLCAncHJldmlvdXMnXSxcbiAgICAgICAgICAgIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50LmJpbmQodGhpcylcbiAgICAgICAgKVxuICAgICAgICBmb3IgKGxldCBbdGFyZ2V0LCBpbnRlcmFjdGlvbl0gb2YgbWFwcGVkLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgdGFyZ2V0Lm9uTW92ZShldmVudCwgaW50ZXJhY3Rpb24pXG4gICAgICAgICAgICBpbnRlcmFjdGlvbi51cGRhdGVQcmV2aW91cygpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbnRlcmFjdGlvbi51cGRhdGVQcmV2aW91cygpXG4gICAgfVxuXG4gICAgb25FbmQoZXZlbnQpIHtcbiAgICAgICAgbGV0IGV4dHJhY3RlZCA9IHRoaXMuZXh0cmFjdFBvaW50KGV2ZW50LCAnY2hhbmdlZFRvdWNoZXMnKVxuICAgICAgICB0aGlzLmVuZEludGVyYWN0aW9uKGV2ZW50LCBleHRyYWN0ZWQpXG4gICAgICAgIGxldCBtYXBwZWQgPSB0aGlzLmludGVyYWN0aW9uLm1hcEludGVyYWN0aW9uKFxuICAgICAgICAgICAgZXh0cmFjdGVkLFxuICAgICAgICAgICAgWydlbmRlZCddLFxuICAgICAgICAgICAgdGhpcy5tYXBQb3NpdGlvblRvUG9pbnQuYmluZCh0aGlzKVxuICAgICAgICApXG4gICAgICAgIGZvciAobGV0IFt0YXJnZXQsIGludGVyYWN0aW9uXSBvZiBtYXBwZWQuZW50cmllcygpKSB7XG4gICAgICAgICAgICB0YXJnZXQub25FbmQoZXZlbnQsIGludGVyYWN0aW9uKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmluaXNoSW50ZXJhY3Rpb24oZXZlbnQsIGV4dHJhY3RlZClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0eXBlcyAtIEFuIGV2ZW50IHR5cGUsIGFuIGFycmF5IG9mIGV2ZW50IHR5cGVzIG9yIGV2ZW50IHR5cGVzIHNlcGVyYXRlZCBieSBhIHNwYWNlIHNpZ24uIFRoZSBmb2xsb3dpbmdcbiAgICAgKiAgICAgZXZlbnRzIGFyZSBwb3NzaWJsZTpcbiAgICAgKiAgICAgICAgIHBhbiwgcGFuc3RhcnQsIHBhbm1vdmUsIHBhbmVuZCwgcGFuY2FuY2VsLCBwYW5sZWZ0LCBwYW5yaWdodCwgcGFudXAsIHBhbmRvd25cbiAgICAgKiAgICAgICAgIHBpbmNoLCBwaW5jaHN0YXJ0LCBwaW5jaG1vdmUsIHBpbmNoZW5kLCBwaW5jaGNhbmNlbCwgcGluY2hpbiwgcGluY2hvdXRcbiAgICAgKiAgICAgICAgIHByZXNzLCBwcmVzc3VwXG4gICAgICogICAgICAgICByb3RhdGUsIHJvdGF0ZXN0YXJ0LCByb3RhdGVtb3ZlLCByb3RhdGVlbmQsIHJvdGF0ZWNhbmNlbFxuICAgICAqICAgICAgICAgc3dpcGUsIHN3aXBlbGVmdCwgc3dpcGVyaWdodCwgc3dpcGV1cCwgc3dpcGVkb3duXG4gICAgICogICAgICAgICB0YXBcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fEhUTUxFbGVtZW50W119IGVsZW1lbnRzIC0gQW4gSFRNTCBlbGVtZW50IG9yIGFuIGFycmF5IG9mIEhUTUwgZWxlbWVudHMuXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2NiXSAtIFRoZSBjYWxsYmFjay4gQSBmdW5jdGlvbiB3aGljaCBpcyBleGVjdXRlZCBhZnRlciB0aGUgZXZlbnQgb2NjdXJzLiBSZWNlaXZlcyB0aGUgZXZlbnQgb2JqZWN0IGFzIHRoZVxuICAgICAqICAgICBmaXJzdCBwYXJhbXRlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdC4gU2VlIHRoZSBoYW1tZXIgZG9jdW1lbnRhdGlvbiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqL1xuICAgIHN0YXRpYyBvbih0eXBlcywgZWxlbWVudHMsIGNiLCBvcHRzID0ge30pIHtcblxuICAgICAgICBvcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgaWYgKHR5cGVvZiBIYW1tZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdIYW1tZXIuanMgbm90IGZvdW5kIScpXG4gICAgICAgICAgICByZXR1cm4gdGhpc1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29udmVydCB0byBhcnJheVxuICAgICAgICB0eXBlcyA9IEFycmF5LmlzQXJyYXkodHlwZXMpID8gdHlwZXMgOiB0eXBlcy5zcGxpdCgvXFxzLylcbiAgICAgICAgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgTm9kZUxpc3QgfHwgZWxlbWVudHMgaW5zdGFuY2VvZiBIVE1MQ29sbGVjdGlvbikge1xuICAgICAgICAgICAgZWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKVxuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnRzID0gQXJyYXkuaXNBcnJheShlbGVtZW50cykgPyBlbGVtZW50cyA6IFtlbGVtZW50c11cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHR5cGVzLmxlbmd0aDsgaSsrKSB7XG5cbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0eXBlc1tpXS50b0xvd2VyQ2FzZSgpXG5cbiAgICAgICAgICAgIC8vIGxpc3Qgb2YgaGFtbWVyIGV2ZW50c1xuICAgICAgICAgICAgY29uc3QgdXNlSGFtbWVyID0gL14odGFwfGRvdWJsZXRhcHxwcmVzc3xwYW58c3dpcGV8cGluY2h8cm90YXRlKS4qJC8udGVzdCh0eXBlKVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBpZiBpdCBpcyBhIGhhbW1lciBldmVudFxuICAgICAgICAgICAgaWYgKHVzZUhhbW1lcikge1xuXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbGVtZW50cy5sZW5ndGg7IGorKykge1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBoYW1tZXIgPSBuZXcgSGFtbWVyKGVsZW1lbnRzW2pdLCBvcHRzKVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cucHJvcGFnYXRpbmcgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW1tZXIgPSBwcm9wYWdhdGluZyhoYW1tZXIpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyByZWNvZ25pemVyc1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZS5zdGFydHNXaXRoKCdwYW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFtbWVyLmdldCgncGFuJykuc2V0KE9iamVjdC5hc3NpZ24oeyBkaXJlY3Rpb246IEhhbW1lci5ESVJFQ1RJT05fQUxMIH0sIG9wdHMpKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0aCgncGluY2gnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFtbWVyLmdldCgncGluY2gnKS5zZXQoT2JqZWN0LmFzc2lnbih7IGVuYWJsZTogdHJ1ZSB9LCBvcHRzKSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ3ByZXNzJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbW1lci5nZXQoJ3ByZXNzJykuc2V0KG9wdHMpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCdyb3RhdGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFtbWVyLmdldCgncm90YXRlJykuc2V0KE9iamVjdC5hc3NpZ24oeyBlbmFibGU6IHRydWUgfSwgb3B0cykpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZS5zdGFydHNXaXRoKCdzd2lwZScpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW1tZXIuZ2V0KCdzd2lwZScpLnNldChPYmplY3QuYXNzaWduKHsgZGlyZWN0aW9uOiBIYW1tZXIuRElSRUNUSU9OX0FMTCB9LCBvcHRzKSlcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlLnN0YXJ0c1dpdGgoJ3RhcCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYW1tZXIuZ2V0KCd0YXAnKS5zZXQob3B0cylcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGhhbW1lci5vbih0eXBlLCBjYilcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIEhhbW1lci5vbihlbGVtZW50c1tqXSwgdHlwZSwgY2IpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG5cbndpbmRvdy5JbnRlcmFjdGlvbk1hcHBlciA9IEludGVyYWN0aW9uTWFwcGVyXG4iLCIvKiogUmVwb3J0IGNhcGFiaWxpdGllcyB3aXRoIGd1YXJhbnRlZWQgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgQ2FwYWJpbGl0aWVzIHtcblxuICAgIC8qKiBSZXR1cm5zIHRoZSBicm93c2VyIHVzZXJBZ2VudC5cbiAgICBAcmV0dXJuIHtzdHJpbmd9XG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0IHVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQgfHwgJ1Vua25vd24gQWdlbnQnXG4gICAgfVxuXG4gICAgLyoqIFRlc3RzIHdoZXRoZXIgdGhlIGFwcCBpcyBydW5uaW5nIG9uIGEgbW9iaWxlIGRldmljZS5cbiAgICBJbXBsZW1lbnRlZCBhcyBhIHJlYWRvbmx5IGF0dHJpYnV0ZS5cbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGdldCBpc01vYmlsZSgpIHtcbiAgICAgICAgcmV0dXJuICgvTW9iaS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSlcbiAgICB9XG5cbiAgICAvKiogVGVzdHMgd2hldGhlciB0aGUgYXBwIGlzIHJ1bm5pbmcgb24gYSBpT1MgZGV2aWNlLlxuICAgIEltcGxlbWVudGVkIGFzIGEgcmVhZG9ubHkgYXR0cmlidXRlLlxuICAgIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0IGlzSU9TKCkge1xuICAgICAgICByZXR1cm4gKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSAmJiAhd2luZG93Lk1TU3RyZWFtXG4gICAgfVxuXG4gICAgIC8qKiBUZXN0cyB3aGV0aGVyIHRoZSBhcHAgaXMgcnVubmluZyBpbiBhIFNhZmFyaSBlbnZpcm9ubWVudC5cbiAgICBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNzk0NDQ2MC9kZXRlY3Qtc2FmYXJpLWJyb3dzZXJcbiAgICBJbXBsZW1lbnRlZCBhcyBhIHJlYWRvbmx5IGF0dHJpYnV0ZS5cbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIGdldCBpc1NhZmFyaSgpIHtcbiAgICAgICAgcmV0dXJuIG5hdmlnYXRvci52ZW5kb3IgJiYgbmF2aWdhdG9yLnZlbmRvci5pbmRleE9mKCdBcHBsZScpID4gLTEgJiZcbiAgICAgICAgICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgIW5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goJ0NyaU9TJylcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgZGlzcGxheSByZXNvbHV0aW9uLiBOZWNlc3NhcnkgZm9yIHJldGluYSBkaXNwbGF5cy5cbiAgICBAcmV0dXJuIHtudW1iZXJ9XG4gICAgKi9cbiAgICBzdGF0aWMgZ2V0IGRldmljZVBpeGVsUmF0aW8oKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZGV2aWNlIGlzIGEgbXVsdGktdG91Y2ggdGFibGUuIFRoaXMgbWV0aG9kIGlzIGN1cnJlbnRseSBub3QgdW5pdmVyc2FsIHVzYWJsZSBhbmQgbm90IHN1cmUhXG4gICAgQHJldHVybiB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHN0YXRpYyBnZXQgaXNNdWx0aVRvdWNoVGFibGUoKSB7XG4gICAgICAgIHJldHVybiBDYXBhYmlsaXRpZXMuZGV2aWNlUGl4ZWxSYXRpbyA+IDIgJiYgQ2FwYWJpbGl0aWVzLmlzTW9iaWxlID09PSBmYWxzZSAmJiAvV2luZG93cy9pLnRlc3QoQ2FwYWJpbGl0aWVzLnVzZXJBZ2VudClcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIG1vdXNlIGV2ZW50cyBhcmUgc3VwcG9ydGVkXG4gICAgQHJldHVybiB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHN0YXRpYyBzdXBwb3J0c01vdXNlRXZlbnRzKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mKHdpbmRvdy5Nb3VzZUV2ZW50KSAhPSAndW5kZWZpbmVkJ1xuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdG91Y2ggZXZlbnRzIGFyZSBzdXBwb3J0ZWRcbiAgICBAcmV0dXJuIHtib29sZWFufVxuICAgICovXG4gICAgc3RhdGljIHN1cHBvcnRzVG91Y2hFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yod2luZG93LlRvdWNoRXZlbnQpICE9ICd1bmRlZmluZWQnXG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiBwb2ludGVyIGV2ZW50cyBhcmUgc3VwcG9ydGVkXG4gICAgQHJldHVybiB7Ym9vbGVhbn1cbiAgICAqL1xuICAgIHN0YXRpYyBzdXBwb3J0c1BvaW50ZXJFdmVudHMoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2Yod2luZG93LlBvaW50ZXJFdmVudCkgIT0gJ3VuZGVmaW5lZCdcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIERPTSB0ZW1wbGF0ZXMgYXJlIHN1cHBvcnRlZFxuICAgIEByZXR1cm4ge2Jvb2xlYW59XG4gICAgKi9cbiAgICBzdGF0aWMgc3VwcG9ydHNUZW1wbGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICdjb250ZW50JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuICAgIH1cbn1cblxuLyoqIEJhc2ljIHRlc3RzIGZvciBDYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYXBhYmlsaXRpZXNUZXN0cyB7XG5cbiAgICBzdGF0aWMgdGVzdENvbmZpcm0oKSB7XG4gICAgICAgIGxldCBib29sID0gY29uZmlybSgnUGxlYXNlIGNvbmZpcm0nKVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVtbycpLmlubmVySFRNTCA9IChib29sKSA/ICdDb25maXJtZWQnIDogJ05vdCBjb25maXJtZWQnXG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3RQcm9tcHQoKSB7XG4gICAgICAgIGxldCBwZXJzb24gPSBwcm9tcHQoJ1BsZWFzZSBlbnRlciB5b3VyIG5hbWUnLCAnSGFycnkgUG90dGVyJylcbiAgICAgICAgaWYgKHBlcnNvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICBkZW1vLmlubmVySFRNTCA9XG4gICAgICAgICAgICAnSGVsbG8gJyArIHBlcnNvbiArICchIEhvdyBhcmUgeW91IHRvZGF5PydcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyB0ZXN0VXNlckFnZW50KCkge1xuICAgICAgICBsZXQgYWdlbnQgPSAnVXNlci1hZ2VudDogJyArIENhcGFiaWxpdGllcy51c2VyQWdlbnRcbiAgICAgICAgdXNlcl9hZ2VudC5pbm5lckhUTUwgPSBhZ2VudFxuICAgIH1cblxuICAgIHN0YXRpYyB0ZXN0RGV2aWNlUGl4ZWxSYXRpbygpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gJ0RldmljZSBQaXhlbCBSYXRpbzogJyArIENhcGFiaWxpdGllcy5kZXZpY2VQaXhlbFJhdGlvXG4gICAgICAgIGRldmljZV9waXhlbF9yYXRpby5pbm5lckhUTUwgPSB2YWx1ZVxuICAgIH1cblxuICAgIHN0YXRpYyB0ZXN0TXVsdGlUb3VjaFRhYmxlKCkge1xuICAgICAgICBsZXQgdmFsdWUgPSAnSXMgdGhlIGRldmljZSBhIG11bHRpLXRvdWNoIHRhYmxlPyAnICsgQ2FwYWJpbGl0aWVzLmlzTXVsdGlUb3VjaFRhYmxlXG4gICAgICAgIG11bHRpX3RvdWNoX3RhYmxlLmlubmVySFRNTCA9IHZhbHVlXG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3RTdXBwb3J0ZWRFdmVudHMoKSB7XG4gICAgICAgIGxldCBldmVudHMgPSBbXVxuICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLnN1cHBvcnRzTW91c2VFdmVudHMoKSkge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goJ01vdXNlRXZlbnRzJylcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLnN1cHBvcnRzVG91Y2hFdmVudHMoKSkge1xuICAgICAgICAgICAgZXZlbnRzLnB1c2goJ1RvdWNoRXZlbnRzJylcbiAgICAgICAgfVxuICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLnN1cHBvcnRzUG9pbnRlckV2ZW50cygpKSB7XG4gICAgICAgICAgICBldmVudHMucHVzaCgnUG9pbnRlckV2ZW50cycpXG4gICAgICAgIH1cbiAgICAgICAgc3VwcG9ydGVkX2V2ZW50cy5pbm5lckhUTUwgPSAnU3VwcG9ydGVkIEV2ZW50czogJyArIGV2ZW50cy5qb2luKCcsICcpXG4gICAgfVxuXG4gICAgc3RhdGljIHRlc3RBbGwoKSB7XG4gICAgICAgIHRoaXMudGVzdFVzZXJBZ2VudCgpXG4gICAgICAgIHRoaXMudGVzdERldmljZVBpeGVsUmF0aW8oKVxuICAgICAgICB0aGlzLnRlc3RNdWx0aVRvdWNoVGFibGUoKVxuICAgICAgICB0aGlzLnRlc3RTdXBwb3J0ZWRFdmVudHMoKVxuICAgIH1cbn1cblxuLyogT3B0aW9uYWwgZ2xvYmFsIHZhcmlhYmxlcywgbmVlZGVkIGluIERvY1Rlc3RzLiAqL1xud2luZG93LkNhcGFiaWxpdGllcyA9IENhcGFiaWxpdGllc1xud2luZG93LkNhcGFiaWxpdGllc1Rlc3RzID0gQ2FwYWJpbGl0aWVzVGVzdHNcbiIsImltcG9ydCB7IFBvaW50cywgUG9seWdvbiwgQW5nbGUsIEVsZW1lbnRzIH0gZnJvbSAnLi91dGlscy5qcydcbmltcG9ydCBFdmVudHMgZnJvbSAnLi9ldmVudHMuanMnXG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hcHBlciB9IGZyb20gJy4vaW50ZXJhY3Rpb24uanMnXG5pbXBvcnQgeyBDYXBhYmlsaXRpZXMgfSBmcm9tICcuL2NhcGFiaWxpdGllcy5qcydcblxuLyoqXG4gKiBBIGJhc2UgY2xhc3MgZm9yIHNjYXR0ZXIgc3BlY2lmaWMgZXZlbnRzLlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtuYW1lfSBTdHJpbmcgLSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAqIEBwYXJhbSB7dGFyZ2V0fSBPYmplY3QgLSBUaGUgdGFyZ2V0IG9mIHRoZSBldmVudFxuICovXG5leHBvcnQgY2xhc3MgQmFzZUV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB0YXJnZXQpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZVxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldFxuICAgIH1cbn1cblxuLy8gRXZlbnQgdHlwZXNcbmNvbnN0IFNUQVJUID0gJ29uU3RhcnQnXG5jb25zdCBVUERBVEUgPSAnb25VcGRhdGUnXG5jb25zdCBFTkQgPSAnb25FbmQnXG5jb25zdCBaT09NID0gJ29uWm9vbSdcbmNvbnN0IE1PVkUgPSAnb25Nb3ZlJ1xuXG4vKipcbiAqIEEgc2NhdHRlciBldmVudCB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIHNjYXR0ZXIgaGFzIGNoYW5nZWQuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3RhcmdldH0gT2JqZWN0IC0gVGhlIHRhcmdldCBzY2F0dGVyIG9mIHRoZSBldmVudFxuICogQHBhcmFtIHtvcHRpb25hbH0gT2JqZWN0IC0gT3B0aW9uYWwgcGFyYW1ldGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBTY2F0dGVyRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYW5zbGF0ZSA9IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgc2NhbGUgPSBudWxsLFxuICAgICAgICAgICAgcm90YXRlID0gMCxcbiAgICAgICAgICAgIGFib3V0ID0gbnVsbCxcbiAgICAgICAgICAgIGZhc3QgPSBmYWxzZSxcbiAgICAgICAgICAgIHR5cGUgPSBudWxsXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICBzdXBlcignc2NhdHRlclRyYW5zZm9ybWVkJywgeyB0YXJnZXQ6IHRhcmdldCB9KVxuICAgICAgICB0aGlzLnRyYW5zbGF0ZSA9IHRyYW5zbGF0ZVxuICAgICAgICB0aGlzLnNjYWxlID0gc2NhbGVcbiAgICAgICAgdGhpcy5yb3RhdGUgPSByb3RhdGVcbiAgICAgICAgdGhpcy5hYm91dCA9IGFib3V0XG4gICAgICAgIHRoaXMuZmFzdCA9IGZhc3RcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZVxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgXCJFdmVudCgnc2NhdHRlclRyYW5zZm9ybWVkJywgc2NhbGU6IFwiICtcbiAgICAgICAgICAgIHRoaXMuc2NhbGUgK1xuICAgICAgICAgICAgJyBhYm91dDogJyArXG4gICAgICAgICAgICB0aGlzLmFib3V0LnggK1xuICAgICAgICAgICAgJywgJyArXG4gICAgICAgICAgICB0aGlzLmFib3V0LnkgK1xuICAgICAgICAgICAgJyknXG4gICAgICAgIClcbiAgICB9XG59XG5cbi8qKlxuICogQSBzY2F0dGVyIHJlc2l6ZSBldmVudCB0aGF0IGRlc2NyaWJlcyBob3cgdGhlIHNjYXR0ZXIgaGFzIGNoYW5nZWQuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge3RhcmdldH0gT2JqZWN0IC0gVGhlIHRhcmdldCBzY2F0dGVyIG9mIHRoZSBldmVudFxuICogQHBhcmFtIHtvcHRpb25hbH0gT2JqZWN0IC0gT3B0aW9uYWwgcGFyYW1ldGVyXG4gKi9cbmV4cG9ydCBjbGFzcyBSZXNpemVFdmVudCBleHRlbmRzIEJhc2VFdmVudCB7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LCB7IHdpZHRoID0gMCwgaGVpZ2h0ID0gMCB9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoJ3NjYXR0ZXJSZXNpemVkJywgeyB3aWR0aDogd2lkdGgsIGhlaWdodDogaGVpZ2h0IH0pXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgIH1cblxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgJ0V2ZW50KHNjYXR0ZXJSZXNpemVkIHdpZHRoOiAnICtcbiAgICAgICAgICAgIHRoaXMud2lkdGggK1xuICAgICAgICAgICAgJ2hlaWdodDogJyArXG4gICAgICAgICAgICB0aGlzLmhlaWdodCArXG4gICAgICAgICAgICAnKSdcbiAgICAgICAgKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGFic3RyYWN0IGJhc2UgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSB0aHJvd2FibGUgYmVoYXZpb3Igb2YgYSBzY2F0dGVyXG4gKiBvYmplY3QuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIFRocm93YWJsZSB7XG4gICAgY29uc3RydWN0b3Ioe1xuICAgICAgICBtb3ZhYmxlWCA9IHRydWUsXG4gICAgICAgIG1vdmFibGVZID0gdHJ1ZSxcbiAgICAgICAgdGhyb3dWaXNpYmlsaXR5ID0gNDQsXG4gICAgICAgIHRocm93RGFtcGluZyA9IDAuOTUsXG4gICAgICAgIGF1dG9UaHJvdyA9IHRydWVcbiAgICB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5tb3ZhYmxlWCA9IG1vdmFibGVYXG4gICAgICAgIHRoaXMubW92YWJsZVkgPSBtb3ZhYmxlWVxuICAgICAgICB0aGlzLnRocm93VmlzaWJpbGl0eSA9IHRocm93VmlzaWJpbGl0eVxuICAgICAgICB0aGlzLnRocm93RGFtcGluZyA9IHRocm93RGFtcGluZ1xuICAgICAgICB0aGlzLmF1dG9UaHJvdyA9IGF1dG9UaHJvd1xuICAgICAgICB0aGlzLnZlbG9jaXRpZXMgPSBbXVxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gbnVsbFxuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IG51bGxcbiAgICB9XG5cbiAgICBvYnNlcnZlVmVsb2NpdHkoKSB7XG4gICAgICAgIHRoaXMubGFzdGZyYW1lID0gcGVyZm9ybWFuY2Uubm93KClcbiAgICB9XG5cbiAgICBhZGRWZWxvY2l0eShkZWx0YSwgYnVmZmVyID0gNSkge1xuICAgICAgICBsZXQgdCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgIGxldCBkdCA9IHQgLSB0aGlzLmxhc3RmcmFtZVxuICAgICAgICB0aGlzLmxhc3RmcmFtZSA9IHRcbiAgICAgICAgbGV0IHZlbG9jaXR5ID0geyB0OiB0LCBkdDogZHQsIGR4OiBkZWx0YS54LCBkeTogZGVsdGEueSB9XG4gICAgICAgIHRoaXMudmVsb2NpdGllcy5wdXNoKHZlbG9jaXR5KVxuICAgICAgICB3aGlsZSAodGhpcy52ZWxvY2l0aWVzLmxlbmd0aCA+IGJ1ZmZlcikge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0aWVzLnNoaWZ0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1lYW5WZWxvY2l0eShtaWxsaXNlY29uZHMgPSAzMCkge1xuICAgICAgICB0aGlzLmFkZFZlbG9jaXR5KHsgeDogMCwgeTogMCB9KVxuICAgICAgICBsZXQgc3VtID0geyB4OiAwLCB5OiAwIH1cbiAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICBsZXQgdCA9IDBcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMudmVsb2NpdGllcy5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMudmVsb2NpdGllc1tpXVxuICAgICAgICAgICAgdCArPSB2LmR0XG4gICAgICAgICAgICBsZXQgbnYgPSB7IHg6IHYuZHggLyB2LmR0LCB5OiB2LmR5IC8gdi5kdCB9XG4gICAgICAgICAgICBzdW0gPSBQb2ludHMuYWRkKHN1bSwgbnYpXG4gICAgICAgICAgICBjb3VudCArPSAxXG4gICAgICAgICAgICBpZiAodCA+IG1pbGxpc2Vjb25kcykge1xuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm4gc3VtIC8vIGVtcHR5IHZlY3RvclxuICAgICAgICByZXR1cm4gUG9pbnRzLm11bHRpcGx5U2NhbGFyKHN1bSwgMSAvIGNvdW50KVxuICAgIH1cblxuICAgIGtpbGxBbmltYXRpb24oKSB7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBudWxsXG4gICAgICAgIHRoaXMudmVsb2NpdGllcyA9IFtdXG4gICAgfVxuXG4gICAgc3RhcnRUaHJvdygpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMubWVhblZlbG9jaXR5KClcbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgIT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gQ2FsbCBuZXh0IHZlbG9jaXR5IHRvIGFuc3VyZSB0aGF0IHNwZWNpYWxpemF0aW9uc1xuICAgICAgICAgICAgLy8gdGhhdCB1c2Uga2VlcE9uU3RhZ2UgYXJlIGNhbGxlZFxuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMubmV4dFZlbG9jaXR5KHRoaXMudmVsb2NpdHkpXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRvVGhyb3cpIHRoaXMuYW5pbWF0ZVRocm93KHBlcmZvcm1hbmNlLm5vdygpKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vbkRyYWdDb21wbGV0ZSgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhbmltYXRlVGhyb3codGltZSkge1xuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eSAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgdCA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgICAgICBsZXQgZHQgPSB0IC0gdGhpcy5sYXN0ZnJhbWVcbiAgICAgICAgICAgIHRoaXMubGFzdGZyYW1lID0gdFxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJhbmltYXRlVGhyb3dcIiwgZHQpXG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubmV4dFZlbG9jaXR5KHRoaXMudmVsb2NpdHkpXG4gICAgICAgICAgICBsZXQgcHJldkxlbmd0aCA9IFBvaW50cy5sZW5ndGgodGhpcy52ZWxvY2l0eSlcbiAgICAgICAgICAgIGxldCBuZXh0TGVuZ3RoID0gUG9pbnRzLmxlbmd0aChuZXh0KVxuICAgICAgICAgICAgaWYgKG5leHRMZW5ndGggPiBwcmV2TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZhY3RvciA9IG5leHRMZW5ndGggLyBwcmV2TGVuZ3RoXG4gICAgICAgICAgICAgICAgbmV4dCA9IFBvaW50cy5tdWx0aXBseVNjYWxhcihuZXh0LCAxIC8gZmFjdG9yKVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQcmV2ZW50IGFjY2VsZXJhdGlvbicsIGZhY3RvciwgdGhpcy52ZWxvY2l0eSwgbmV4dClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSBuZXh0XG4gICAgICAgICAgICBsZXQgZCA9IFBvaW50cy5tdWx0aXBseVNjYWxhcih0aGlzLnZlbG9jaXR5LCBkdClcbiAgICAgICAgICAgIHRoaXMuX21vdmUoZClcbiAgICAgICAgICAgIHRoaXMub25EcmFnVXBkYXRlKGQpXG4gICAgICAgICAgICBpZiAoZHQgPT0gMCB8fCB0aGlzLm5lZWRzQW5pbWF0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRlVGhyb3cuYmluZCh0aGlzKSlcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNPdXRzaWRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0ZVRocm93LmJpbmQodGhpcykpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMub25EcmFnQ29tcGxldGUoKVxuICAgIH1cblxuICAgIG5lZWRzQW5pbWF0aW9uKCkge1xuICAgICAgICByZXR1cm4gUG9pbnRzLmxlbmd0aCh0aGlzLnZlbG9jaXR5KSA+IDAuMDFcbiAgICB9XG5cbiAgICBuZXh0VmVsb2NpdHkodmVsb2NpdHkpIHtcbiAgICAgICAgLy8gTXVzdCBiZSBvdmVyd3JpdHRlbjogY29tcHV0ZXMgdGhlIGNoYW5nZWQgdmVsb2NpdHkuIEltcGxlbWVudFxuICAgICAgICAvLyBkYW1waW5nLCBjb2xsaXNvbiBkZXRlY3Rpb24sIGV0Yy4gaGVyZVxuICAgICAgICBsZXQgbmV4dCA9IFBvaW50cy5tdWx0aXBseVNjYWxhcih2ZWxvY2l0eSwgdGhpcy50aHJvd0RhbXBpbmcpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiAodGhpcy5tb3ZhYmxlWCkgPyBuZXh0LnggOiAwLFxuICAgICAgICAgICAgeTogKHRoaXMubW92YWJsZVkpID8gbmV4dC55IDogMFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX21vdmUoZGVsdGEpIHsgfVxuXG4gICAgb25EcmFnQ29tcGxldGUoKSB7IH1cblxuICAgIG9uRHJhZ1VwZGF0ZShkZWx0YSkgeyB9XG59XG5cbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFNjYXR0ZXIgZXh0ZW5kcyBUaHJvd2FibGUge1xuICAgIGNvbnN0cnVjdG9yKHtcbiAgICAgICAgbWluU2NhbGUgPSAwLjEsXG4gICAgICAgIG1heFNjYWxlID0gMS4wLFxuICAgICAgICBzdGFydFNjYWxlID0gMS4wLFxuICAgICAgICBhdXRvQnJpbmdUb0Zyb250ID0gdHJ1ZSxcbiAgICAgICAgYXV0b1Rocm93ID0gdHJ1ZSxcbiAgICAgICAgdHJhbnNsYXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICByb3RhdGFibGUgPSB0cnVlLFxuICAgICAgICByZXNpemFibGUgPSBmYWxzZSxcbiAgICAgICAgbW92YWJsZVggPSB0cnVlLFxuICAgICAgICBtb3ZhYmxlWSA9IHRydWUsXG4gICAgICAgIHRocm93VmlzaWJpbGl0eSA9IDQ0LFxuICAgICAgICB0aHJvd0RhbXBpbmcgPSAwLjk1LFxuICAgICAgICBvdmVyZG9TY2FsaW5nID0gMSxcbiAgICAgICAgbW91c2Vab29tRmFjdG9yID0gMS4xLFxuICAgICAgICByb3RhdGlvbkRlZ3JlZXMgPSBudWxsLFxuICAgICAgICByb3RhdGlvbiA9IG51bGwsXG4gICAgICAgIG9uVHJhbnNmb3JtID0gbnVsbCxcbiAgICAgICAgaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgfSA9IHt9KSB7XG4gICAgICAgIGlmIChyb3RhdGlvbkRlZ3JlZXMgIT0gbnVsbCAmJiByb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZSByb3RhdGlvbkRlZ3JlZXMgb3Igcm90YXRpb24gYnV0IG5vdCBib3RoJylcbiAgICAgICAgfSBlbHNlIGlmIChyb3RhdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICByb3RhdGlvbkRlZ3JlZXMgPSBBbmdsZS5yYWRpYW4yZGVncmVlKHJvdGF0aW9uKVxuICAgICAgICB9IGVsc2UgaWYgKHJvdGF0aW9uRGVncmVlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICByb3RhdGlvbkRlZ3JlZXMgPSAwXG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbW92YWJsZVgsXG4gICAgICAgICAgICBtb3ZhYmxlWSxcbiAgICAgICAgICAgIHRocm93VmlzaWJpbGl0eSxcbiAgICAgICAgICAgIHRocm93RGFtcGluZyxcbiAgICAgICAgICAgIGF1dG9UaHJvd1xuICAgICAgICB9KVxuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gaW50ZXJhY3RpdmVcbiAgICAgICAgdGhpcy5zdGFydFJvdGF0aW9uRGVncmVlcyA9IHJvdGF0aW9uRGVncmVlc1xuICAgICAgICB0aGlzLnN0YXJ0U2NhbGUgPSBzdGFydFNjYWxlIC8vIE5lZWRlZCB0byByZXNldCBvYmplY3RcbiAgICAgICAgdGhpcy5taW5TY2FsZSA9IG1pblNjYWxlXG4gICAgICAgIHRoaXMubWF4U2NhbGUgPSBtYXhTY2FsZVxuICAgICAgICB0aGlzLm92ZXJkb1NjYWxpbmcgPSBvdmVyZG9TY2FsaW5nXG4gICAgICAgIHRoaXMudHJhbnNsYXRhYmxlID0gdHJhbnNsYXRhYmxlXG4gICAgICAgIGlmICghdHJhbnNsYXRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLm1vdmFibGVYID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMubW92YWJsZVkgPSBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhbGFibGUgPSBzY2FsYWJsZVxuICAgICAgICB0aGlzLnJvdGF0YWJsZSA9IHJvdGF0YWJsZVxuICAgICAgICB0aGlzLnJlc2l6YWJsZSA9IHJlc2l6YWJsZVxuICAgICAgICB0aGlzLm1vdXNlWm9vbUZhY3RvciA9IG1vdXNlWm9vbUZhY3RvclxuICAgICAgICB0aGlzLmF1dG9CcmluZ1RvRnJvbnQgPSBhdXRvQnJpbmdUb0Zyb250XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZVxuICAgICAgICB0aGlzLm9uVHJhbnNmb3JtID0gb25UcmFuc2Zvcm0gIT0gbnVsbCA/IFtvblRyYW5zZm9ybV0gOiBudWxsXG4gICAgfVxuXG4gICAgYWRkVHJhbnNmb3JtRXZlbnRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICBpZiAodGhpcy5vblRyYW5zZm9ybSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtID0gW11cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLnB1c2goY2FsbGJhY2spXG4gICAgfVxuXG4gICAgc3RhcnRHZXN0dXJlKGludGVyYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcbiAgICAgICAgdGhpcy5raWxsQW5pbWF0aW9uKClcbiAgICAgICAgdGhpcy5vYnNlcnZlVmVsb2NpdHkoKVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIGdlc3R1cmUoaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgXG4gICAgICAgIGxldCBkZWx0YSA9IGludGVyYWN0aW9uLmRlbHRhKClcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImdlc3R1cmVcIiwgZGVsdGEpXG4gICAgICAgIGlmIChkZWx0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFZlbG9jaXR5KGRlbHRhKVxuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0oZGVsdGEsIGRlbHRhLnpvb20sIGRlbHRhLnJvdGF0ZSwgZGVsdGEuYWJvdXQpXG4gICAgICAgICAgICBpZiAoZGVsdGEuem9vbSAhPSAxKSB0aGlzLmludGVyYWN0aW9uQW5jaG9yID0gZGVsdGEuYWJvdXRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBwb2x5Z29uKCkge1xuICAgICAgICBsZXQgdzIgPSB0aGlzLndpZHRoICogdGhpcy5zY2FsZSAvIDJcbiAgICAgICAgbGV0IGgyID0gdGhpcy5oZWlnaHQgKiB0aGlzLnNjYWxlIC8gMlxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5jZW50ZXJcbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbihjZW50ZXIpXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IGgyIH0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IGgyIH0pXG4gICAgICAgIHBvbHlnb24ucm90YXRlKHRoaXMucm90YXRpb24pXG4gICAgICAgIHJldHVybiBwb2x5Z29uXG4gICAgfVxuXG4gICAgaXNPdXRzaWRlKCkge1xuICAgICAgICBsZXQgc3RhZ2VQb2x5Z29uID0gdGhpcy5jb250YWluZXJQb2x5Z29uXG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5wb2x5Z29uXG4gICAgICAgIGxldCByZXN1bHQgPSBzdGFnZVBvbHlnb24uaW50ZXJzZWN0c1dpdGgocG9seWdvbilcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gZmFsc2UgfHwgcmVzdWx0Lm92ZXJsYXAgPCB0aGlzLnRocm93VmlzaWJpbGl0eVxuICAgIH1cblxuICAgIHJlY2VudGVyKCkge1xuICAgICAgICAvLyBSZXR1cm4gYSBzbWFsbCB2ZWN0b3IgdGhhdCBndWFyYW50ZWVzIHRoYXQgdGhlIHNjYXR0ZXIgaXMgbW92aW5nXG4gICAgICAgIC8vIHRvd2FyZHMgdGhlIGNlbnRlciBvZiB0aGUgc3RhZ2VcbiAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuY2VudGVyXG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmNvbnRhaW5lci5jZW50ZXJcbiAgICAgICAgbGV0IGRlbHRhID0gUG9pbnRzLnN1YnRyYWN0KHRhcmdldCwgY2VudGVyKVxuICAgICAgICByZXR1cm4gUG9pbnRzLm5vcm1hbGl6ZShkZWx0YSlcbiAgICB9XG5cbiAgICBuZXh0VmVsb2NpdHkodmVsb2NpdHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2VlcE9uU3RhZ2UodmVsb2NpdHkpXG4gICAgfVxuXG4gICAgYm91bmNpbmcoKSB7XG4gICAgICAgIC8vIEltcGxlbWVudHMgdGhlIGJvdW5jaW5nIGJlaGF2aW9yIG9mIHRoZSBzY2F0dGVyLiBNb3ZlcyB0aGUgc2NhdHRlclxuICAgICAgICAvLyB0byB0aGUgY2VudGVyIG9mIHRoZSBzdGFnZSBpZiB0aGUgc2NhdHRlciBpcyBvdXRzaWRlIHRoZSBzdGFnZSBvclxuICAgICAgICAvLyBub3Qgd2l0aGluIHRoZSBsaW1pdHMgb2YgdGhlIHRocm93VmlzaWJpbGl0eS5cblxuICAgICAgICBsZXQgc3RhZ2VQb2x5Z29uID0gdGhpcy5jb250YWluZXJQb2x5Z29uXG4gICAgICAgIGxldCBwb2x5Z29uID0gdGhpcy5wb2x5Z29uXG4gICAgICAgIGxldCByZXN1bHQgPSBzdGFnZVBvbHlnb24uaW50ZXJzZWN0c1dpdGgocG9seWdvbilcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UgfHwgcmVzdWx0Lm92ZXJsYXAgPCB0aGlzLnRocm93VmlzaWJpbGl0eSkge1xuICAgICAgICAgICAgbGV0IGN2ID0gdGhpcy5yZWNlbnRlcigpXG4gICAgICAgICAgICBsZXQgcmVjZW50ZXJlZCA9IGZhbHNlXG4gICAgICAgICAgICB3aGlsZSAocmVzdWx0ID09PSBmYWxzZSB8fCByZXN1bHQub3ZlcmxhcCA8IHRoaXMudGhyb3dWaXNpYmlsaXR5KSB7XG4gICAgICAgICAgICAgICAgcG9seWdvbi5jZW50ZXIueCArPSBjdi54XG4gICAgICAgICAgICAgICAgcG9seWdvbi5jZW50ZXIueSArPSBjdi55XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92ZShjdilcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBzdGFnZVBvbHlnb24uaW50ZXJzZWN0c1dpdGgocG9seWdvbilcbiAgICAgICAgICAgICAgICByZWNlbnRlcmVkID0gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlY2VudGVyZWRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBrZWVwT25TdGFnZSh2ZWxvY2l0eSwgY29sbGlzaW9uID0gMC41KSB7XG4gICAgICAgIGxldCBzdGFnZVBvbHlnb24gPSB0aGlzLmNvbnRhaW5lclBvbHlnb25cbiAgICAgICAgaWYgKCFzdGFnZVBvbHlnb24pIHJldHVyblxuICAgICAgICBsZXQgcG9seWdvbiA9IHRoaXMucG9seWdvblxuICAgICAgICBsZXQgYm91bmNlZCA9IHRoaXMuYm91bmNpbmcoKVxuICAgICAgICBpZiAoYm91bmNlZCkge1xuICAgICAgICAgICAgbGV0IHN0YWdlID0gdGhpcy5jb250YWluZXJCb3VuZHNcbiAgICAgICAgICAgIGxldCB4ID0gdGhpcy5jZW50ZXIueFxuICAgICAgICAgICAgbGV0IHkgPSB0aGlzLmNlbnRlci55XG4gICAgICAgICAgICBsZXQgZHggPSB0aGlzLm1vdmFibGVYID8gdmVsb2NpdHkueCA6IDBcbiAgICAgICAgICAgIGxldCBkeSA9IHRoaXMubW92YWJsZVkgPyB2ZWxvY2l0eS55IDogMFxuICAgICAgICAgICAgbGV0IGZhY3RvciA9IHRoaXMudGhyb3dEYW1waW5nXG4gICAgICAgICAgICAvLyBpZiAocmVjZW50ZXJlZCkge1xuICAgICAgICAgICAgaWYgKHggPCAwKSB7XG4gICAgICAgICAgICAgICAgZHggPSAtZHhcbiAgICAgICAgICAgICAgICBmYWN0b3IgPSBjb2xsaXNpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh4ID4gc3RhZ2Uud2lkdGgpIHtcbiAgICAgICAgICAgICAgICBkeCA9IC1keFxuICAgICAgICAgICAgICAgIGZhY3RvciA9IGNvbGxpc2lvblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZHkgPSAtZHlcbiAgICAgICAgICAgICAgICBmYWN0b3IgPSBjb2xsaXNpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh5ID4gc3RhZ2UuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgZHkgPSAtZHlcbiAgICAgICAgICAgICAgICBmYWN0b3IgPSBjb2xsaXNpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgIHJldHVybiBQb2ludHMubXVsdGlwbHlTY2FsYXIoeyB4OiBkeCwgeTogZHkgfSwgZmFjdG9yKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5uZXh0VmVsb2NpdHkodmVsb2NpdHkpXG4gICAgfVxuXG4gICAgZW5kR2VzdHVyZShpbnRlcmFjdGlvbikge1xuICAgICAgICB0aGlzLnN0YXJ0VGhyb3coKVxuICAgIH1cblxuICAgIHJvdGF0ZURlZ3JlZXMoZGVncmVlcywgYW5jaG9yKSB7XG4gICAgICAgIGxldCByYWQgPSBBbmdsZS5kZWdyZWUycmFkaWFuKGRlZ3JlZXMpXG4gICAgICAgIHRoaXMucm90YXRlKHJhZCwgYW5jaG9yKVxuICAgIH1cblxuICAgIHJvdGF0ZShyYWQsIGFuY2hvcikge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSh7IHg6IDAsIHk6IDAgfSwgMS4wLCByYWQsIGFuY2hvcilcbiAgICB9XG5cbiAgICBtb3ZlKGQsIHsgYW5pbWF0ZSA9IDAgfSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLnRyYW5zbGF0YWJsZSkge1xuICAgICAgICAgICAgaWYgKGFuaW1hdGUgPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0UG9zID0gdGhpcy5wb3NpdGlvblxuICAgICAgICAgICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLCBhbmltYXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIHg6ICcrPScgKyBkLngsXG4gICAgICAgICAgICAgICAgICAgIHk6ICcrPScgKyBkLnksXG4gICAgICAgICAgICAgICAgICAgIC8qIHNjYWxlOiBzY2FsZSwgdW86IG5vdCBkZWZpbmVkLCB3aHkgd2FzIHRoaXMgaGVyZT8gKi9cbiAgICAgICAgICAgICAgICAgICAgb25VcGRhdGU6IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHAgPSB0aGlzLnBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHggPSBwLnggLSBzdGFydFBvcy54XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZHkgPSBwLnggLSBzdGFydFBvcy55XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTW92ZWQoZHgsIGR5KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW92ZShkKVxuICAgICAgICAgICAgICAgIHRoaXMub25Nb3ZlZChkLngsIGQueSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVUbyhwLCB7IGFuaW1hdGUgPSAwIH0gPSB7fSkge1xuICAgICAgICBsZXQgYyA9IHRoaXMub3JpZ2luXG4gICAgICAgIGxldCBkZWx0YSA9IFBvaW50cy5zdWJ0cmFjdChwLCBjKVxuICAgICAgICB0aGlzLm1vdmUoZGVsdGEsIHsgYW5pbWF0ZTogYW5pbWF0ZSB9KVxuICAgIH1cblxuICAgIGNlbnRlckF0KHAsIHsgYW5pbWF0ZSA9IDAgfSA9IHt9KSB7XG4gICAgICAgIGxldCBjID0gdGhpcy5jZW50ZXJcbiAgICAgICAgbGV0IGRlbHRhID0gUG9pbnRzLnN1YnRyYWN0KHAsIGMpXG4gICAgICAgIHRoaXMubW92ZShkZWx0YSwgeyBhbmltYXRlOiBhbmltYXRlIH0pXG4gICAgfVxuXG4gICAgem9vbShcbiAgICAgICAgc2NhbGUsXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFuaW1hdGUgPSAwLFxuICAgICAgICAgICAgYWJvdXQgPSBudWxsLFxuICAgICAgICAgICAgZGVsYXkgPSAwLFxuICAgICAgICAgICAgeCA9IG51bGwsXG4gICAgICAgICAgICB5ID0gbnVsbCxcbiAgICAgICAgICAgIG9uQ29tcGxldGUgPSBudWxsXG4gICAgICAgIH0gPSB7fVxuICAgICkge1xuICAgICAgICBsZXQgYW5jaG9yID0gYWJvdXQgfHwgdGhpcy5jZW50ZXJcbiAgICAgICAgaWYgKHNjYWxlICE9IHRoaXMuc2NhbGUpIHtcbiAgICAgICAgICAgIGlmIChhbmltYXRlID4gMCkge1xuICAgICAgICAgICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLCBhbmltYXRlLCB7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlOiBzY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBvbkNvbXBsZXRlLFxuICAgICAgICAgICAgICAgICAgICBvblVwZGF0ZTogdGhpcy5vblpvb21lZC5iaW5kKHRoaXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlXG4gICAgICAgICAgICAgICAgdGhpcy5vblpvb21lZChhbmNob3IpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfbW92ZShkZWx0YSkge1xuICAgICAgICB0aGlzLnggKz0gdGhpcy5tb3ZhYmxlWCA/IGRlbHRhLnggOiAwXG4gICAgICAgIHRoaXMueSArPSB0aGlzLm1vdmFibGVYID8gZGVsdGEueSA6IDBcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0odHJhbnNsYXRlLCB6b29tLCByb3RhdGUsIGFuY2hvcikge1xuICAgICAgICBsZXQgZGVsdGEgPSB7XG4gICAgICAgICAgICB4OiB0aGlzLm1vdmFibGVYID8gdHJhbnNsYXRlLnggOiAwLFxuICAgICAgICAgICAgeTogdGhpcy5tb3ZhYmxlWSA/IHRyYW5zbGF0ZS55IDogMFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc2l6YWJsZSkgdmFyIHZ6b29tID0gem9vbVxuICAgICAgICBpZiAoIXRoaXMudHJhbnNsYXRhYmxlKSBkZWx0YSA9IHsgeDogMCwgeTogMCB9XG4gICAgICAgIGlmICghdGhpcy5yb3RhdGFibGUpIHJvdGF0ZSA9IDBcbiAgICAgICAgaWYgKCF0aGlzLnNjYWxhYmxlKSB6b29tID0gMS4wXG4gICAgICAgIGlmICh6b29tID09IDEuMCAmJiByb3RhdGUgPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fbW92ZShkZWx0YSlcbiAgICAgICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRlOiBkZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgYWJvdXQ6IGFuY2hvcixcbiAgICAgICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFVQREFURVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGYoZXZlbnQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW4gPSB0aGlzLnJvdGF0aW9uT3JpZ2luXG4gICAgICAgIGxldCBiZXRhID0gUG9pbnRzLmFuZ2xlKG9yaWdpbiwgYW5jaG9yKVxuICAgICAgICBsZXQgZGlzdGFuY2UgPSBQb2ludHMuZGlzdGFuY2Uob3JpZ2luLCBhbmNob3IpXG4gICAgICAgXG4gICAgICAgIGxldCB7c2NhbGU6IG5ld1NjYWxlLCB6b29tOiB0aHJlc2hvbGRlZFpvb219ID0gdGhpcy5jYWxjdWxhdGVTY2FsZSh6b29tKVxuXG4gICAgICAgIGxldCBuZXdPcmlnaW4gPSBQb2ludHMuYXJjKGFuY2hvciwgYmV0YSArIHJvdGF0ZSwgZGlzdGFuY2UgKiB0aHJlc2hvbGRlZFpvb20pXG4gICAgICAgIGxldCBleHRyYSA9IFBvaW50cy5zdWJ0cmFjdChuZXdPcmlnaW4sIG9yaWdpbilcbiAgICAgICAgbGV0IG9mZnNldCA9IFBvaW50cy5zdWJ0cmFjdChhbmNob3IsIG9yaWdpbilcbiAgICAgICAgdGhpcy5fbW92ZShvZmZzZXQpXG4gICAgICAgIHRoaXMuc2NhbGUgPSBuZXdTY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uICs9IHJvdGF0ZVxuICAgICAgICBvZmZzZXQgPSBQb2ludHMubmVnYXRlKG9mZnNldClcbiAgICAgICAgb2Zmc2V0ID0gUG9pbnRzLmFkZChvZmZzZXQsIGV4dHJhKVxuICAgICAgICBvZmZzZXQgPSBQb2ludHMuYWRkKG9mZnNldCwgdHJhbnNsYXRlKVxuICAgICAgICB0aGlzLl9tb3ZlKG9mZnNldClcblxuICAgICAgICBkZWx0YS54ICs9IGV4dHJhLnhcbiAgICAgICAgZGVsdGEueSArPSBleHRyYS55XG4gICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogZGVsdGEsXG4gICAgICAgICAgICAgICAgc2NhbGU6IG5ld1NjYWxlLFxuICAgICAgICAgICAgICAgIHJvdGF0ZTogcm90YXRlLFxuICAgICAgICAgICAgICAgIGFib3V0OiBhbmNob3JcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICBmKGV2ZW50KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5yZXNpemFibGUpIHtcbiAgICAgICAgICAgIHRoaXMucmVzaXplQWZ0ZXJUcmFuc2Zvcm0odnpvb20pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGb3IgYSBnaXZlbiB6b29tLCBhIG5ldyBzY2FsZSBpcyBjYWxjdWxhdGVkLCB0YWtpbmdcbiAgICAgKiBtaW4gYW5kIG1heCBzY2FsZSBpbnRvIGFjY291bnQuXG4gICAgICogXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHpvb20gLSBUaGUgem9vbSBmYWN0b3IsIHRvIHNjYWxlIHRoZSBvYmplY3Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGEgdmFsdWUgZm9yIGEgdmFsaWQgc2NhbGUgYW5kIHRoZSBjb3JyZWN0ZWQgem9vbSBmYWN0b3IuXG4gICAgICovXG4gICAgY2FsY3VsYXRlU2NhbGUoem9vbSkge1xuICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLnNjYWxlICogem9vbVxuXG4gICAgICAgIGxldCBtaW5TY2FsZSA9IHRoaXMubWluU2NhbGUgLyB0aGlzLm92ZXJkb1NjYWxpbmdcbiAgICAgICAgbGV0IG1heFNjYWxlID0gdGhpcy5tYXhTY2FsZSAqIHRoaXMub3ZlcmRvU2NhbGluZ1xuICAgICAgICBpZiAoc2NhbGUgPCBtaW5TY2FsZSkge1xuICAgICAgICAgICAgc2NhbGUgPSBtaW5TY2FsZVxuICAgICAgICAgICAgem9vbSA9IHNjYWxlIC8gdGhpcy5zY2FsZVxuICAgICAgICB9XG4gICAgICAgIGlmIChzY2FsZSA+IG1heFNjYWxlKSB7XG4gICAgICAgICAgICBzY2FsZSA9IG1heFNjYWxlXG4gICAgICAgICAgICB6b29tID0gc2NhbGUgLyB0aGlzLnNjYWxlXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3pvb20sIHNjYWxlfVxuICAgIH1cblxuICAgIHJlc2l6ZUFmdGVyVHJhbnNmb3JtKHpvb20pIHtcbiAgICAgICAgLy8gT3ZlcndyaXRlIHRoaXMgaW4gc3ViY2xhc3Nlcy5cbiAgICB9XG5cbiAgICB2YWxpZFNjYWxlKHNjYWxlKSB7XG4gICAgICAgIHNjYWxlID0gTWF0aC5tYXgoc2NhbGUsIHRoaXMubWluU2NhbGUpXG4gICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGUsIHRoaXMubWF4U2NhbGUpXG4gICAgICAgIHJldHVybiBzY2FsZVxuICAgIH1cblxuICAgIGFuaW1hdGVab29tQm91bmNlKGR0ID0gMSkge1xuICAgICAgICBpZiAodGhpcy56b29tQW5jaG9yICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCB6b29tID0gMVxuICAgICAgICAgICAgbGV0IGFtb3VudCA9IE1hdGgubWluKDAuMDEsIDAuMyAqIGR0IC8gMTAwMDAwLjApXG4gICAgICAgICAgICBpZiAodGhpcy5zY2FsZSA8IHRoaXMubWluU2NhbGUpIHpvb20gPSAxICsgYW1vdW50XG4gICAgICAgICAgICBpZiAodGhpcy5zY2FsZSA+IHRoaXMubWF4U2NhbGUpIHpvb20gPSAxIC0gYW1vdW50XG4gICAgICAgICAgICBpZiAoem9vbSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm0oeyB4OiAwLCB5OiAwIH0sIHpvb20sIDAsIHRoaXMuem9vbUFuY2hvcilcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGVab29tQm91bmNlKGR0KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnpvb21BbmNob3IgPSBudWxsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja1NjYWxpbmcoYWJvdXQsIGRlbGF5ID0gMCkge1xuICAgICAgICB0aGlzLnpvb21BbmNob3IgPSBhYm91dFxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5hbmltYXRlWm9vbUJvdW5jZS5iaW5kKHRoaXMpKVxuICAgICAgICBzZXRUaW1lb3V0KHRoaXMuYW5pbWF0ZVpvb21Cb3VuY2UuYmluZCh0aGlzKSwgZGVsYXkpXG4gICAgfVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudC5jbGFpbWVkQnlTY2F0dGVyKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuY2xhaW1lZEJ5U2NhdHRlciAhPSB0aGlzKSByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmtpbGxBbmltYXRpb24oKVxuICAgICAgICB0aGlzLnRhcmdldFNjYWxlID0gbnVsbFxuICAgICAgICBsZXQgZGlyZWN0aW9uID0gZXZlbnQuZGV0YWlsIDwgMCB8fCBldmVudC53aGVlbERlbHRhID4gMFxuICAgICAgICBsZXQgZ2xvYmFsUG9pbnQgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFkgfVxuICAgICAgICBsZXQgY2VudGVyUG9pbnQgPSB0aGlzLm1hcFBvc2l0aW9uVG9Db250YWluZXJQb2ludChnbG9iYWxQb2ludClcbiAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICAgICAgICBsZXQgZGVncmVlcyA9IGRpcmVjdGlvbiA/IDUgOiAtNVxuICAgICAgICAgICAgbGV0IHJhZCA9IEFuZ2xlLmRlZ3JlZTJyYWRpYW4oZGVncmVlcylcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zZm9ybSh7IHg6IDAsIHk6IDAgfSwgMS4wLCByYWQsIGNlbnRlclBvaW50KVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHpvb21GYWN0b3IgPSB0aGlzLm1vdXNlWm9vbUZhY3RvclxuICAgICAgICBsZXQgem9vbSA9IGRpcmVjdGlvbiA/IHpvb21GYWN0b3IgOiAxIC8gem9vbUZhY3RvclxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh7IHg6IDAsIHk6IDAgfSwgem9vbSwgMCwgY2VudGVyUG9pbnQpXG4gICAgICAgIHRoaXMuY2hlY2tTY2FsaW5nKGNlbnRlclBvaW50LCAyMDApXG4gICAgICAgIC8vXG4gICAgICAgIC8vICAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAvLyAgICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgU2NhdHRlckV2ZW50KHRoaXMsIHtcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIHRyYW5zbGF0ZToge3g6IDAsIHk6IDB9LFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICByb3RhdGU6IDAsXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICBhYm91dDogbnVsbCxcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIGZhc3Q6IGZhbHNlLFxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgdHlwZTogWk9PTVxuICAgICAgICAvLyAgICAgICAgICAgICB9KVxuICAgICAgICAvLyAgICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgICAvLyAgICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TdGFydChldmVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0R2VzdHVyZShpbnRlcmFjdGlvbikpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aW9uQW5jaG9yID0gbnVsbFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2NhbGU6IHRoaXMuc2NhbGUsXG4gICAgICAgICAgICAgICAgcm90YXRlOiAwLFxuICAgICAgICAgICAgICAgIGFib3V0OiBudWxsLFxuICAgICAgICAgICAgICAgIGZhc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFNUQVJUXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdmUoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIC8qKiBBcyBsb25nIGFzIG1vdXNlb3V0ICYmIG1vdXNlbGVhdmUgaW50ZXJydXB0IHdlIGNhbm5vdCBiZSBzdXJlIHRoYXRcbiAgICAgICAgICogZHJhZ2dpbmcgcmVtYWlucyBjb3JyZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VzdHVyZShpbnRlcmFjdGlvbilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRW5kKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwiU2NhdHRlci5vbkVuZFwiLCB0aGlzLmRyYWdnaW5nKVxuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uaXNGaW5pc2hlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLmVuZEdlc3R1cmUoaW50ZXJhY3Rpb24pXG4gICAgICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2VcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBvZiBpbnRlcmFjdGlvbi5lbmRlZC5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZXJhY3Rpb24uaXNUYXAoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9pbnQgPSBpbnRlcmFjdGlvbi5lbmRlZC5nZXQoa2V5KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFwKGV2ZW50LCBpbnRlcmFjdGlvbiwgcG9pbnQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgcm90YXRlOiAwLFxuICAgICAgICAgICAgICAgICAgICBhYm91dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgZmFzdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEVORFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGYoZXZlbnQpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYWJvdXQgPSB0aGlzLmludGVyYWN0aW9uQW5jaG9yXG4gICAgICAgIGlmIChhYm91dCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrU2NhbGluZyhhYm91dCwgMTAwKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25UYXAoZXZlbnQsIGludGVyYWN0aW9uLCBwb2ludCkgeyB9XG5cbiAgICBvbkRyYWdVcGRhdGUoZGVsdGEpIHtcbiAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IFNjYXR0ZXJFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgZmFzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGU6IGRlbHRhLFxuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGFib3V0OiB0aGlzLmN1cnJlbnRBYm91dCxcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRyYWdDb21wbGV0ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGFib3V0OiB0aGlzLmN1cnJlbnRBYm91dCxcbiAgICAgICAgICAgICAgICBmYXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdmVkKGR4LCBkeSwgYWJvdXQpIHtcbiAgICAgICAgaWYgKHRoaXMub25UcmFuc2Zvcm0gIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IGV2ZW50ID0gbmV3IFNjYXR0ZXJFdmVudCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlOiB7IHg6IGR4LCB5OiBkeSB9LFxuICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgICAgICAgICAgICBmYXN0OiB0cnVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG51bGxcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLm9uVHJhbnNmb3JtLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcbiAgICAgICAgICAgICAgICBmKGV2ZW50KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uUmVzaXppbmcoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGZhc3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IG51bGxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uWm9vbWVkKGFib3V0KSB7XG4gICAgICAgIGlmICh0aGlzLm9uVHJhbnNmb3JtICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBldmVudCA9IG5ldyBTY2F0dGVyRXZlbnQodGhpcywge1xuICAgICAgICAgICAgICAgIHNjYWxlOiB0aGlzLnNjYWxlLFxuICAgICAgICAgICAgICAgIGFib3V0OiBhYm91dCxcbiAgICAgICAgICAgICAgICBmYXN0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBudWxsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5vblRyYW5zZm9ybS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgICAgICAgZihldmVudClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKiBBIGNvbnRhaW5lciBmb3Igc2NhdHRlciBvYmplY3RzLCB3aGljaCB1c2VzIGEgc2luZ2xlIEludGVyYWN0aW9uTWFwcGVyXG4gKiBmb3IgYWxsIGNoaWxkcmVuLiBUaGlzIHJlZHVjZXMgdGhlIG51bWJlciBvZiByZWdpc3RlcmVkIGV2ZW50IGhhbmRsZXJzXG4gKiBhbmQgY292ZXJzIHRoZSBjb21tb24gdXNlIGNhc2UgdGhhdCBtdWx0aXBsZSBvYmplY3RzIGFyZSBzY2F0dGVyZWRcbiAqIG9uIHRoZSBzYW1lIGxldmVsLlxuICovXG5leHBvcnQgY2xhc3MgRE9NU2NhdHRlckNvbnRhaW5lciB7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtET00gbm9kZX0gZWxlbWVudCAtIERPTSBlbGVtZW50IHRoYXQgcmVjZWl2ZXMgZXZlbnRzXG4gICAgICogQHBhcmFtIHtCb29sfSBzdG9wRXZlbnRzIC0gIFdoZXRoZXIgZXZlbnRzIHNob3VsZCBiZSBzdG9wcGVkIG9yIHByb3BhZ2F0ZWRcbiAgICAgKiBAcGFyYW0ge0Jvb2x9IGNsYWltRXZlbnRzIC0gV2hldGhlciBldmVudHMgc2hvdWxkIGJlIG1hcmtlZCBhcyBjbGFpbWVkXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGZpbmRUYXJnZXQgcmV0dXJuIGFzIG5vbi1udWxsIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbdG91Y2hBY3Rpb249bm9uZV0gLSBDU1MgdG8gc2V0IHRvdWNoIGFjdGlvbiBzdHlsZSwgbmVlZGVkIHRvIHByZXZlbnRcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ZXIgY2FuY2VsIGV2ZW50cy4gVXNlIG51bGwgaWYgdGhlXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgdG91Y2ggYWN0aW9uIHNob3VsZCBub3QgYmUgc2V0LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBlbGVtZW50LFxuICAgICAgICB7IHN0b3BFdmVudHMgPSAnYXV0bycsIGNsYWltRXZlbnRzID0gdHJ1ZSwgdXNlQ2FwdHVyZSA9IHRydWUsIHRvdWNoQWN0aW9uID0gJ25vbmUnIH0gPSB7fVxuICAgICkge1xuICAgICAgICB0aGlzLm9uQ2FwdHVyZSA9IG51bGxcbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICBpZiAoc3RvcEV2ZW50cyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBpZiAoQ2FwYWJpbGl0aWVzLmlzU2FmYXJpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgJ3RvdWNobW92ZScsXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50ID0+IHRoaXMucHJldmVudFBpbmNoKGV2ZW50KSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgc3RvcEV2ZW50cyA9IGZhbHNlXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0b3BFdmVudHMgPSB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wRXZlbnRzID0gc3RvcEV2ZW50c1xuICAgICAgICB0aGlzLmNsYWltRXZlbnRzID0gY2xhaW1FdmVudHNcbiAgICAgICAgaWYgKHRvdWNoQWN0aW9uICE9PSBudWxsKSB7XG4gICAgICAgICAgICBFbGVtZW50cy5zZXRTdHlsZShlbGVtZW50LCB7IHRvdWNoQWN0aW9uIH0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2F0dGVyID0gbmV3IE1hcCgpXG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBuZXcgSW50ZXJhY3Rpb25NYXBwZXIoZWxlbWVudCwgdGhpcywge1xuICAgICAgICAgICAgdXNlQ2FwdHVyZSxcbiAgICAgICAgICAgIG1vdXNlV2hlZWxFbGVtZW50OiB3aW5kb3dcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodHlwZW9mIGRlYnVnQ2FudmFzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dUb3VjaGVzKGR0KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dUb3VjaGVzKGR0KSB7XG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gd2luZG93LmRldmljZVBpeGVsUmF0aW9cbiAgICAgICAgbGV0IGNhbnZhcyA9IGRlYnVnQ2FudmFzXG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5kZWxlZ2F0ZS5pbnRlcmFjdGlvbi5jdXJyZW50XG4gICAgICAgIGxldCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJylcbiAgICAgICAgbGV0IHJhZGl1cyA9IDIwICogcmVzb2x1dGlvblxuICAgICAgICBjb250ZXh0LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpXG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJ3JnYmEoMCwgMCwgMCwgMC4zKSdcbiAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAyXG4gICAgICAgIGNvbnRleHQuc3Ryb2tlU3R5bGUgPSAnIzAwMzMwMCdcbiAgICAgICAgZm9yIChsZXQgW2tleSwgcG9pbnRdIG9mIGN1cnJlbnQuZW50cmllcygpKSB7XG4gICAgICAgICAgICBsZXQgbG9jYWwgPSBwb2ludFxuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKVxuICAgICAgICAgICAgY29udGV4dC5hcmMoXG4gICAgICAgICAgICAgICAgbG9jYWwueCAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgbG9jYWwueSAqIHJlc29sdXRpb24sXG4gICAgICAgICAgICAgICAgcmFkaXVzLFxuICAgICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpXG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpXG4gICAgICAgIH1cbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGR0ID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1RvdWNoZXMoZHQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgcHJldmVudFBpbmNoKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCB8fCBldmVudFxuICAgICAgICBpZiAoZXZlbnQuc2NhbGUgIT09IDEpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZChzY2F0dGVyKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci5zZXQoc2NhdHRlci5lbGVtZW50LCBzY2F0dGVyKVxuICAgIH1cblxuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMub25DYXB0dXJlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vbkNhcHR1cmUoZXZlbnQpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldCA9PSB0aGlzLmVsZW1lbnQgJiYgdGhpcy5zdG9wRXZlbnRzKSB7XG4gICAgICAgICAgICBFdmVudHMuc3RvcChldmVudClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCkge1xuICAgICAgICByZXR1cm4gUG9pbnRzLmZyb21QYWdlVG9Ob2RlKHRoaXMuZWxlbWVudCwgcG9pbnQpXG4gICAgfVxuXG4gICAgaXNEZXNjZW5kYW50KHBhcmVudCwgY2hpbGQsIGNsaWNrYWJsZSA9IGZhbHNlKSB7XG4gICAgICAgIGlmIChwYXJlbnQgPT0gY2hpbGQpIHJldHVybiB0cnVlXG4gICAgICAgIGxldCBub2RlID0gY2hpbGQucGFyZW50Tm9kZVxuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIWNsaWNrYWJsZSAmJiBub2RlLm9uY2xpY2spIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlID09IHBhcmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgZmluZFRhcmdldChldmVudCwgbG9jYWwsIGdsb2JhbCkge1xuICAgICAgICAvKioqIE5vdGUgdGhhdCBlbGVtZW50RnJvbVBvaW50IHdvcmtzIHdpdGggY2xpZW50WCwgY2xpZW50WSwgbm90IHBhZ2VYLCBwYWdlWVxuICAgICAgICBUaGUgaW1wb3J0YW50IHBvaW50IGlzIHRoYXQgZXZlbnQgc2hvdWxkIG5vdCBiZSB1c2VkLCBzaW5jZSB0aGUgVG91Y2hFdmVudFxuICAgICAgICBwb2ludHMgYXJlIGhpZGRlbiBpbiBzdWIgb2JqZWN0cy5cbiAgICAgICAgKioqL1xuICAgICAgICBsZXQgZm91bmQgPSBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGdsb2JhbC54LCBnbG9iYWwueSlcbiAgICAgICAgZm9yIChsZXQgdGFyZ2V0IG9mIHRoaXMuc2NhdHRlci52YWx1ZXMoKSkge1xuICAgICAgICAgICAgaWYgKHRhcmdldC5pbnRlcmFjdGl2ZSAmJiB0aGlzLmlzRGVzY2VuZGFudCh0YXJnZXQuZWxlbWVudCwgZm91bmQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RvcEV2ZW50cykgRXZlbnRzLnN0b3AoZXZlbnQpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xhaW1FdmVudHMpIGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIgPSB0YXJnZXRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGxcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuYm91bmRzXG4gICAgICAgIGxldCB3MiA9IHIud2lkdGggLyAyXG4gICAgICAgIGxldCBoMiA9IHIuaGVpZ2h0IC8gMlxuICAgICAgICByZXR1cm4geyB4OiB3MiwgeTogaDIgfVxuICAgIH1cblxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICB9XG5cbiAgICBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgbGV0IHIgPSB0aGlzLmJvdW5kc1xuICAgICAgICBsZXQgdzIgPSByLndpZHRoIC8gMlxuICAgICAgICBsZXQgaDIgPSByLmhlaWdodCAvIDJcbiAgICAgICAgbGV0IGNlbnRlciA9IHsgeDogdzIsIHk6IGgyIH1cbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbihjZW50ZXIpXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IGgyIH0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IGgyIH0pXG4gICAgICAgIHJldHVybiBwb2x5Z29uXG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBET01TY2F0dGVyIGV4dGVuZHMgQWJzdHJhY3RTY2F0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZWxlbWVudCxcbiAgICAgICAgY29udGFpbmVyLFxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydFNjYWxlID0gMS4wLFxuICAgICAgICAgICAgbWluU2NhbGUgPSAwLjEsXG4gICAgICAgICAgICBtYXhTY2FsZSA9IDEuMCxcbiAgICAgICAgICAgIG92ZXJkb1NjYWxpbmcgPSAxLjUsXG4gICAgICAgICAgICBhdXRvQnJpbmdUb0Zyb250ID0gdHJ1ZSxcbiAgICAgICAgICAgIHRyYW5zbGF0YWJsZSA9IHRydWUsXG4gICAgICAgICAgICBzY2FsYWJsZSA9IHRydWUsXG4gICAgICAgICAgICByb3RhdGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgbW92YWJsZVggPSB0cnVlLFxuICAgICAgICAgICAgbW92YWJsZVkgPSB0cnVlLFxuICAgICAgICAgICAgcm90YXRpb25EZWdyZWVzID0gbnVsbCxcbiAgICAgICAgICAgIHJvdGF0aW9uID0gbnVsbCxcbiAgICAgICAgICAgIG9uVHJhbnNmb3JtID0gbnVsbCxcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbiA9ICdjZW50ZXIgY2VudGVyJyxcbiAgICAgICAgICAgIC8vIGV4dHJhcyB3aGljaCBhcmUgaW4gcGFydCBuZWVkZWRcbiAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICB3aWR0aCA9IG51bGwsXG4gICAgICAgICAgICBoZWlnaHQgPSBudWxsLFxuICAgICAgICAgICAgcmVzaXphYmxlID0gZmFsc2UsXG4gICAgICAgICAgICBzaW11bGF0ZUNsaWNrID0gZmFsc2UsXG4gICAgICAgICAgICB2ZXJib3NlID0gdHJ1ZSxcbiAgICAgICAgICAgIG9uUmVzaXplID0gbnVsbCxcbiAgICAgICAgICAgIHRvdWNoQWN0aW9uID0gJ25vbmUnLFxuICAgICAgICAgICAgdGhyb3dWaXNpYmlsaXR5ID0gNDQsXG4gICAgICAgICAgICB0aHJvd0RhbXBpbmcgPSAwLjk1LFxuICAgICAgICAgICAgYXV0b1Rocm93ID0gdHJ1ZVxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgbWluU2NhbGUsXG4gICAgICAgICAgICBtYXhTY2FsZSxcbiAgICAgICAgICAgIHN0YXJ0U2NhbGUsXG4gICAgICAgICAgICBvdmVyZG9TY2FsaW5nLFxuICAgICAgICAgICAgYXV0b0JyaW5nVG9Gcm9udCxcbiAgICAgICAgICAgIHRyYW5zbGF0YWJsZSxcbiAgICAgICAgICAgIHNjYWxhYmxlLFxuICAgICAgICAgICAgcm90YXRhYmxlLFxuICAgICAgICAgICAgbW92YWJsZVgsXG4gICAgICAgICAgICBtb3ZhYmxlWSxcbiAgICAgICAgICAgIHJlc2l6YWJsZSxcbiAgICAgICAgICAgIHJvdGF0aW9uRGVncmVlcyxcbiAgICAgICAgICAgIHJvdGF0aW9uLFxuICAgICAgICAgICAgb25UcmFuc2Zvcm0sXG4gICAgICAgICAgICB0aHJvd1Zpc2liaWxpdHksXG4gICAgICAgICAgICB0aHJvd0RhbXBpbmcsXG4gICAgICAgICAgICBhdXRvVGhyb3dcbiAgICAgICAgfSlcbiAgICAgICAgaWYgKGNvbnRhaW5lciA9PSBudWxsIHx8IHdpZHRoID09IG51bGwgfHwgaGVpZ2h0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCB2YWx1ZTogbnVsbCcpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudFxuICAgICAgICB0aGlzLnggPSB4XG4gICAgICAgIHRoaXMueSA9IHlcbiAgICAgICAgdGhpcy5vbGRYID0gMFxuICAgICAgICB0aGlzLm9sZFkgPSAwXG4gICAgICAgIHRoaXMubWVhblggPSB4XG4gICAgICAgIHRoaXMubWVhblkgPSB5XG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodFxuICAgICAgICB0aGlzLnRocm93VmlzaWJpbGl0eSA9IE1hdGgubWluKHdpZHRoLCBoZWlnaHQsIHRocm93VmlzaWJpbGl0eSlcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXJcbiAgICAgICAgdGhpcy5zaW11bGF0ZUNsaWNrID0gc2ltdWxhdGVDbGlja1xuICAgICAgICB0aGlzLnNjYWxlID0gc3RhcnRTY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uRGVncmVlcyA9IHRoaXMuc3RhcnRSb3RhdGlvbkRlZ3JlZXNcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1PcmlnaW4gPSB0cmFuc2Zvcm1PcmlnaW5cbiAgICAgICAgdGhpcy5pbml0aWFsVmFsdWVzID0ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHNjYWxlOiBzdGFydFNjYWxlLFxuICAgICAgICAgICAgcm90YXRpb246IHRoaXMuc3RhcnRSb3RhdGlvbkRlZ3JlZXMsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRyYW5zZm9ybU9yaWdpblxuICAgICAgICB9XG4gICAgICAgIC8vIEZvciB0d2VlbmxpdGUgd2UgbmVlZCBpbml0aWFsIHZhbHVlcyBpbiBfZ3NUcmFuc2Zvcm1cbiAgICAgICAgVHdlZW5MaXRlLnNldChlbGVtZW50LCB0aGlzLmluaXRpYWxWYWx1ZXMpXG4gICAgICAgIHRoaXMub25SZXNpemUgPSBvblJlc2l6ZVxuICAgICAgICB0aGlzLnZlcmJvc2UgPSB2ZXJib3NlXG4gICAgICAgIGlmICh0b3VjaEFjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgRWxlbWVudHMuc2V0U3R5bGUoZWxlbWVudCwgeyB0b3VjaEFjdGlvbiB9KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzaXplQnV0dG9uID0gbnVsbFxuICAgICAgICBpZihyZXNpemFibGUpe1xuICAgICAgICAgICAgbGV0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIilcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLnJpZ2h0ID0gXCIwcHhcIlxuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmJvdHRvbSA9IFwiMHB4XCJcbiAgICAgICAgICAgIGJ1dHRvbi5zdHlsZS53aWR0aCA9IFwiNTBweFwiO1xuICAgICAgICAgICAgYnV0dG9uLnN0eWxlLmhlaWdodCA9IFwiNTBweFwiO1xuICAgICAgICAgICAgLy8gYnV0dG9uLnN0eWxlLmJvcmRlclJhZGl1cyA9IFwiMTAwJSAwcHggMHB4IDBweFwiO1xuICAgICAgICAgICAgLy8gYnV0dG9uLnN0eWxlLmJhY2tncm91bmQgPSB0aGlzLmVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yXG4gICAgICAgICAgICBidXR0b24uY2xhc3NOYW1lID0gXCJpbnRlcmFjdGl2ZUVsZW1lbnRcIlxuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGJ1dHRvbilcblxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywoZSk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UmVzaXplKGUpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLChlKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMucmVzaXplKGUpXG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywoZSk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnN0b3BSZXNpemUoZSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUJ1dHRvbiA9IGJ1dHRvblxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lci5hZGQodGhpcylcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyBnZW9tZXRyeSBkYXRhIGFzIG9iamVjdC4gKiovXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLnJvdGF0aW9uXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb25PcmlnaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNlbnRlclxuICAgIH1cblxuICAgIGdldCB4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feFxuICAgIH1cblxuICAgIGdldCB5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5feVxuICAgIH1cblxuICAgIHNldCB4KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3ggPSB2YWx1ZVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyB4OiB2YWx1ZSB9KVxuICAgIH1cblxuICAgIHNldCB5KHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX3kgPSB2YWx1ZVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyB5OiB2YWx1ZSB9KVxuICAgIH1cblxuICAgIGdldCBwb3NpdGlvbigpIHtcbiAgICAgICAgbGV0IHRyYW5zZm9ybSA9IHRoaXMuZWxlbWVudC5fZ3NUcmFuc2Zvcm1cbiAgICAgICAgbGV0IHggPSB0cmFuc2Zvcm0ueFxuICAgICAgICBsZXQgeSA9IHRyYW5zZm9ybS55XG4gICAgICAgIHJldHVybiB7IHgsIHkgfVxuICAgIH1cblxuICAgIGdldCBvcmlnaW4oKSB7XG4gICAgICAgIGxldCBwID0gdGhpcy5mcm9tTm9kZVRvUGFnZSgwLCAwKVxuICAgICAgICByZXR1cm4gUG9pbnRzLmZyb21QYWdlVG9Ob2RlKHRoaXMuY29udGFpbmVyLmVsZW1lbnQsIHApXG4gICAgfVxuXG4gICAgZ2V0IGJvdW5kcygpIHtcbiAgICAgICAgbGV0IHN0YWdlID0gdGhpcy5jb250YWluZXIuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICBsZXQgcmVjdCA9IHRoaXMuZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCAtIHN0YWdlLnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCAtIHN0YWdlLmxlZnQsXG4gICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCxcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHRcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBjZW50ZXIoKSB7XG4gICAgICAgIGxldCByID0gdGhpcy5ib3VuZHNcbiAgICAgICAgbGV0IHcyID0gci53aWR0aCAvIDJcbiAgICAgICAgbGV0IGgyID0gci5oZWlnaHQgLyAyXG4gICAgICAvLyAgIGlmICh0aGlzLnJlc2l6YWJsZSkge1xuLy8gICAgICAgICAgICAgdzIgKj0gdGhpcy5zY2FsZVxuLy8gICAgICAgICAgICAgaDIgKj0gdGhpcy5zY2FsZVxuLy8gICAgICAgICB9XG4gICAgICAgIHZhciB4ID0gci5sZWZ0ICsgdzJcbiAgICAgICAgdmFyIHkgPSByLnRvcCArIGgyXG4gICAgICAgIHJldHVybiB7IHgsIHkgfVxuICAgIH1cblxuICAgIHNldCByb3RhdGlvbihyYWRpYW5zKSB7XG4gICAgICAgIGxldCByYWQgPSByYWRpYW5zIC8vIEFuZ2xlLm5vcm1hbGl6ZShyYWRpYW5zKVxuICAgICAgICBsZXQgZGVncmVlcyA9IEFuZ2xlLnJhZGlhbjJkZWdyZWUocmFkKVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyByb3RhdGlvbjogZGVncmVlcyB9KVxuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IHJhZFxuICAgIH1cblxuICAgIHNldCByb3RhdGlvbkRlZ3JlZXMoZGVncmVlcykge1xuICAgICAgICBsZXQgZGVnID0gZGVncmVlcyAvLyBBbmdsZS5ub3JtYWxpemVEZWdyZWUoZGVncmVlcylcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgcm90YXRpb246IGRlZyB9KVxuICAgICAgICB0aGlzLl9yb3RhdGlvbiA9IEFuZ2xlLmRlZ3JlZTJyYWRpYW4oZGVnKVxuICAgIH1cblxuICAgIGdldCByb3RhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uXG4gICAgfVxuXG4gICAgZ2V0IHJvdGF0aW9uRGVncmVlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JvdGF0aW9uXG4gICAgfVxuXG4gICAgc2V0IHNjYWxlKHNjYWxlKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7XG4gICAgICAgICAgICBzY2FsZTogc2NhbGUsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46IHRoaXMudHJhbnNmb3JtT3JpZ2luXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuX3NjYWxlID0gc2NhbGVcbiAgICB9XG5cbiAgICBnZXQgc2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY2FsZVxuICAgIH1cblxuICAgIGdldCBjb250YWluZXJCb3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lci5ib3VuZHNcbiAgICB9XG5cbiAgICBnZXQgY29udGFpbmVyUG9seWdvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLnBvbHlnb25cbiAgICB9XG5cbiAgICBtYXBQb3NpdGlvblRvQ29udGFpbmVyUG9pbnQocG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLm1hcFBvc2l0aW9uVG9Qb2ludChwb2ludClcbiAgICB9XG5cbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB0aGlzLmluaXRpYWxWYWx1ZXMpXG4gICAgfVxuXG4gICAgaGlkZSgpIHtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRoaXMuZWxlbWVudCwgMC4xLCB7XG4gICAgICAgICAgICBkaXNwbGF5OiAnbm9uZScsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmVsZW1lbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgc2hvdygpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgIH1cblxuICAgIHNob3dBdChwLCByb3RhdGlvbkRlZ3JlZXMpIHtcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6ICdibG9jaycsXG4gICAgICAgICAgICB4OiBwLngsXG4gICAgICAgICAgICB5OiBwLnksXG4gICAgICAgICAgICByb3RhdGlvbjogcm90YXRpb25EZWdyZWVzLFxuICAgICAgICAgICAgdHJhbnNmb3JtT3JpZ2luOiB0aGlzLnRyYW5zZm9ybU9yaWdpblxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgLy8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5lbGVtZW50KVxuICAgICAgICAvLyB1bzogT24gQ2hvbWUgYW5kIEVsZWN0b24gYXBwZW5kQ2hpbGQgbGVhZHMgdG8gZmxpY2tlclxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyB6SW5kZXg6IERPTVNjYXR0ZXIuekluZGV4KysgfSlcbiAgICB9XG5cbiAgICB0b2dnbGVWaWRlbyhlbGVtZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LnBhdXNlZCkge1xuICAgICAgICAgICAgZWxlbWVudC5wbGF5KClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVsZW1lbnQucGF1c2UoKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25UYXAoZXZlbnQsIGludGVyYWN0aW9uLCBwb2ludCkge1xuICAgICAgICBpZiAodGhpcy5zaW11bGF0ZUNsaWNrKSB7XG4gICAgICAgICAgICBsZXQgcCA9IFBvaW50cy5mcm9tUGFnZVRvTm9kZSh0aGlzLmVsZW1lbnQsIHBvaW50KVxuICAgICAgICAgICAgbGV0IGlmcmFtZSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdpZnJhbWUnKVxuICAgICAgICAgICAgaWYgKGlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBkb2MgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudFxuICAgICAgICAgICAgICAgIGxldCBlbGVtZW50ID0gZG9jLmVsZW1lbnRGcm9tUG9pbnQocC54LCBwLnkpXG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50LnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnVklERU8nOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZWxlbWVudC5jdXJyZW50U3JjKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBvcHVwTWVudSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcHVwTWVudS5vcGVuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdWxsc2NyZWVuOiAoKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGVsZW1lbnQuY3VycmVudFNyYyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5OiAoKSA9PiBlbGVtZW50LnBsYXkoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHgsIHkgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVWaWRlbyhlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xpY2soKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzRGVzY2VuZGFudChwYXJlbnQsIGNoaWxkKSB7XG4gICAgICAgIGxldCBub2RlID0gY2hpbGQucGFyZW50Tm9kZVxuICAgICAgICB3aGlsZSAobm9kZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAobm9kZSA9PSBwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cblxuICAgIGZyb21QYWdlVG9Ob2RlKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50cy5mcm9tUGFnZVRvTm9kZSh0aGlzLmVsZW1lbnQsIHsgeCwgeSB9KVxuICAgIH1cblxuICAgIGZyb21Ob2RlVG9QYWdlKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIFBvaW50cy5mcm9tTm9kZVRvUGFnZSh0aGlzLmVsZW1lbnQsIHsgeCwgeSB9KVxuICAgIH1cblxuICAgIF9tb3ZlKGRlbHRhKSB7XG4gICAgICAgIC8vIFVPOiBXZSBuZWVkIHRvIGtlZXAgVHdlZW5MaXRlJ3MgX2dzVHJhbnNmb3JtIGFuZCB0aGUgcHJpdmF0ZVxuICAgICAgICAvLyBfeCBhbmQgX3kgYXR0cmlidXRlcyBhbGlnbmVkXG4gICAgICAgIGxldCB4ID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS54XG4gICAgICAgIGxldCB5ID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS55XG4gICAgICAgIGlmICh0aGlzLm1vdmFibGVYKSB7XG4gICAgICAgICAgICB4ICs9IGRlbHRhLnhcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb3ZhYmxlWSkge1xuICAgICAgICAgICAgeSArPSBkZWx0YS55XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5feCA9IHhcbiAgICAgICAgdGhpcy5feSA9IHlcbiAgICAgICAgVHdlZW5MaXRlLnNldCh0aGlzLmVsZW1lbnQsIHsgeDogeCwgeTogeSB9KVxuICAgIH1cblxuICAgIHJlc2l6ZUFmdGVyVHJhbnNmb3JtKHpvb20pIHtcbiAgICAgICAvLyAgbGV0IHcgPSB0aGlzLndpZHRoICogdGhpcy5zY2FsZVxuLy8gICAgICAgICBsZXQgaCA9IHRoaXMuaGVpZ2h0ICogdGhpcy5zY2FsZVxuLy8gICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0pXG4gICAgICAgIGlmICh0aGlzLm9uUmVzaXplKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgUmVzaXplRXZlbnQodGhpcywgeyB3aWR0aDogdywgaGVpZ2h0OiBoIH0pXG4gICAgICAgICAgICB0aGlzLm9uUmVzaXplKGV2ZW50KVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZUJ1dHRvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyB0aGlzLnJlc2l6ZUJ1dHRvbi5zdHlsZS53aWR0aCA9IDUwL3RoaXMuc2NhbGUrXCJweFwiXG4gICAgICAgICAgICAvLyB0aGlzLnJlc2l6ZUJ1dHRvbi5zdHlsZS5oZWlnaHQgPSA1MC90aGlzLnNjYWxlK1wicHhcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRSZXNpemUoZSl7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0aW5nIHJlc2l6ZVwiKVxuICAgICAgICBsZXQgb2xkUG9zdGl0aW9uID0ge3g6JCh0aGlzLmVsZW1lbnQpLnBvc2l0aW9uKCkubGVmdCwgeTokKHRoaXMuZWxlbWVudCkucG9zaXRpb24oKS50b3B9XG4gICAgICAgIHRoaXMuYnJpbmdUb0Zyb250KClcblxuICAgICAgICB0aGlzLmVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gXCIwJSAwJVwiXG5cbiAgICAgICAgICAgIGxldCBuZXdQb3N0aXRpb24gPSB7eDokKHRoaXMuZWxlbWVudCkucG9zaXRpb24oKS5sZWZ0LCB5OiQodGhpcy5lbGVtZW50KS5wb3NpdGlvbigpLnRvcH1cblxuICAgICAgICAgICAgbGV0IG9mZnNldCA9IFBvaW50cy5zdWJ0cmFjdChvbGRQb3N0aXRpb24sbmV3UG9zdGl0aW9uKVxuXG4gICAgICAgICAgICB0aGlzLm9sZFggPSBlLmNsaWVudFhcbiAgICAgICAgICAgIHRoaXMub2xkWSA9IGUuY2xpZW50WVxuXG4gICAgICAgICAgICBlLnRhcmdldC5zZXRBdHRyaWJ1dGUoJ3Jlc2l6aW5nJyxcInRydWVcIilcbiAgICAgICAgICAgIGUudGFyZ2V0LnNldFBvaW50ZXJDYXB0dXJlKGUucG9pbnRlcklkKVxuXG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmVsZW1lbnQsIDAsIHtjc3M6e2xlZnQ6XCIrPVwiK29mZnNldC54K1wicHhcIn19KVxuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5lbGVtZW50LCAwLCB7Y3NzOnt0b3A6XCIrPVwiK29mZnNldC55K1wicHhcIn19KVxuICAgIH1cblxuICAgIHJlc2l6ZShlKXtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgbGV0IHJvdGF0aW9uID0gQW5nbGUucmFkaWFuMmRlZ3JlZSh0aGlzLnJvdGF0aW9uKVxuXG4gICAgICAgIHJvdGF0aW9uID0gKHJvdGF0aW9uKzM2MCklMzYwXG5cbiAgICAgICAgaWYoZS50YXJnZXQuZ2V0QXR0cmlidXRlKCdyZXNpemluZycpPT1cInRydWVcIil7XG5cbiAgICAgICAgICAgIGxldCBkZWx0YVggPSAoZS5jbGllbnRYLXRoaXMub2xkWClcbiAgICAgICAgICAgIGxldCBkZWx0YVkgPSAoZS5jbGllbnRZLXRoaXMub2xkWSlcblxuICAgICAgICAgICAgbGV0IHIgPSBNYXRoLnNxcnQoTWF0aC5wb3coZGVsdGFYLCAyKSArIE1hdGgucG93KGRlbHRhWSwgMikpXG4gICAgICAgICAgICBsZXQgcGhpID0gQW5nbGUucmFkaWFuMmRlZ3JlZShNYXRoLmF0YW4yKGRlbHRhWCwgZGVsdGFZKSlcblxuICAgICAgICAgICAgcGhpID0gKChwaGkpICsgNjMwKSAlIDM2MFxuICAgICAgICAgICAgbGV0IHJvdCA9ICgocm90YXRpb24gKyA5MCkgKyA2MzApICUgMzYwXG5cbiAgICAgICAgICAgIGxldCBkaWZmQW5nbGUgPSAoKDAgKyByb3QpICsgMzYwKSAlIDM2MFxuICAgICAgICAgICAgbGV0IHBoaUNvcnJlY3RlZCA9IChwaGkgKyBkaWZmQW5nbGUgKyAzNjApICUgMzYwXG5cbiAgICAgICAgICAgIGxldCByZXNpemVXID0gciAqIE1hdGguY29zKEFuZ2xlLmRlZ3JlZTJyYWRpYW4ocGhpQ29ycmVjdGVkKSlcbiAgICAgICAgICAgIGxldCByZXNpemVIID0gLXIgKiBNYXRoLnNpbihBbmdsZS5kZWdyZWUycmFkaWFuKHBoaUNvcnJlY3RlZCkpXG5cbiAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudC5vZmZzZXRXaWR0aCtyZXNpemVXL3RoaXMuc2NhbGU+dGhpcy53aWR0aCowLjMgJiYgdGhpcy5lbGVtZW50Lm9mZnNldEhlaWdodCtyZXNpemVIL3RoaXMuc2NhbGU+dGhpcy5oZWlnaHQqMC4zKSBUd2Vlbk1heC50byh0aGlzLmVsZW1lbnQsIDAsIHt3aWR0aDogdGhpcy5lbGVtZW50Lm9mZnNldFdpZHRoK3Jlc2l6ZVcvdGhpcy5zY2FsZSwgaGVpZ2h0OiB0aGlzLmVsZW1lbnQub2Zmc2V0SGVpZ2h0K3Jlc2l6ZUgvdGhpcy5zY2FsZX0pO1xuXG4gICAgICAgICAgICB0aGlzLm9sZFggPSBlLmNsaWVudFhcbiAgICAgICAgICAgIHRoaXMub2xkWSA9IGUuY2xpZW50WVxuICAgICAgICAgICAgdGhpcy5vblJlc2l6aW5nKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0b3BSZXNpemUoZSl7ZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAgICAgbGV0IG9sZFBvc3RpdGlvbiA9IHt4OiQodGhpcy5lbGVtZW50KS5wb3NpdGlvbigpLmxlZnQsIHk6JCh0aGlzLmVsZW1lbnQpLnBvc2l0aW9uKCkudG9wfVxuXG4gICAgICAgIHRoaXMuZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSBcIjUwJSA1MCVcIlxuXG4gICAgICAgIGxldCBuZXdQb3N0aXRpb24gPSB7eDokKHRoaXMuZWxlbWVudCkucG9zaXRpb24oKS5sZWZ0LCB5OiQodGhpcy5lbGVtZW50KS5wb3NpdGlvbigpLnRvcH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gUG9pbnRzLnN1YnRyYWN0KG9sZFBvc3RpdGlvbixuZXdQb3N0aXRpb24pXG5cbiAgICAgICAgVHdlZW5NYXgudG8odGhpcy5lbGVtZW50LCAwLCB7Y3NzOntsZWZ0OlwiKz1cIitvZmZzZXQueCtcInB4XCJ9fSlcbiAgICAgICAgVHdlZW5NYXgudG8odGhpcy5lbGVtZW50LCAwLCB7Y3NzOnt0b3A6XCIrPVwiK29mZnNldC55K1wicHhcIn19KVxuXG4gICAgICAgIGUudGFyZ2V0LnNldEF0dHJpYnV0ZSgncmVzaXppbmcnLFwiZmFsc2VcIilcbiAgICB9XG59XG5cbkRPTVNjYXR0ZXIuekluZGV4ID0gMTAwMFxuIiwiaW1wb3J0IHsgZ2V0SWQgfSBmcm9tICcuL3V0aWxzLmpzJ1xuaW1wb3J0IHsgRE9NU2NhdHRlciB9IGZyb20gJy4vc2NhdHRlci5qcydcbmltcG9ydCB7IEludGVyYWN0aW9uTWFwcGVyIH0gZnJvbSAnLi9pbnRlcmFjdGlvbi5qcydcblxuZXhwb3J0IGNsYXNzIENhcmRMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBzcmMsXG4gICAgICAgIHtcbiAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICB3aWR0aCA9IDEwMDAsXG4gICAgICAgICAgICBoZWlnaHQgPSA4MDAsXG4gICAgICAgICAgICBtYXhXaWR0aCA9IG51bGwsXG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBudWxsLFxuICAgICAgICAgICAgc2NhbGUgPSAxLFxuICAgICAgICAgICAgbWluU2NhbGUgPSAwLjUsXG4gICAgICAgICAgICBtYXhTY2FsZSA9IDEuNSxcbiAgICAgICAgICAgIHJvdGF0aW9uID0gMFxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5zcmMgPSBzcmNcbiAgICAgICAgdGhpcy54ID0geFxuICAgICAgICB0aGlzLnkgPSB5XG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uID0gMFxuICAgICAgICB0aGlzLm1heFNjYWxlID0gbWF4U2NhbGVcbiAgICAgICAgdGhpcy5taW5TY2FsZSA9IG1pblNjYWxlXG4gICAgICAgIHRoaXMud2FudGVkV2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLndhbnRlZEhlaWdodCA9IGhlaWdodFxuICAgICAgICB0aGlzLm1heFdpZHRoID0gbWF4V2lkdGggIT0gbnVsbCA/IG1heFdpZHRoIDogd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgdGhpcy5tYXhIZWlnaHQgPSBtYXhIZWlnaHQgIT0gbnVsbCA/IG1heEhlaWdodCA6IHdpbmRvdy5pbm5lckhlaWdodFxuICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IG51bGxcbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFkZGVkTm9kZSkge1xuICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUucmVtb3ZlKClcbiAgICAgICAgICAgIHRoaXMuYWRkZWROb2RlID0gbnVsbFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUERGTG9hZGVyIGV4dGVuZHMgQ2FyZExvYWRlciB7XG4gICAgY29uc3RydWN0b3Ioc3JjLCB7IHdpZHRoID0gMTY0MCwgaGVpZ2h0ID0gODAwLCBzY2FsZSA9IDEgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHNyYywgeyB3aWR0aCwgaGVpZ2h0LCBzY2FsZSB9KVxuICAgICAgICBpZiAodHlwZW9mIFBERkpTID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBhbGVydCgnUERGLmpzIG5lZWRlZCcpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIFBERkpTLmdldERvY3VtZW50KHRoaXMuc3JjKS50aGVuKHBkZiA9PiB7XG4gICAgICAgICAgICAgICAgcGRmLmdldFBhZ2UoMSkudGhlbihwYWdlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNjYWxlID0gdGhpcy5zY2FsZSAqIGFwcC5yZW5kZXJlci5yZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnZTY2FsZSA9IDEgLyBzY2FsZVxuICAgICAgICAgICAgICAgICAgICBsZXQgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KHNjYWxlKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXBhcmUgY2FudmFzIHVzaW5nIFBERiBwYWdlIGRpbWVuc2lvbnMuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICAgICAgICAgICAgICBsZXQgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpXG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSB2aWV3cG9ydC5oZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoID0gdmlld3BvcnQud2lkdGhcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW5kZXIgUERGIHBhZ2UgaW50byBjYW52YXMgY29udGV4dC5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbmRlckNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNDb250ZXh0OiBjb250ZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQ6IHZpZXdwb3J0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcGFnZS5yZW5kZXIocmVuZGVyQ29udGV4dClcbiAgICAgICAgICAgICAgICAgICAgZG9tTm9kZS5hcHBlbmRDaGlsZChjYW52YXMpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSBjYW52YXMud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBpbnZTY2FsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IGNhbnZhc1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSW1hZ2VMb2FkZXIgZXh0ZW5kcyBDYXJkTG9hZGVyIHtcbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0ltYWdlID0gZG9tTm9kZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IGlzSW1hZ2UgPyBkb21Ob2RlIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJylcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghaXNJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBkb21Ob2RlLmFwcGVuZENoaWxkKGltYWdlKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZGVkTm9kZSA9IGltYWdlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSBpbWFnZS5uYXR1cmFsV2lkdGhcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZEhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHRcblxuICAgICAgICAgICAgICAgIGxldCBzY2FsZVcgPSB0aGlzLm1heFdpZHRoIC8gaW1hZ2UubmF0dXJhbFdpZHRoXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxlSCA9IHRoaXMubWF4SGVpZ2h0IC8gaW1hZ2UubmF0dXJhbEhlaWdodFxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUgPSBNYXRoLm1pbih0aGlzLm1heFNjYWxlLCBNYXRoLm1pbihzY2FsZVcsIHNjYWxlSCkpXG4gICAgICAgICAgICAgICAgaW1hZ2Uuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCBmYWxzZSlcbiAgICAgICAgICAgICAgICBpbWFnZS53aWR0aCA9IGltYWdlLm5hdHVyYWxXaWR0aFxuICAgICAgICAgICAgICAgIGltYWdlLmhlaWdodCA9IGltYWdlLm5hdHVyYWxIZWlnaHRcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSB0aGlzLnNyY1xuICAgICAgICB9KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEZyYW1lTG9hZGVyIGV4dGVuZHMgQ2FyZExvYWRlciB7XG4gICAgbG9hZChkb21Ob2RlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNGcmFtZSA9IGRvbU5vZGUgaW5zdGFuY2VvZiBIVE1MSUZyYW1lRWxlbWVudFxuICAgICAgICAgICAgbGV0IGlmcmFtZSA9IGlzRnJhbWUgPyBkb21Ob2RlIDogZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaWZyYW1lJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGcmFtZUxvYWRlci5sb2FkJywgaXNGcmFtZSwgaWZyYW1lLCB0aGlzLnNyYylcbiAgICAgICAgICAgIGlmcmFtZS5mcmFtZUJvcmRlciA9IDBcbiAgICAgICAgICAgIGlmcmFtZS5zdHlsZS5zY3JvbGxpbmcgPSBmYWxzZVxuICAgICAgICAgICAgaWZyYW1lLndpZHRoID0gdGhpcy53YW50ZWRXaWR0aFxuICAgICAgICAgICAgaWZyYW1lLmhlaWdodCA9IHRoaXMud2FudGVkSGVpZ2h0XG4gICAgICAgICAgICBpZiAoIWlzRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBVbmxpa2UgaW1nIG9ubG9hZCBpcyBvbmx5IHRyaWdnZXJlZCBpZiB0aGUgaWZyYW1lIGlzIHBhcnQgb2YgdGhlIERPTSB0cmVlXG4gICAgICAgICAgICAgICAgZG9tTm9kZS5hcHBlbmRDaGlsZChpZnJhbWUpXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBpZnJhbWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmcmFtZS5vbmxvYWQgPSBlID0+IHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZnJhbWUub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdCh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWZyYW1lLnNyYyA9IHRoaXMuc3JjXG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgSFRNTExvYWRlciBleHRlbmRzIENhcmRMb2FkZXIge1xuICAgIGxvYWQoZG9tTm9kZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgdGhpcy5zcmMsIGZhbHNlKVxuICAgICAgICAgICAgeGhyLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGRvbU5vZGUuaW5uZXJIVE1MID0geGhyLnJlc3BvbnNlXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRlZE5vZGUgPSBkb21Ob2RlLmZpcnN0RWxlbWVudENoaWxkXG4gICAgICAgICAgICAgICAgbGV0IHcgPSB0aGlzLmFkZGVkTm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnKVxuICAgICAgICAgICAgICAgIGxldCBoID0gdGhpcy5hZGRlZE5vZGUuZ2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJ0aGlzLmFkZGVkTm9kZVwiLCB0aGlzLmFkZGVkTm9kZSwgdywgaClcbiAgICAgICAgICAgICAgICBpZiAodyA9PT0gbnVsbCB8fCBoID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0ID0gdGhpcy5hZGRlZE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgICAgICAgICAgICAgdyA9IHJlY3Qud2lkdGhcbiAgICAgICAgICAgICAgICAgICAgaCA9IHJlY3QuaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMud2FudGVkV2lkdGggPSB3XG4gICAgICAgICAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBoXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgeGhyLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QodGhpcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHhoci5zZW5kKClcbiAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBET01GbGlwIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgZG9tU2NhdHRlckNvbnRhaW5lcixcbiAgICAgICAgZmxpcFRlbXBsYXRlLFxuICAgICAgICBmcm9udExvYWRlcixcbiAgICAgICAgYmFja0xvYWRlcixcbiAgICAgICAge1xuICAgICAgICAgICAgY2xvc2VPbk1pblNjYWxlID0gZmFsc2UsXG4gICAgICAgICAgICBmbGlwRHVyYXRpb24gPSAxLFxuICAgICAgICAgICAgZmFkZUR1cmF0aW9uID0gMC4yLFxuICAgICAgICAgICAgb3ZlcmRvU2NhbGluZyA9IDEsXG4gICAgICAgICAgICBhdXRvTG9hZCA9IGZhbHNlLFxuICAgICAgICAgICAgY2VudGVyID0gbnVsbCxcbiAgICAgICAgICAgIHByZWxvYWRCYWNrID0gZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2xhdGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgc2NhbGFibGUgPSB0cnVlLFxuICAgICAgICAgICAgcm90YXRhYmxlID0gdHJ1ZSxcbiAgICAgICAgICAgIG9uRnJvbnQgPSBudWxsLFxuICAgICAgICAgICAgb25CYWNrID0gbnVsbCxcbiAgICAgICAgICAgIG9uQ2xvc2UgPSBudWxsLFxuICAgICAgICAgICAgb25VcGRhdGUgPSBudWxsLFxuICAgICAgICAgICAgb25SZW1vdmVkID0gbnVsbCxcbiAgICAgICAgICAgIG9uTG9hZGVkID0gbnVsbFxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgdGhpcy5kb21TY2F0dGVyQ29udGFpbmVyID0gZG9tU2NhdHRlckNvbnRhaW5lclxuICAgICAgICB0aGlzLmlkID0gZ2V0SWQoKVxuICAgICAgICB0aGlzLmZsaXBEdXJhdGlvbiA9IGZsaXBEdXJhdGlvblxuICAgICAgICB0aGlzLmZhZGVEdXJhdGlvbiA9IGZhZGVEdXJhdGlvblxuICAgICAgICB0aGlzLmNsb3NlT25NaW5TY2FsZSA9IGNsb3NlT25NaW5TY2FsZVxuICAgICAgICB0aGlzLmZsaXBUZW1wbGF0ZSA9IGZsaXBUZW1wbGF0ZVxuICAgICAgICB0aGlzLmZyb250TG9hZGVyID0gZnJvbnRMb2FkZXJcbiAgICAgICAgdGhpcy5iYWNrTG9hZGVyID0gYmFja0xvYWRlclxuICAgICAgICB0aGlzLnRyYW5zbGF0YWJsZSA9IHRyYW5zbGF0YWJsZVxuICAgICAgICB0aGlzLnNjYWxhYmxlID0gc2NhbGFibGVcbiAgICAgICAgdGhpcy5yb3RhdGFibGUgPSByb3RhdGFibGVcbiAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCA9IG9uRnJvbnRcbiAgICAgICAgdGhpcy5vbkJhY2tGbGlwcGVkID0gb25CYWNrXG4gICAgICAgIHRoaXMub25DbG9zZSA9IG9uQ2xvc2VcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBvblJlbW92ZWRcbiAgICAgICAgdGhpcy5vblVwZGF0ZSA9IG9uVXBkYXRlXG4gICAgICAgIHRoaXMub25Mb2FkZWQgPSBvbkxvYWRlZFxuICAgICAgICB0aGlzLmNlbnRlciA9IGNlbnRlclxuICAgICAgICB0aGlzLnByZWxvYWRCYWNrID0gcHJlbG9hZEJhY2tcbiAgICAgICAgdGhpcy5vdmVyZG9TY2FsaW5nID0gb3ZlcmRvU2NhbGluZ1xuICAgICAgICBpZiAoYXV0b0xvYWQpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLmZsaXBUZW1wbGF0ZVxuICAgICAgICAgICAgbGV0IGRvbSA9IHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lci5lbGVtZW50XG4gICAgICAgICAgICBsZXQgd3JhcHBlciA9IHQuY29udGVudC5xdWVyeVNlbGVjdG9yKCcuZmxpcFdyYXBwZXInKVxuICAgICAgICAgICAgd3JhcHBlci5pZCA9IHRoaXMuaWRcbiAgICAgICAgICAgIGxldCBjbG9uZSA9IGRvY3VtZW50LmltcG9ydE5vZGUodC5jb250ZW50LCB0cnVlKVxuICAgICAgICAgICAgZG9tLmFwcGVuZENoaWxkKGNsb25lKVxuICAgICAgICAgICAgLy8gV2UgY2Fubm90IHVzZSB0aGUgZG9jdW1lbnQgZnJhZ21lbnQgaXRzZWxmIGJlY2F1c2UgaXRcbiAgICAgICAgICAgIC8vIGlzIG5vdCBwYXJ0IG9mIHRoZSBtYWluIGRvbSB0cmVlLiBBZnRlciB0aGUgYXBwZW5kQ2hpbGRcbiAgICAgICAgICAgIC8vIGNhbGwgd2UgY2FuIGFjY2VzcyB0aGUgbmV3IGRvbSBlbGVtZW50IGJ5IGlkXG4gICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyID0gZG9tLnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhpcy5pZClcbiAgICAgICAgICAgIGxldCBmcm9udCA9IHRoaXMuY2FyZFdyYXBwZXIucXVlcnlTZWxlY3RvcignLmZyb250JylcbiAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZXIubG9hZChmcm9udCkudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRMb2FkZWQobG9hZGVyKS50aGVuKChvYmopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub25Mb2FkZWQpIHRoaXMub25Mb2FkZWQoKVxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMpXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZyb250TG9hZGVkKGxvYWRlcikge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNjYXR0ZXIgPSBuZXcgRE9NU2NhdHRlcihcbiAgICAgICAgICAgICAgICB0aGlzLmNhcmRXcmFwcGVyLFxuICAgICAgICAgICAgICAgIHRoaXMuZG9tU2NhdHRlckNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGxvYWRlci54LFxuICAgICAgICAgICAgICAgICAgICB5OiBsb2FkZXIueSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRTY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBzY2FsZTogbG9hZGVyLnNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtYXhTY2FsZTogbG9hZGVyLm1heFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICBtaW5TY2FsZTogbG9hZGVyLm1pblNjYWxlLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogbG9hZGVyLndhbnRlZFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGxvYWRlci53YW50ZWRIZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiBsb2FkZXIucm90YXRpb24sXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0YWJsZTogdGhpcy50cmFuc2xhdGFibGUsXG4gICAgICAgICAgICAgICAgICAgIHNjYWxhYmxlOiB0aGlzLnNjYWxhYmxlLFxuICAgICAgICAgICAgICAgICAgICByb3RhdGFibGU6IHRoaXMucm90YXRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBvdmVyZG9TY2FsaW5nOiB0aGlzLm92ZXJkb1NjYWxpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApXG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNlbnRlcikge1xuICAgICAgICAgICAgICAgIHNjYXR0ZXIuY2VudGVyQXQodGhpcy5jZW50ZXIpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNsb3NlT25NaW5TY2FsZSkge1xuXG4gICAgICAgICAgICAgICAgY29uc3QgcmVtb3ZlT25NaW5TY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjYXR0ZXIuc2NhbGUgPD0gc2NhdHRlci5taW5TY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGlwcGFibGUuY2xvc2UoKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAnRGlzYWJsZScgb3ZlcmRvc2NhbGluZyB0byBhdm9pZCB3ZWlyZCBqdW1wcyBvbiBjbG9zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXIubWluU2NhbGUgLz0gc2NhdHRlci5vdmVyZG9TY2FsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyLm92ZXJkb1NjYWxpbmcgPSAxXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NhdHRlci5vblRyYW5zZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBjYWxsYmFja0lkeCA9IHNjYXR0ZXIub25UcmFuc2Zvcm0uaW5kZXhPZihyZW1vdmVPbk1pblNjYWxlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXIub25UcmFuc2Zvcm0uc3BsaWNlKGNhbGxiYWNrSWR4LCAxKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcylcblxuXG5cbiAgICAgICAgICAgICAgICBzY2F0dGVyLmFkZFRyYW5zZm9ybUV2ZW50Q2FsbGJhY2socmVtb3ZlT25NaW5TY2FsZSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZsaXBwYWJsZSA9IG5ldyBET01GbGlwcGFibGUodGhpcy5jYXJkV3JhcHBlciwgc2NhdHRlciwgdGhpcylcbiAgICAgICAgICAgIGxldCBiYWNrID0gdGhpcy5jYXJkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYmFjaycpXG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByZWxvYWRCYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrTG9hZGVyLmxvYWQoYmFjaykudGhlbihsb2FkZXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZsaXBwYWJsZSA9IGZsaXBwYWJsZVxuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNlbnRlckF0KHApIHtcbiAgICAgICAgdGhpcy5jZW50ZXIgPSBwXG4gICAgICAgIHRoaXMuZmxpcHBhYmxlLmNlbnRlckF0KHApXG4gICAgfVxuXG4gICAgem9vbShzY2FsZSkge1xuICAgICAgICB0aGlzLmZsaXBwYWJsZS56b29tKHNjYWxlKVxuICAgIH1cblxuICAgIHNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKSB7XG4gICAgICAgIGZsaXBwYWJsZS53YW50ZWRXaWR0aCA9IGxvYWRlci53YW50ZWRXaWR0aFxuICAgICAgICBmbGlwcGFibGUud2FudGVkSGVpZ2h0ID0gbG9hZGVyLndhbnRlZEhlaWdodFxuICAgICAgICBmbGlwcGFibGUud2FudGVkU2NhbGUgPSBsb2FkZXIuc2NhbGVcbiAgICAgICAgZmxpcHBhYmxlLm1pblNjYWxlID0gbG9hZGVyLm1pblNjYWxlXG4gICAgICAgIGZsaXBwYWJsZS5tYXhTY2FsZSA9IGxvYWRlci5tYXhTY2FsZVxuICAgICAgICBmbGlwcGFibGUuc2NhbGVCdXR0b25zKClcbiAgICB9XG5cbiAgICBzdGFydCh7IHRhcmdldENlbnRlciA9IG51bGwgfSA9IHt9KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdET01GbGlwLnN0YXJ0JywgdGFyZ2V0Q2VudGVyKVxuICAgICAgICBpZiAodGhpcy5wcmVsb2FkQmFjaykgdGhpcy5mbGlwcGFibGUuc3RhcnQoeyBkdXJhdGlvbjogdGhpcy5mbGlwRHVyYXRpb24sIHRhcmdldENlbnRlciB9KVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBiYWNrID0gdGhpcy5jYXJkV3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYmFjaycpXG4gICAgICAgICAgICBsZXQgZmxpcHBhYmxlID0gdGhpcy5mbGlwcGFibGVcbiAgICAgICAgICAgIHRoaXMuYmFja0xvYWRlci5sb2FkKGJhY2spLnRoZW4obG9hZGVyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwRmxpcHBhYmxlKGZsaXBwYWJsZSwgbG9hZGVyKVxuICAgICAgICAgICAgICAgIGZsaXBwYWJsZS5zdGFydCh7IGR1cmF0aW9uOiB0aGlzLmZsaXBEdXJhdGlvbiwgdGFyZ2V0Q2VudGVyIH0pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZmFkZU91dEFuZFJlbW92ZSgpIHtcbiAgICAgICAgVHdlZW5MaXRlLnRvKHRoaXMuY2FyZFdyYXBwZXIsIHRoaXMuZmFkZUR1cmF0aW9uLCB7XG4gICAgICAgICAgICBvcGFjaXR5OiAwLFxuICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FyZFdyYXBwZXIucmVtb3ZlKClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjbG9zZWQoKSB7XG4gICAgICAgIHRoaXMudW5sb2FkKClcbiAgICB9XG5cbiAgICB1bmxvYWQoKXtcbiAgICAgICAgaWYgKCF0aGlzLnByZWxvYWRCYWNrKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tMb2FkZXIudW5sb2FkKClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERPTUZsaXBwYWJsZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCwgc2NhdHRlciwgZmxpcCkge1xuICAgICAgICAvLyBTZXQgbG9nIHRvIGNvbnNvbGUubG9nIG9yIGEgY3VzdG9tIGxvZyBmdW5jdGlvblxuICAgICAgICAvLyBkZWZpbmUgZGF0YSBzdHJ1Y3R1cmVzIHRvIHN0b3JlIG91ciB0b3VjaHBvaW50cyBpblxuXG4gICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnRcbiAgICAgICAgdGhpcy5mbGlwID0gZmxpcFxuICAgICAgICB0aGlzLmNhcmQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mbGlwQ2FyZCcpXG4gICAgICAgIHRoaXMuZnJvbnQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mcm9udCcpXG4gICAgICAgIHRoaXMuYmFjayA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2snKVxuICAgICAgICB0aGlzLmZsaXBwZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjYXR0ZXIgPSBzY2F0dGVyXG4gICAgICAgIHRoaXMub25Gcm9udEZsaXBwZWQgPSBmbGlwLm9uRnJvbnRGbGlwcGVkXG4gICAgICAgIHRoaXMub25CYWNrRmxpcHBlZCA9IGZsaXAub25CYWNrRmxpcHBlZFxuICAgICAgICB0aGlzLm9uQ2xvc2UgPSBmbGlwLm9uQ2xvc2VcbiAgICAgICAgdGhpcy5vblJlbW92ZWQgPSBmbGlwLm9uUmVtb3ZlZFxuICAgICAgICB0aGlzLm9uVXBkYXRlID0gZmxpcC5vblVwZGF0ZVxuXG4gICAgICAgIHRoaXMuZmxpcER1cmF0aW9uID0gZmxpcC5mbGlwRHVyYXRpb25cbiAgICAgICAgdGhpcy5mYWRlRHVyYXRpb24gPSBmbGlwLmZhZGVEdXJhdGlvblxuICAgICAgICBzY2F0dGVyLmFkZFRyYW5zZm9ybUV2ZW50Q2FsbGJhY2sodGhpcy5zY2F0dGVyVHJhbnNmb3JtZWQuYmluZCh0aGlzKSlcbiAgICAgICAgY29uc29sZS5sb2coJ2xpYi5ET01GbGlwcGFibGUnLCA1MDAwKVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuZWxlbWVudCwgeyBwZXJzcGVjdGl2ZTogNTAwMCB9KVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuY2FyZCwgeyB0cmFuc2Zvcm1TdHlsZTogJ3ByZXNlcnZlLTNkJyB9KVxuICAgICAgICBUd2VlbkxpdGUuc2V0KHRoaXMuYmFjaywgeyByb3RhdGlvblk6IC0xODAgfSlcbiAgICAgICAgVHdlZW5MaXRlLnNldChbdGhpcy5iYWNrLCB0aGlzLmZyb250XSwge1xuICAgICAgICAgICAgYmFja2ZhY2VWaXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgICAgICAgIHBlcnNwZWN0aXZlOiA1MDAwXG4gICAgICAgIH0pXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5mcm9udCwgeyB2aXNpYmlsaXR5OiAndmlzaWJsZScgfSlcbiAgICAgICAgdGhpcy5pbmZvQnRuID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuaW5mb0J0bicpXG4gICAgICAgIHRoaXMuYmFja0J0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmJhY2tCdG4nKVxuICAgICAgICB0aGlzLmNsb3NlQnRuID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2xvc2VCdG4nKVxuICAgICAgICAvKiBCdXR0b25zIGFyZSBub3QgZ3VhcmFudGVlZCB0byBleGlzdC4gKi9cbiAgICAgICAgaWYgKHRoaXMuaW5mb0J0bikge1xuICAgICAgICAgICAgSW50ZXJhY3Rpb25NYXBwZXIub24oJ3RhcCcsIHRoaXMuaW5mb0J0biwgZXZlbnQgPT4gdGhpcy5mbGlwLnN0YXJ0KCkpXG5cbiAgICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuaW5mb0J0bilcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5iYWNrQnRuKSB7XG4gICAgICAgICAgICBJbnRlcmFjdGlvbk1hcHBlci5vbigndGFwJywgdGhpcy5iYWNrQnRuLCBldmVudCA9PiB0aGlzLnN0YXJ0KCkpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY2xvc2VCdG4pIHtcbiAgICAgICAgICAgIEludGVyYWN0aW9uTWFwcGVyLm9uKCd0YXAnLCB0aGlzLmNsb3NlQnRuLCBldmVudCA9PiB0aGlzLmNsb3NlKCkpXG4gICAgICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLmNsb3NlQnRuKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NhbGVCdXR0b25zKClcbiAgICAgICAgdGhpcy5icmluZ1RvRnJvbnQoKVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmRpc2FibGUodGhpcy5pbmZvQnRuKVxuICAgICAgICB0aGlzLmRpc2FibGUodGhpcy5jbG9zZUJ0bilcbiAgICAgICAgaWYgKHRoaXMub25DbG9zZSkge1xuICAgICAgICAgICAgdGhpcy5vbkNsb3NlKHRoaXMpXG4gICAgICAgICAgICB0aGlzLmZsaXAuY2xvc2VkKClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2NhdHRlci56b29tKDAuMSwge1xuICAgICAgICAgICAgICAgIGFuaW1hdGU6IHRoaXMuZmFkZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcC5jbG9zZWQoKVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vblJlbW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25SZW1vdmVkLmNhbGwodGhpcylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93RnJvbnQoKSB7XG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5mcm9udCwgeyB2aXNpYmlsaXR5OiAndmlzaWJsZScgfSlcbiAgICB9XG5cbiAgICBjZW50ZXJBdChwKSB7XG4gICAgICAgIHRoaXMuc2NhdHRlci5jZW50ZXJBdChwKVxuICAgIH1cblxuICAgIHpvb20oc2NhbGUpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLnpvb20oc2NhbGUpXG4gICAgfVxuXG4gICAgZ2V0IGJ1dHRvblNjYWxlKCkge1xuICAgICAgICBsZXQgaXNjYWxlID0gMS4wXG5cbiAgICAgICAgaWYgKHRoaXMuc2NhdHRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLnNjYXR0ZXIuc2NhbGUgfHwgMVxuICAgICAgICAgICAgaXNjYWxlID0gMS4wIC8gc2NhbGVcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNjYWxlXG4gICAgfVxuXG4gICAgc2NhbGVCdXR0b25zKCkge1xuICAgICAgICAvL1RoaXMgYWxzbyB3b3JrcyBmb3Igc3Zncy5cbiAgICAgICAgLy8gaWYgKHRoaXMuaW5mb0J0bilcbiAgICAgICAgLy8gICAgIHRoaXMuaW5mb0J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgdGhpcy5idXR0b25TY2FsZSArIFwiKVwiXG5cbiAgICAgICAgLy8gaWYgKHRoaXMuYmFja0J0bilcbiAgICAgICAgLy8gICAgIHRoaXMuYmFja0J0bi5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKFwiICsgdGhpcy5idXR0b25TY2FsZSArIFwiKVwiXG5cbiAgICAgICAgLy8gaWYgKHRoaXMuY2xvc2VCdG4pXG4gICAgICAgIC8vICAgICB0aGlzLmNsb3NlQnRuLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoXCIgKyB0aGlzLmJ1dHRvblNjYWxlICsgXCIpXCJcblxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmJ1dHRvblNjYWxlKVxuICAgICAgICAvLy8vIFRoaXMgZGlkIG5vdCB3b3JrIHdpdGggc3ZncyFcbiAgICAgICAgVHdlZW5MaXRlLnNldChbdGhpcy5pbmZvQnRuLCB0aGlzLmJhY2tCdG4sIHRoaXMuY2xvc2VCdG5dLCB7XG4gICAgICAgICAgICBzY2FsZTogdGhpcy5idXR0b25TY2FsZVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udCgpIHtcbiAgICAgICAgdGhpcy5zY2F0dGVyLmJyaW5nVG9Gcm9udCgpXG4gICAgICAgIFR3ZWVuTGl0ZS5zZXQodGhpcy5lbGVtZW50LCB7IHpJbmRleDogRE9NU2NhdHRlci56SW5kZXgrKyB9KVxuICAgIH1cblxuICAgIGNsaWNrSW5mbygpIHtcbiAgICAgICAgdGhpcy5icmluZ1RvRnJvbnQoKVxuICAgICAgICB0aGlzLmluZm9CdG4uY2xpY2soKVxuICAgIH1cblxuICAgIHNjYXR0ZXJUcmFuc2Zvcm1lZChldmVudCkge1xuICAgICAgICB0aGlzLnNjYWxlQnV0dG9ucygpXG4gICAgfVxuXG4gICAgdGFyZ2V0Um90YXRpb24oYWxwaGEpIHtcbiAgICAgICAgbGV0IG9ydGhvID0gOTBcbiAgICAgICAgbGV0IHJlc3QgPSBhbHBoYSAlIG9ydGhvXG4gICAgICAgIGxldCBkZWx0YSA9IDAuMFxuICAgICAgICBpZiAocmVzdCA+IG9ydGhvIC8gMi4wKSB7XG4gICAgICAgICAgICBkZWx0YSA9IG9ydGhvIC0gcmVzdFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsdGEgPSAtcmVzdFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWx0YVxuICAgIH1cblxuICAgIGluZm9WYWx1ZXMoaW5mbykge1xuICAgICAgICBsZXQgc3RhcnRYID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS54XG4gICAgICAgIGxldCBzdGFydFkgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnlcbiAgICAgICAgbGV0IHN0YXJ0QW5nbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnJvdGF0aW9uXG4gICAgICAgIGxldCBzdGFydFNjYWxlID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS5zY2FsZVhcbiAgICAgICAgbGV0IHcgPSB0aGlzLmVsZW1lbnQuc3R5bGUud2lkdGhcbiAgICAgICAgbGV0IGggPSB0aGlzLmVsZW1lbnQuc3R5bGUuaGVpZ2h0XG4gICAgICAgIGNvbnNvbGUubG9nKGluZm8sIHN0YXJ0WCwgc3RhcnRZLCBzdGFydEFuZ2xlLCBzdGFydFNjYWxlLCB3LCBoKVxuICAgIH1cblxuICAgIHNob3coZWxlbWVudCwgZHVyYXRpb24gPSAwLCBhbHBoYSA9IDEpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIFR3ZWVuTGl0ZS50byhlbGVtZW50LCBkdXJhdGlvbiwgeyBhdXRvQWxwaGE6IGFscGhhIH0pIC8vIHZpc2liaWxpdHk6ICd2aXNpYmxlJywgZGlzcGxheTogJ2luaXRpYWwnfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoZWxlbWVudCwgZHVyYXRpb24gPSAwLCBhbHBoYSA9IDApIHtcbiAgICAgICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIFR3ZWVuTGl0ZS50byhlbGVtZW50LCBkdXJhdGlvbiwgeyBhdXRvQWxwaGE6IGFscGhhIH0pIC8vIHt2aXNpYmlsaXR5OiAnaGlkZGVuJywgZGlzcGxheTogJ25vbmUnfSlcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICBlbmFibGUoYnV0dG9uKSB7XG4gICAgICAgIHRoaXMuc2hvdyhidXR0b24sIHRoaXMuZmFkZUR1cmF0aW9uKVxuICAgICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgICAgICBUd2VlbkxpdGUuc2V0KGJ1dHRvbiwgeyBwb2ludGVyRXZlbnRzOiAnYXV0bycgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FibGUoYnV0dG9uKSB7XG4gICAgICAgIHRoaXMuaGlkZShidXR0b24sIHRoaXMuZmFkZUR1cmF0aW9uKVxuICAgICAgICBpZiAoYnV0dG9uKSB7XG4gICAgICAgICAgICBUd2VlbkxpdGUuc2V0KGJ1dHRvbiwgeyBwb2ludGVyRXZlbnRzOiAnbm9uZScgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0KHsgdGFyZ2V0Q2VudGVyID0gbnVsbCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5icmluZ1RvRnJvbnQoKVxuICAgICAgICBpZiAoIXRoaXMuZmxpcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5zdGFydFggPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnhcbiAgICAgICAgICAgIHRoaXMuc3RhcnRZID0gdGhpcy5lbGVtZW50Ll9nc1RyYW5zZm9ybS55XG4gICAgICAgICAgICB0aGlzLnN0YXJ0QW5nbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnJvdGF0aW9uXG4gICAgICAgICAgICB0aGlzLnN0YXJ0U2NhbGUgPSB0aGlzLmVsZW1lbnQuX2dzVHJhbnNmb3JtLnNjYWxlWFxuICAgICAgICAgICAgdGhpcy5zdGFydFdpZHRoID0gdGhpcy5lbGVtZW50LnN0eWxlLndpZHRoXG4gICAgICAgICAgICB0aGlzLnN0YXJ0SGVpZ2h0ID0gdGhpcy5lbGVtZW50LnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgdGhpcy5zY2F0dGVyU3RhcnRXaWR0aCA9IHRoaXMuc2NhdHRlci53aWR0aFxuICAgICAgICAgICAgdGhpcy5zY2F0dGVyU3RhcnRIZWlnaHQgPSB0aGlzLnNjYXR0ZXIuaGVpZ2h0XG4gICAgICAgICAgICB0aGlzLnNob3codGhpcy5iYWNrKVxuICAgICAgICAgICAgdGhpcy5kaXNhYmxlKHRoaXMuaW5mb0J0bilcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSh0aGlzLmNsb3NlQnRuKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaG93KHRoaXMuZnJvbnQsdGhpcy5mYWRlRHVyYXRpb24pXG4gICAgICAgICAgICB0aGlzLmRpc2FibGUodGhpcy5iYWNrQnRuKVxuICAgICAgICB9XG4gICAgICAgIGxldCB7IHNjYWxhYmxlLCB0cmFuc2xhdGFibGUsIHJvdGF0YWJsZSB9ID0gdGhpcy5zY2F0dGVyXG4gICAgICAgIHRoaXMuc2F2ZWQgPSB7IHNjYWxhYmxlLCB0cmFuc2xhdGFibGUsIHJvdGF0YWJsZSB9XG4gICAgICAgIHRoaXMuc2NhdHRlci5zY2FsYWJsZSA9IGZhbHNlXG4gICAgICAgIHRoaXMuc2NhdHRlci50cmFuc2xhdGFibGUgPSBmYWxzZVxuICAgICAgICB0aGlzLnNjYXR0ZXIucm90YXRhYmxlID0gZmFsc2VcbiAgICAgICAgdGhpcy5zY2F0dGVyLmtpbGxBbmltYXRpb24oKVxuXG4gICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWRcbiAgICAgICAgbGV0IHRhcmdldFkgPSB0aGlzLmZsaXBwZWQgPyAxODAgOiAwXG4gICAgICAgIGxldCB0YXJnZXRaID0gdGhpcy5mbGlwcGVkXG4gICAgICAgICAgICA/IHRoaXMuc3RhcnRBbmdsZSArIHRoaXMudGFyZ2V0Um90YXRpb24odGhpcy5zdGFydEFuZ2xlKVxuICAgICAgICAgICAgOiB0aGlzLnN0YXJ0QW5nbGVcbiAgICAgICAgbGV0IHRhcmdldFNjYWxlID0gdGhpcy5mbGlwcGVkID8gdGhpcy53YW50ZWRTY2FsZSA6IHRoaXMuc3RhcnRTY2FsZVxuICAgICAgICBsZXQgdyA9IHRoaXMuZmxpcHBlZCA/IHRoaXMud2FudGVkV2lkdGggOiB0aGlzLnN0YXJ0V2lkdGhcbiAgICAgICAgbGV0IGggPSB0aGlzLmZsaXBwZWQgPyB0aGlzLndhbnRlZEhlaWdodCA6IHRoaXMuc3RhcnRIZWlnaHRcbiAgICAgICAgbGV0IGR3ID0gdGhpcy53YW50ZWRXaWR0aCAtIHRoaXMuc2NhdHRlci53aWR0aFxuICAgICAgICBsZXQgZGggPSB0aGlzLndhbnRlZEhlaWdodCAtIHRoaXMuc2NhdHRlci5oZWlnaHRcbiAgICAgICAgbGV0IHRjID0gdGFyZ2V0Q2VudGVyXG4gICAgICAgIGxldCB4eCA9IHRjICE9IG51bGwgPyB0Yy54IC0gdyAvIDIgOiB0aGlzLnN0YXJ0WCAtIGR3IC8gMlxuICAgICAgICBsZXQgeXkgPSB0YyAhPSBudWxsID8gdGMueSAtIGggLyAyIDogdGhpcy5zdGFydFkgLSBkaCAvIDJcbiAgICAgICAgbGV0IHggPSB0aGlzLmZsaXBwZWQgPyB4eCA6IHRoaXMuc3RhcnRYXG4gICAgICAgIGxldCB5ID0gdGhpcy5mbGlwcGVkID8geXkgOiB0aGlzLnN0YXJ0WVxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRE9NRmxpcHBhYmxlLnN0YXJ0XCIsIHRoaXMuZmxpcHBlZCwgdGFyZ2V0Q2VudGVyLCB4LCB5LCB0aGlzLnNhdmVkKVxuICAgICAgICBsZXQgb25VcGRhdGUgPSB0aGlzLm9uVXBkYXRlICE9PSBudWxsID8gKCkgPT4gdGhpcy5vblVwZGF0ZSh0aGlzKSA6IG51bGxcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5mbGlwRHVyYXRpb24pXG4gICAgICAgIFR3ZWVuTGl0ZS50byh0aGlzLmNhcmQsIHRoaXMuZmxpcER1cmF0aW9uLCB7XG4gICAgICAgICAgICByb3RhdGlvblk6IHRhcmdldFksXG4gICAgICAgICAgICBlYXNlOiBQb3dlcjEuZWFzZU91dCxcbiAgICAgICAgICAgIHRyYW5zZm9ybU9yaWdpbjogJzUwJSA1MCUnLFxuICAgICAgICAgICAgb25VcGRhdGUsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5oaWRlKHRoaXMuZnJvbnQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuYmFja0J0bilcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93KHRoaXMuYmFja0J0bilcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkZyb250RmxpcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyb250RmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkJhY2tGbGlwcGVkID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlKHRoaXMuaW5mb0J0biwgdGhpcy5mYWRlRHVyYXRpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZSh0aGlzLmNsb3NlQnRuLCB0aGlzLmZhZGVEdXJhdGlvbilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25CYWNrRmxpcHBlZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxpcC51bmxvYWQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIuc2NhbGUgPSB0YXJnZXRTY2FsZVxuICAgICAgICAgICAgICAgIHRoaXMuc2NhbGVCdXR0b25zKClcbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIucm90YXRpb25EZWdyZWVzID0gdGFyZ2V0WlxuICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlci53aWR0aCA9IHRoaXMuZmxpcHBlZCA/IHcgOiB0aGlzLnNjYXR0ZXJTdGFydFdpZHRoXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLmhlaWdodCA9IHRoaXMuZmxpcHBlZCA/IGggOiB0aGlzLnNjYXR0ZXJTdGFydEhlaWdodFxuXG4gICAgICAgICAgICAgICAgbGV0IHsgc2NhbGFibGUsIHRyYW5zbGF0YWJsZSwgcm90YXRhYmxlIH0gPSB0aGlzLnNhdmVkXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLnNjYWxhYmxlID0gc2NhbGFibGVcbiAgICAgICAgICAgICAgICB0aGlzLnNjYXR0ZXIudHJhbnNsYXRhYmxlID0gdHJhbnNsYXRhYmxlXG4gICAgICAgICAgICAgICAgdGhpcy5zY2F0dGVyLnJvdGF0YWJsZSA9IHJvdGF0YWJsZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcmNlM0Q6IHRydWVcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9ncmVlbnNvY2suY29tL2ZvcnVtcy90b3BpYy83OTk3LXJvdGF0ZS10aGUtc2hvcnRlc3Qtd2F5L1xuICAgICAgICBUd2VlbkxpdGUudG8odGhpcy5lbGVtZW50LCB0aGlzLmZsaXBEdXJhdGlvbiAvIDIsIHtcbiAgICAgICAgICAgIHNjYWxlOiB0YXJnZXRTY2FsZSxcbiAgICAgICAgICAgIGVhc2U6IFBvd2VyMS5lYXNlT3V0LFxuICAgICAgICAgICAgcm90YXRpb25aOiB0YXJnZXRaICsgJ19zaG9ydCcsXG4gICAgICAgICAgICB0cmFuc2Zvcm1PcmlnaW46ICc1MCUgNTAlJyxcbiAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgaGVpZ2h0OiBoLFxuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mbGlwcGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSh0aGlzLmZyb250KVxuICAgICAgICAgICAgICAgICAgIC8vIHRoaXMuaGlkZSh0aGlzLmluZm9CdG4pXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWRlKHRoaXMuYmFjaylcbiAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnNob3codGhpcy5pbmZvQnRuKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG59XG4iLCJpbXBvcnQge0NhcGFiaWxpdGllc30gZnJvbSAnLi4vY2FwYWJpbGl0aWVzLmpzJ1xuaW1wb3J0IHtQb2ludHN9IGZyb20gJy4uL3V0aWxzLmpzJ1xuXG5mdW5jdGlvbiBpc0V2ZW4obikge1xuICAgIHJldHVybiBuICUgMiA9PSAwXG59XG5cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHRoYXQgaG9sZHMgaW5mb3JtYXRpb24gdHlwaWNhbGx5IHByb3ZpZGVkIGJ5IERaSSBmaWxlcywgaS5lLlxuICogaGVpZ2h0IGFuZCB3aWR0aCBvZiB0aGUgb3ZlcmFsbCBpbWFnZSwgb3ZlcmxhcCwgYW5kIGltYWdlIHR5cGUuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge29ian0gYXR0cnMgLSBBIEpTT04tT2JqZWN0IGhvbGRpbmcgdGhlIGxpc3RlZCBrZXlzIGFuZCB2YWx1ZXNcbiAqIEBleGFtcGxlXG4gKiAgICAge1xuICogICAgICAgICBcInRpbGVTaXplXCI6IDEwMjQsXG4gKiAgICAgICAgIFwiZm9ybWF0XCI6IFwianBlZ1wiLFxuICogICAgICAgICBcIm92ZXJsYXBcIjogMSxcbiAqICAgICAgICAgXCJoZWlnaHRcIjogNDc5NCxcbiAqICAgICAgICAgXCJ3aWR0aFwiOiA0MDk1LFxuICogICAgICAgICBcImNsaXBcIjogeyBcIm1pbkxldmVsXCI6IDEyLCBcIm1heExldmVsXCI6IDIwLCBcInN0YXJ0Q29sXCI6IDMwMTQzNiwgXCJzdGFydFJvd1wiOiAzNTQwNjAgfSxcbiAqICAgICAgICAgICAgICAgICAgIC8vIG9wdGlvbmFsOiBtaW5MZXZlbCBhbmQgbWF4TGV2ZWwgZGVmaW5lIHRoZSBsZXZlbCBib3VuZHNcbiAqICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0Q29sOiBmaXJzdCBjb2wgYXQgbWF4TGV2ZWxcbiAqICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0Um93OiBmaXJzdCByb3cgYXQgbWF4TGV2ZWxcbiAqICAgICAgICAgXCJwYXRoXCI6IFwidmFyL1Zlcm1lZXIvVmVybWVlcl9maWxlc1wiLFxuICogICAgICAgICBcInR5cGVcIjogXCJkemlcIiwgIC8vIG9wdGlvbmFsOiBkemkgKGRlZmF1bHQpIG9yIG1hcFxuICogICAgICAgICBcInVybFRpbGVUZW1wbGF0ZVwiOiBcIntwYXRofS97bGV2ZWx9L3tjb2x1bW59L3tyb3d9Lntmb3JtYXR9XCJcbiAqICAgICAgICAgICAvLyBvcHRpb25hbDoge3BhdGh9L3tsZXZlbH0ve2NvbHVtbn1fe3Jvd30ue2Zvcm1hdH0gKGRlZmF1bHQpIG9yXG4gKiAgICAgICAgICAgLy8gYSB0ZW1wbGF0ZSBTdHJpbmcgd2l0aCB0aGUgZm9ybWF0IG9mIHRoZSBVUkxcbiAqICAgICB9XG4gKi9cbmV4cG9ydCBjbGFzcyBEZWVwWm9vbUluZm8ge1xuICAgIGNvbnN0cnVjdG9yKGF0dHJzKSB7XG4gICAgICAgIGZvciAobGV0IGtleSBpbiBhdHRycykge1xuICAgICAgICAgICAgdGhpc1trZXldID0gYXR0cnNba2V5XVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubWF4TGV2ZWwgPSAwIC8vIFRoZSBoaWdoZXN0IGxldmVsIG51bWJlciwgdHlwaWNhbGx5IGNvcnJlc3BvbmRzIHRvIHRoZVxuICAgICAgICAvLyBudW1iZXIgaW4gdGhlIGZpbGUgc3lzdGVtIGZvciB0aGUgZm9sZGVyIHdpdGggdGlsZXNcbiAgICAgICAgdGhpcy5jbGlwID0gdGhpcy5jbGlwIHx8IG51bGwgLy8gZS5nLiB7IGxldmVsOiAxMiwgY29sOiAzMDE0MzYsIHJvdzogMzU0MDYwIH1cbiAgICAgICAgdGhpcy50eXBlID0gdGhpcy50eXBlIHx8ICdkemknXG4gICAgICAgIHRoaXMudXJsVGlsZVRlbXBsYXRlID1cbiAgICAgICAgICAgIHRoaXMudXJsVGlsZVRlbXBsYXRlIHx8ICd7cGF0aH0ve2xldmVsfS97Y29sdW1ufV97cm93fS57Zm9ybWF0fSdcbiAgICAgICAgdGhpcy5zZXR1cERpbWVuc2lvbnMoKVxuICAgIH1cblxuICAgIC8qIENvbXB1dGVzIHRoZSBuZWVkZWQgbnVtYmVyIG9mIGxheWVycyBmcm9tIHRoZSB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgKiAgb2YgdGhlIGltYWdlLiBOb3RlIHRoYXQgdGhpcyBpbmNsdWRlcyB0aGUgbGV2ZWwgMCwgaS5lLiAwIC4uLiA0XG4gICAgKiBtZWFucyB0aGF0IDUgbGV2ZWxzIGV4aXN0LlxuICAgICoqL1xuICAgIG51bUxldmVscygpIHtcbiAgICAgICAgbGV0IG1heERpbWVuc2lvbiA9IE1hdGgubWF4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KVxuICAgICAgICBsZXQgYm91bmRhcnkgPSB0aGlzLnR5cGUgPT09ICdkemknID8gMSA6IHRoaXMudGlsZVNpemVcbiAgICAgICAgbGV0IG51bUxldmVscyA9IDBcbiAgICAgICAgd2hpbGUgKG1heERpbWVuc2lvbiA+PSBib3VuZGFyeSkge1xuICAgICAgICAgICAgbWF4RGltZW5zaW9uIC89IDJcbiAgICAgICAgICAgIG51bUxldmVscysrXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bUxldmVsc1xuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgc2NhbGUgYXQgdGhlIGdpdmVuIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge251bWJlcn0gc2NhbGVcbiAgICAgKiovXG4gICAgZ2V0U2NhbGUobGV2ZWwpIHtcbiAgICAgICAgbGV0IHNjYWxlID0gMVxuICAgICAgICBpZiAodGhpcy50eXBlID09PSAnZHppJykge1xuICAgICAgICAgICAgc2NhbGUgPSBNYXRoLnBvdygwLjUsIHRoaXMubWF4TGV2ZWwgLSBsZXZlbCArIDEpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZSA9IE1hdGgucG93KDAuNSwgdGhpcy5tYXhMZXZlbCAtIGxldmVsKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2FsZVxuICAgIH1cblxuICAgIC8qKiBDb21wdXRlcyB0aGUgc2NhbGVkIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGdpdmVuIGxldmVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge2FycmF5fSBzaXplIC0gVGhlIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgKiovXG4gICAgZ2V0RGltZW5zaW9ucyhsZXZlbCkge1xuICAgICAgICBsZXQgc2NhbGUgPSB0aGlzLmdldFNjYWxlKGxldmVsKVxuICAgICAgICBsZXQgdyA9IE1hdGguY2VpbCh0aGlzLndpZHRoICogc2NhbGUpXG4gICAgICAgIGxldCBoID0gTWF0aC5jZWlsKHRoaXMuaGVpZ2h0ICogc2NhbGUpXG4gICAgICAgIHJldHVybiBbdywgaF1cbiAgICB9XG5cbiAgICAvKiogQ29tcHV0ZXMgdGhlIG51bWJlciBvZiBjb2xzIGFuZCByb3dzIG9mIHRpbGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHJldHVybnMge2FycmF5fSBzaXplIC0gVGhlIGNvbHMgYW5kIHJvd3NcbiAgICAgKiovXG4gICAgZ2V0TnVtVGlsZXMobGV2ZWwpIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IGNvbHMgPSBNYXRoLmNlaWwoZGltWzBdIC8gdGhpcy50aWxlU2l6ZSlcbiAgICAgICAgbGV0IHJvd3MgPSBNYXRoLmNlaWwoZGltWzFdIC8gdGhpcy50aWxlU2l6ZSlcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSB0aGlzLnJlc3RzW2xldmVsXVxuICAgICAgICAgICAgaWYgKHJlc3QpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdC5yZXN0Q29sKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHMgKz0gMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdC5yZXN0Um93cykge1xuICAgICAgICAgICAgICAgICAgICByb3dzICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtjb2xzLCByb3dzXVxuICAgIH1cblxuICAgIHNldHVwRGltZW5zaW9ucyhsb2FkQmFzZUltYWdlID0gZmFsc2UpIHtcbiAgICAgICAgLyoqIFNldHVwIGluc3RhbmNlIHZhcmlhYmxlcyBhbmQgbG9hZCB0aGUgYmFzZSBpbWFnZSwgaS5lLiB0aGUgbGFyZ2VzdFxuICAgICAgICBpbWFnZSB0aGF0IGNhbiBiZSByZXByZXNlbnRlZCBhcyBhIHNpbmdsZSB0aWxlLlxuICAgICAgICBAcHJpdmF0ZVxuICAgICAgICAqKi9cbiAgICAgICAgbGV0IHd3ID0gdGhpcy53aWR0aFxuICAgICAgICBsZXQgaGggPSB0aGlzLmhlaWdodFxuICAgICAgICBsZXQgc2NhbGUgPSAxLjBcbiAgICAgICAgbGV0IGxldmVsID0gMFxuICAgICAgICBsZXQgc2luZ2xlID0gMFxuICAgICAgICBjb25zdCB0c2l6ZSA9IHRoaXMudGlsZVNpemVcblxuICAgICAgICBpZiAodGhpcy5jbGlwKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2VMZXZlbCA9IHRoaXMuY2xpcC5taW5MZXZlbFxuICAgICAgICAgICAgdGhpcy5tYXhMZXZlbCA9IHRoaXMuY2xpcC5tYXhMZXZlbFxuICAgICAgICAgICAgdGhpcy5iYXNlSW1hZ2UgPSBudWxsXG4gICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLmdldERpbWVuc2lvbnModGhpcy5iYXNlTGV2ZWwpXG4gICAgICAgICAgICB0aGlzLm9mZnNldHMgPSB7fVxuICAgICAgICAgICAgdGhpcy5yZXN0cyA9IHt9XG4gICAgICAgICAgICBsZXQgc3RhcnRDb2wgPSB0aGlzLmNsaXAuc3RhcnRDb2xcbiAgICAgICAgICAgIGxldCBzdGFydFJvdyA9IHRoaXMuY2xpcC5zdGFydFJvd1xuICAgICAgICAgICAgbGV0IGZsb2F0U3RhcnRDb2wgPSBzdGFydENvbFxuICAgICAgICAgICAgbGV0IGZsb2F0U3RhcnRSb3cgPSBzdGFydFJvd1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMubWF4TGV2ZWw7IGkgPj0gdGhpcy5iYXNlTGV2ZWw7IGktLSkge1xuICAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0c1tpXSA9IHtzdGFydENvbCwgc3RhcnRSb3d9XG4gICAgICAgICAgICAgICAgbGV0IHJlc3RDb2wgPSBmbG9hdFN0YXJ0Q29sICUgMVxuICAgICAgICAgICAgICAgIGxldCByZXN0Um93ID0gZmxvYXRTdGFydFJvdyAlIDFcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3RzW2ldID0ge3Jlc3RDb2wsIHJlc3RSb3d9XG4gICAgICAgICAgICAgICAgc3RhcnRDb2wgPSBNYXRoLmZsb29yKHN0YXJ0Q29sIC8gMilcbiAgICAgICAgICAgICAgICBzdGFydFJvdyA9IE1hdGguZmxvb3Ioc3RhcnRSb3cgLyAyKVxuICAgICAgICAgICAgICAgIGZsb2F0U3RhcnRDb2wgLz0gMlxuICAgICAgICAgICAgICAgIGZsb2F0U3RhcnRSb3cgLz0gMlxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYm91bmRhcnkgPSB0aGlzLnR5cGUgPT09ICdkemknID8gMS4wIDogdHNpemVcbiAgICAgICAgICAgIHdoaWxlICh3dyA+IGJvdW5kYXJ5ICYmIGhoID4gYm91bmRhcnkpIHtcbiAgICAgICAgICAgICAgICBpZiAod3cgPj0gdHNpemUgJiYgaGggPj0gdHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xlICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2NhbGUgPSBzY2FsZSAvIDIuMFxuICAgICAgICAgICAgICAgIHd3ID0gTWF0aC5jZWlsKHRoaXMud2lkdGggKiBzY2FsZSlcbiAgICAgICAgICAgICAgICBoaCA9IE1hdGguY2VpbCh0aGlzLmhlaWdodCAqIHNjYWxlKVxuICAgICAgICAgICAgICAgIGxldmVsICs9IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmFzZUxldmVsID0gbGV2ZWwgLSBzaW5nbGVcbiAgICAgICAgICAgIHRoaXMubWF4TGV2ZWwgPSB0aGlzLm51bUxldmVscygpIC0gMVxuICAgICAgICAgICAgdGhpcy5iYXNlVVJMID0gdGhpcy51cmxGb3JUaWxlKHRoaXMuYmFzZUxldmVsLCAwLCAwLCBmYWxzZSlcblxuICAgICAgICAgICAgaWYgKGxvYWRCYXNlSW1hZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlRm9yVVJMKHRoaXMuYmFzZVVSTCwgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2l6ZSA9IFtlLnRhcmdldC5uYXR1cmFsV2lkdGgsIGUudGFyZ2V0Lm5hdHVyYWxIZWlnaHRdXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmFzZUltYWdlID0gZS50YXJnZXRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJhc2VJbWFnZSA9IG51bGxcbiAgICAgICAgICAgICAgICB0aGlzLnNpemUgPSB0aGlzLmdldERpbWVuc2lvbnModGhpcy5iYXNlTGV2ZWwpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbWF4TG9hZGFibGVMZXZlbCgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xpcCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF4TGV2ZWxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy50eXBlID09PSAnZHppJyA/IHRoaXMubWF4TGV2ZWwgOiB0aGlzLm1heExldmVsXG4gICAgfVxuXG4gICAgLyoqIENvbXB1dGVzIHRoZSB1cmwgZm9yIHRoZSBnaXZlbiBsZXZlbCwgY29sdW1uIGFuZCBhbmQgcm93LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSBsZXZlbCBvZiB0aGUgd2FudGVkIGxheWVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbiAtIFRoZSBjb2x1bW4gb2YgdGhlIHRpbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gVGhlIHJvdyBvZiB0aGUgdGlsZVxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IHVybFxuICAgICAqKi9cbiAgICB1cmxGb3JUaWxlKGxldmVsLCBjb2x1bW4sIHJvdywgY29tcHJlc3NlZCA9IHRydWUpIHtcbiAgICAgICAgbGV0IGZvcm1hdCA9IHRoaXMuZm9ybWF0XG4gICAgICAgIGlmIChjb21wcmVzc2VkICYmIHRoaXMuY29tcHJlc3Npb24pIHtcbiAgICAgICAgICAgIGxldCBzdXBwb3J0ZWQgPSBDYXBhYmlsaXRpZXMuaXNJT1MgPyAncHZyJyA6ICdkZHMnXG4gICAgICAgICAgICBpZiAodGhpcy5jb21wcmVzc2lvbi5pbmRleE9mKHN1cHBvcnRlZCkgPj0gMCkge1xuICAgICAgICAgICAgICAgIGZvcm1hdCA9IHN1cHBvcnRlZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNsaXApIHtcbiAgICAgICAgICAgIGxldCBvZmZzZXQgPSB0aGlzLm9mZnNldHNbbGV2ZWxdXG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHtzdGFydENvbCwgc3RhcnRSb3d9ID0gb2Zmc2V0XG4gICAgICAgICAgICAgICAgY29sdW1uICs9IHN0YXJ0Q29sXG4gICAgICAgICAgICAgICAgcm93ICs9IHN0YXJ0Um93XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHVybCA9IHRoaXMudXJsVGlsZVRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7cGF0aFxcfS9nLCB0aGlzLnBhdGgpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7bGV2ZWxcXH0vZywgbGV2ZWwpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx7cm93XFx9L2csIHJvdylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHtjb2x1bW5cXH0vZywgY29sdW1uKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xce2Zvcm1hdFxcfS9nLCBmb3JtYXQpXG4gICAgICAgIHJldHVybiB1cmxcbiAgICB9XG5cbiAgICAvKiogTG9hZHMgdGhlIGltYWdlIGZvciB0aGUgZ2l2ZW4gdXJsIGFuZCBleGVjdXRlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgb24gY29tcGxldGlvbi5cbiAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIG9mIHRoZSB0aWxlXG4gICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjb21wbGV0ZSAtIFRoZSBjYWxsYmFjayBmdW5jdGlvblxuICAgICogQHJldHVybnMge0ltYWdlfSBvYmpcbiAgICAqKi9cbiAgICBpbWFnZUZvclVSTCh1cmwsIGNvbXBsZXRlKSB7XG4gICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKVxuICAgICAgICBpbWcub25sb2FkID0gY29tcGxldGUuYmluZCh0aGlzKVxuICAgICAgICBpbWcuc3JjID0gdXJsXG4gICAgICAgIHJldHVybiBpbWdcbiAgICB9XG5cbiAgICAvKiogQ29tcHV0ZXMgdGhlIGNvbHVtbnMgYW5kIHJvd3MgYXMgd2VsbCBhcyBzY2FsZWQgd2lkdGggYW5kIGhlaWdodC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgbGV2ZWwgb2YgdGhlIHdhbnRlZCBsYXllclxuICAgICAqIEByZXR1cm5zIHthcnJheX0gW2NvbHMsIHJvd3MsIHdpZHRoLCBoZWlnaHRdXG4gICAgICoqL1xuICAgIGRpbWVuc2lvbnMobGV2ZWwpIHtcbiAgICAgICAgbGV0IGRpbSA9IHRoaXMuZ2V0RGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IHRpbGVzID0gdGhpcy5nZXROdW1UaWxlcyhsZXZlbClcbiAgICAgICAgcmV0dXJuIFt0aWxlc1swXSwgdGlsZXNbMV0sIGRpbVswXSwgZGltWzFdXVxuICAgIH1cblxuICAgIHRlc3QoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJ3PVwiICsgdGhpcy53aWR0aCArIFwiIGg9XCIgKyB0aGlzLmhlaWdodCArIFwiIG1heGxldmVsPVwiICsgdGhpcy5tYXhMZXZlbCArIFwiIGJhc2U9XCIgKyB0aGlzLmJhc2VMZXZlbClcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gdGhpcy5tYXhMZXZlbDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAnICcgK1xuICAgICAgICAgICAgICAgICAgICBpICtcbiAgICAgICAgICAgICAgICAgICAgJyAtPiAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRTY2FsZShpKSArXG4gICAgICAgICAgICAgICAgICAgICcgWycgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMoaSkgK1xuICAgICAgICAgICAgICAgICAgICAnXSdcbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnVybEZvclRpbGUodGhpcy5iYXNlTGV2ZWwsIDAsIDApKVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIHV0aWxpdHkgY2xhc3MgdGhhdCBkZXNjcmliZXMgYSBxdWFkIHRyZWUgb2YgdGlsZXMuIEVhY2ggdGlsZSBvbiBhIGdpdmVuXG4gKiBsZXZlbCBoYXMgdXAgdG8gZm91ciBjb3JyZXNwb25kaW5nIHRpbGVzIG9uIHRoZSBuZXh0IGxldmVsLiBBIFRpbGVRdWFkTm9kZVxuICogdXNlcyB0aGUgYXR0cmlidXRlcyBudyAoaS5lLiBub3J0aHdlc3QpLCBuZSwgc3csIHNlIHRvIGxpbmsgdG8gdGhlXG4gKiBxdWFkIG5vZGVzIG9uIHRoZSBuZXh0IGxldmVsLiBUaGUgcHJldmlvdXMgYXR0cmlidXRlcyBsaW5rcyB0byB0aGUgcXVhZFxuICogb25lIGxldmVsIGJlbG93IHRoYXQgaG9sZHMgdGhlIGdpdmVuIHF1YWQgYXMgbncsIG5lLCBzdywgb3Igc2UuXG4gKiBXZSB1c2UgdGhpcyBub2RlIGNsYXNzIGJlY2F1c2Ugd2UgbmVlZCBhIHJlcHJlc2VudGF0aW9uIG9mIHRpbGVzIHRoYXQgYXJlXG4gKiBuZWVkZWQgYnV0IG5vdCBsb2FkZWQgeWV0IHRvIGNvbXB1dGUgdGlsZXMgd2hpY2ggY2FuIGJlIGFiYW5kb25lZCB0byByZWR1Y2VcbiAqIHRoZSBtZW1vcnkgcHJlc3N1cmUuXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge2xldmVsfSBOdW1iZXIgLSBUaGUgbGV2ZWwgdGhlIHF1YWQgbm9kZSBiZWxvbmdzIHRvXG4gKiBAcGFyYW0ge2NvbH0gTnVtYmVyIC0gVGhlIGNvbCBvZiB0aGUgcXVhZFxuICogQHBhcmFtIHtyb3d9IE51bWJlciAtIFRoZSBsZXZlbCB0aGUgcXVhZCBub2RlIGJlbG9uZ3MgdG9cbiAqIEBwYXJhbSB7dXJsfSBTdHJpbmcgLSBUaGUgbGV2ZWwgdGhlIHF1YWQgbm9kZSBiZWxvbmdzIHRvXG4gKi9cbmNsYXNzIFRpbGVRdWFkTm9kZSB7XG4gICAgY29uc3RydWN0b3IobGV2ZWwsIGNvbCwgcm93LCB1cmwpIHtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsXG4gICAgICAgIHRoaXMuY29sID0gY29sXG4gICAgICAgIHRoaXMucm93ID0gcm93XG4gICAgICAgIHRoaXMudXJsID0gdXJsXG4gICAgICAgIHRoaXMubncgPSBudWxsXG4gICAgICAgIHRoaXMubmUgPSBudWxsXG4gICAgICAgIHRoaXMuc3cgPSBudWxsXG4gICAgICAgIHRoaXMuc2UgPSBudWxsXG4gICAgICAgIHRoaXMucHJldmlvdXMgPSBudWxsXG4gICAgfVxuXG4gICAgLyoqIFJldHVybiBUcnVlIGlmIHRoaXMgbm9kZSBoYXMgbm8gc3VjY2Vzc29ycyBhbmQgY2FuIGJlIHVzZWQgYXNcbiAgICBhbiBpbmRpY2F0b3Igb2YgdGlsZXMgdG8gZnJlZS5cbiAgICAqKi9cbiAgICBub1F1YWRzKCkge1xuICAgICAgICBpZiAodGhpcy5wcmV2aW91cyA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLm53ID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLm5lID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnN3ID09PSBudWxsICYmXG4gICAgICAgICAgICB0aGlzLnNlID09PSBudWxsXG4gICAgICAgIClcbiAgICB9XG5cbiAgICAvKiogVW5saW5rIHRoZSBnaXZlbiBxdWFkIG5vZGVcblxuICAgICogQHBhcmFtIHtub2RlfSBUaWxlUXVhZE5vZGUgLSBUaGUgVGlsZVF1YWROb2RlIHRvIHJlbW92ZVxuICAgICoqL1xuICAgIHVubGluayhub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLm53ID09PSBub2RlKSB0aGlzLm53ID0gbnVsbFxuICAgICAgICBpZiAodGhpcy5uZSA9PT0gbm9kZSkgdGhpcy5uZSA9IG51bGxcbiAgICAgICAgaWYgKHRoaXMuc3cgPT09IG5vZGUpIHRoaXMuc3cgPSBudWxsXG4gICAgICAgIGlmICh0aGlzLnNlID09PSBub2RlKSB0aGlzLnNlID0gbnVsbFxuICAgIH1cblxuICAgIC8qKiBMaW5rIHRoaXMgcXVhZCBub2RlIHRvIHRoZSBnaXZlbiBwcmV2aW91cyBub2RlLiBVc2UgdGhlIG5vcnRoXG4gICAgKiBhbmQgd2VzdCBmbGFncyB0byBhZGRyZXNzIG53LCBuZSwgc3csIGFuZCBzZS5cblxuICAgICogQHBhcmFtIHtub2RlfSBUaWxlUXVhZE5vZGUgLSBUaGUgVGlsZVF1YWROb2RlIHRvIHJlbW92ZVxuICAgICogQHBhcmFtIHtub3J0aH0gQm9vbGVhbiAtIExpbmsgdG8gbm9ydGggKHRydWUpIG9yIHNvdXRoIChmYWxzZSlcbiAgICAqIEBwYXJhbSB7d2VzdH0gQm9vbGVhbiAtIExpbmsgdG8gd2VzdCAodHJ1ZSkgb3IgZWFzdCAoZmFsc2UpXG4gICAgKiovXG4gICAgbGluayhub3J0aCwgd2VzdCwgcHJldmlvdXMpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IHByZXZpb3VzXG4gICAgICAgIGlmIChub3J0aCkge1xuICAgICAgICAgICAgaWYgKHdlc3QpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5udyA9IHRoaXNcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXMubmUgPSB0aGlzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAod2VzdCkge1xuICAgICAgICAgICAgICAgIHByZXZpb3VzLnN3ID0gdGhpc1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5zZSA9IHRoaXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqIFRoZSBjdXJyZW50IFRpbGUgaW1wbGVtZW50YXRpb24gc2ltcGx5IHVzZXMgUElYSS5TcHJpdGVzLlxuICpcbiAqIEJUVzogUElYSS5leHRyYXMuVGlsaW5nU3ByaXRlIGlzIG5vdCBhcHByb3ByaWF0ZS4gSXQgc2hvdWxkIGJlIHVzZWQgZm9yXG4gKiByZXBlYXRpbmcgcGF0dGVybnMuXG4gKiovXG5jbGFzcyBUaWxlIGV4dGVuZHMgUElYSS5TcHJpdGUge1xuICAgIGNvbnN0cnVjdG9yKHRleHR1cmUpIHtcbiAgICAgICAgc3VwZXIodGV4dHVyZSlcbiAgICB9XG59XG5cbi8qKlxuICogQSBUaWxlIExvYWRlciBjb21wb25lbnQgdGhhdCBjYW4gYmUgcGx1Z2dlZCBpbnRvIGEgVGlsZXMgTGF5ZXIuXG4gKi9cbmNsYXNzIFRpbGVMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKHRpbGVzKSB7XG4gICAgICAgIHRoaXMuZGVidWcgPSBmYWxzZVxuICAgICAgICB0aGlzLnRpbGVzID0gdGlsZXNcbiAgICAgICAgdGhpcy5zZXR1cCgpXG4gICAgfVxuXG4gICAgLyoqIFNldHVwIGNvbGxlY3Rpb25zIGFuZCBpbnN0YW5jZSB2YXJzLiAqL1xuICAgIHNldHVwKCkge1xuICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKSAvLyBNYXAge3VybCA6IFsgY29sLCByb3ddfVxuICAgICAgICB0aGlzLmxvYWRpbmcgPSBuZXcgU2V0KCkgLy8gU2V0IHVybFxuICAgICAgICB0aGlzLmxvYWRlZCA9IG5ldyBNYXAoKSAvLyBNYXAge3VybCA6IHNwcml0ZSB9XG4gICAgICAgIHRoaXMubG9hZFF1ZXVlID0gW11cbiAgICB9XG5cbiAgICAvKiogU2NoZWR1bGVzIGEgdGlsZSB1cmwgZm9yIGxvYWRpbmcuIFRoZSBsb2FkaW5nIGl0c2VsZiBtdXN0IGJlIHRyaWdnZXJlZFxuICAgIGJ5IGEgY2FsbCB0byBsb2FkT25lVGlsZSBvciBsb2FkQWxsXG5cbiAgICAqIEBwYXJhbSB7U3RyaW5nfSB1cmwgLSB0aGUgdXJsIG9mIHRoZSB0ZXh0dXJlIC8gdGlsZVxuICAgICogQHBhcmFtIHtOdW1iZXJ9IGNvbCAtIHRoZSB0aWxlIGNvbFxuICAgICogQHBhcmFtIHtOdW1iZXJ9IHJvdyAtIHRoZSB0aWxlIHJvd1xuICAgICoqL1xuICAgIHNjaGVkdWxlKHVybCwgY29sLCByb3cpIHtcbiAgICAgICAgaWYgKHRoaXMubG9hZGVkLmhhcyh1cmwpKSByZXR1cm4gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMubG9hZGluZy5oYXModXJsKSkgcmV0dXJuIGZhbHNlXG4gICAgICAgIHRoaXMubWFwLnNldCh1cmwsIFtjb2wsIHJvd10pXG4gICAgICAgIHRoaXMubG9hZGluZy5hZGQodXJsKVxuICAgICAgICB0aGlzLmxvYWRRdWV1ZS5wdXNoKHVybClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICAvKiogQ2FuY2VscyBsb2FkaW5nIGJ5IGNsZWFyaW5nIHRoZSBsb2FkIHF1ZXVlICoqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgdGhpcy5sb2FkUXVldWUgPSBbXVxuICAgICAgICB0aGlzLmxvYWRpbmcuY2xlYXIoKVxuICAgIH1cblxuICAgIC8qKiBEZXN0cm95cyBhbGxzIGNvbGxlY3Rpb25zLiAqKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnNldHVwKClcbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2QuIEluZm9ybXMgdGhlIHRpbGUgbGF5ZXIgYWJvdXQgYSB0ZXh0dXJlIGZvciBhIGdpdmVuIHVybC5cbiAgICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIHRoZSBsb2FkZWQgdGV4dHVyZSBhbmQgaW5mb3JtcyB0aGUgdGlsZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdXJsIC0gdGhlIHVybFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0ZXh0dXJlIC0gdGhlIGxvYWRlZCByZXNvdXJjZVxuICAgICAqKi9cbiAgICBfdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKSB7XG4gICAgICAgIGxldCB0aWxlID0gbmV3IFRpbGUodGV4dHVyZSlcbiAgICAgICAgdGhpcy5sb2FkZWQuc2V0KHVybCwgdGlsZSlcbiAgICAgICAgdGhpcy50aWxlcy50aWxlQXZhaWxhYmxlKHRpbGUsIGNvbCwgcm93LCB1cmwpXG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGlsZSBMb2FkZXIgY29tcG9uZW50IHRoYXQgY2FuIGJlIHBsdWdnZWQgaW50byBhIFRpbGVzIExheWVyLlxuICogVXNlcyB0aGUgUElYSSBMb2FkZXIgYnV0IGNhbiBiZSByZXBsYWNlZCB3aXRoIG90aGUgbG9hZGVycyBpbXBsZW1lbnRpbmdcbiAqIHRoZSBwdWJsaWMgbWV0aG9kcyB3aXRob3V0IHVuZGVyc2NvcmUuXG4gKiBDYWxscyB0aGUgVGlsZXMudGlsZUF2YWlsYWJsZSBtZXRob2QgaWYgdGhlIHNwcml0ZSBpcyBhdmFpbGFibGUuXG4gKiovXG5jbGFzcyBQSVhJVGlsZUxvYWRlciBleHRlbmRzIFRpbGVMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodGlsZXMsIGNvbXByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBQSVhJLmxvYWRlcnMuTG9hZGVyKClcbiAgICAgICAgdGhpcy5sb2FkZXIub24oJ2xvYWQnLCB0aGlzLl9vbkxvYWRlZC5iaW5kKHRoaXMpKVxuICAgICAgICB0aGlzLmxvYWRlci5vbignZXJyb3InLCB0aGlzLl9vbkVycm9yLmJpbmQodGhpcykpXG4gICAgICAgIGlmIChjb21wcmVzc2lvbikge1xuICAgICAgICAgICAgdGhpcy5sb2FkZXIucHJlKFBJWEkuY29tcHJlc3NlZFRleHR1cmVzLmltYWdlUGFyc2VyKCkpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzY2hlZHVsZSh1cmwsIGNvbCwgcm93KSB7XG4gICAgICAgIC8vIE92ZXJ3cml0dGVuIHNjaGVkdWxlIHRvIGF2b2lkIEJhc2VUZXh0dXJlIGFuZCBUZXh0dXJlIGFscmVhZHkgbG9hZGVkIGVycm9ycy5cbiAgICAgICAgbGV0IHRleHR1cmUgPSBQSVhJLnV0aWxzLlRleHR1cmVDYWNoZVt1cmxdXG4gICAgICAgIGlmICh0ZXh0dXJlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1RleHR1cmUgYWxyZWFkeSBsb2FkZWQnLCB0ZXh0dXJlKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGJhc2UgPSBQSVhJLnV0aWxzLkJhc2VUZXh0dXJlQ2FjaGVbdXJsXVxuICAgICAgICBpZiAoYmFzZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKCdCYXNlVGV4dHVyZSBhbHJlYWR5IGxvYWRlZCcsIGJhc2UpXG4gICAgICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZSlcbiAgICAgICAgICAgIHRoaXMuX3RleHR1cmVBdmFpbGFibGUodXJsLCBjb2wsIHJvdywgdGV4dHVyZSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdXBlci5zY2hlZHVsZSh1cmwsIGNvbCwgcm93KVxuICAgIH1cblxuICAgIC8qKiBMb2FkIG9uZSBhbmQgb25seSBvbmUgb2YgdGhlIHNjaGVkdWxlZCB0aWxlcyAqKi9cbiAgICBsb2FkT25lVGlsZSgpIHtcbiAgICAgICAgdGhpcy5fbG9hZE9uZVRpbGUoKVxuICAgIH1cblxuICAgIC8qKiBMb2FkIGFsbCBzY2hlZHVsZWQgdGlsZXMgKiovXG4gICAgbG9hZEFsbCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZEFsbFRpbGVzKClcbiAgICB9XG5cbiAgICAvKiogRGVzdHJveXMgdGhlIGxvYWRlciBjb21wbGV0bHkgKiovXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5sb2FkZXIucmVzZXQoKVxuICAgICAgICBzdXBlci5kZXN0cm95KClcbiAgICB9XG5cbiAgICBfb25FcnJvcihsb2FkZXIsIGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQ2Fubm90IGxvYWQnLCBlcnJvcilcbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2QuIENhbGxlZCBieSB0aGUgUElYSSBsb2FkZXIgYWZ0ZXIgZWFjaCBzdWNjZXNzZnVsbFxuICAgICAqIGxvYWRpbmcgb2YgYSBzaW5nbGUgdGlsZS5cbiAgICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIHRoZSBsb2FkZWQgdGV4dHVyZSBhbmQgaW5mb3JtcyB0aGUgdGlsZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9hZGVyIC0gdGhlIGxvYWRlciBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZSAtIHRoZSBsb2FkZWQgcmVzb3VyY2Ugd2l0aCB1cmwgYW5kIHRleHR1cmUgYXR0clxuICAgICAqKi9cbiAgICBfb25Mb2FkZWQobG9hZGVyLCByZXNvdXJjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aGlzLm1hcC5nZXQocmVzb3VyY2UudXJsKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZShyZXNvdXJjZS51cmwsIGNvbCwgcm93LCByZXNvdXJjZS50ZXh0dXJlKVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoKGVycikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGV4dHVyZSB1bmF2YWlsYWJsZTogXCIgKyBlcnIubWVzc2FnZSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogbG9hZHMgb25lIHRpbGUgZnJvbSB0aGUgcXVldWUuICoqL1xuICAgIF9sb2FkT25lVGlsZShyZXRyeSA9IDEpIHtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIl9sb2FkT25lVGlsZVwiKVxuICAgICAgICBpZiAodGhpcy5sb2FkZXIubG9hZGluZykge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZE9uZVRpbGUoKVxuICAgICAgICAgICAgfSwgcmV0cnkpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5hZGQodXJsLCB1cmwpXG4gICAgICAgICAgICB0aGlzLmxvYWRlci5sb2FkKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogbG9hZHMgYWxsIHRpbGVzIGZyb20gdGhlIHF1ZXVlIGluIGJhdGNoZXMuIEJhdGNoZXMgYXJlXG4gICAgaGVscGZ1bGwgdG8gYXZvaWQgbG9hZGluZyB0aWxlcyB0aGF0IGFyZSBubyBsb25nZXIgbmVlZGVkIGJlY2F1c2UgdGhlXG4gICAgdXNlciBoYXMgYWxyZWFkeSB6b29tZWQgdG8gYSBkaWZmZXJlbnQgbGV2ZWwuKiovXG4gICAgX2xvYWRBbGxUaWxlcyhiYXRjaFNpemUgPSA4LCByZXRyeSA9IDE2KSB7XG4gICAgICAgIGlmICh0aGlzLmxvYWRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkZXIubG9hZGluZykge1xuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJMb2FkZXIgYnVzeVwiLCB0aGlzLmxvYWRRdWV1ZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRBbGxUaWxlcygpXG4gICAgICAgICAgICAgICAgfSwgcmV0cnkpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgaSA9IDBcbiAgICAgICAgICAgIGxldCB1cmxzID0gW11cbiAgICAgICAgICAgIHdoaWxlIChpIDwgYmF0Y2hTaXplICYmIHRoaXMubG9hZFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5sb2FkUXVldWUucG9wKClcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMubG9hZGVkLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybHMucHVzaCh1cmwpXG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubG9hZGVyLmFkZCh1cmxzKS5sb2FkKCgpID0+IHRoaXMuX2xvYWRBbGxUaWxlcygpKVxuICAgICAgICB9XG4gICAgfVxufVxuXG5jbGFzcyBSZXF1ZXN0VGlsZUxvYWRlciBleHRlbmRzIFRpbGVMb2FkZXIge1xuXG4gICAgY29uc3RydWN0b3IodGlsZXMsIGNvbXByZXNzaW9uKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICB0aGlzLmNvbXByZXNzaW9uID0gY29tcHJlc3Npb25cbiAgICB9XG5cbiAgICBzY2hlZHVsZSh1cmwsIGNvbCwgcm93KSB7XG4gICAgICAgIHRoaXMuX2xvYWQodXJsLCBjb2wsIHJvdylcbiAgICAgICAgcmV0dXJuIHN1cGVyLnNjaGVkdWxlKHVybCwgY29sLCByb3cpXG4gICAgfVxuXG4gICAgX2xvYWQodXJsLCBjb2wsIHJvdywgY2FsbGJhY2sgPSBudWxsKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXByZXNzaW9uKSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCB1cmwsIGZhbHNlKVxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcidcbiAgICAgICAgICAgIHhoci5vbmxvYWQgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgQ29tcHJlc3NlZEltYWdlID0gUElYSS5jb21wcmVzc2VkVGV4dHVyZXMuQ29tcHJlc3NlZEltYWdlXG4gICAgICAgICAgICAgICAgbGV0IGNvbXByZXNzZWQgPSBDb21wcmVzc2VkSW1hZ2UubG9hZEZyb21BcnJheUJ1ZmZlcihcbiAgICAgICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB1cmxcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0NvbXByZXNzZWRJbWFnZSBsb2FkZWQnKVxuICAgICAgICAgICAgICAgIGxldCBiYXNlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZClcbiAgICAgICAgICAgICAgICBsZXQgdGV4dHVyZSA9IG5ldyBQSVhJLlRleHR1cmUoYmFzZSlcbiAgICAgICAgICAgICAgICB0aGlzLl90ZXh0dXJlQXZhaWxhYmxlKHVybCwgY29sLCByb3csIHRleHR1cmUpXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB4aHIuc2VuZCgpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgdGV4dHVyZSA9IFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJ2Fzc2V0cy9pbWFnZS5wbmcnKVxuICAgICAgICAgICAgdGhpcy5fdGV4dHVyZUF2YWlsYWJsZSh1cmwsIGNvbCwgcm93LCB0ZXh0dXJlKVxuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogTG9hZCBvbmUgYW5kIG9ubHkgb25lIG9mIHRoZSBzY2hlZHVsZWQgdGlsZXMgKiovXG4gICAgbG9hZE9uZVRpbGUoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRPbmVUaWxlKClcbiAgICB9XG5cbiAgICAvKiogTG9hZCBhbGwgc2NoZWR1bGVkIHRpbGVzICoqL1xuICAgIGxvYWRBbGwoKSB7XG4gICAgICAgIHRoaXMuX2xvYWRBbGxUaWxlcygpXG4gICAgfVxuXG4gICAgLyoqIFByaXZhdGUgbWV0aG9kOiBsb2FkcyBvbmUgdGlsZSBmcm9tIHRoZSBxdWV1ZS4gKiovXG4gICAgX2xvYWRPbmVUaWxlKHJldHJ5ID0gMSkge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICB0aGlzLl9sb2FkKHVybCwgY29sLCByb3cpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUHJpdmF0ZSBtZXRob2Q6IGxvYWRzIGFsbCB0aWxlcyBmcm9tIHRoZSBxdWV1ZSBpbiBiYXRjaGVzLiBCYXRjaGVzIGFyZVxuICAgIGhlbHBmdWxsIHRvIGF2b2lkIGxvYWRpbmcgdGlsZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIG5lZWRlZCBiZWNhdXNlIHRoZVxuICAgIHVzZXIgaGFzIGFscmVhZHkgem9vbWVkIHRvIGEgZGlmZmVyZW50IGxldmVsLioqL1xuICAgIF9sb2FkQWxsVGlsZXMoYmF0Y2hTaXplID0gOCwgcmV0cnkgPSAxNikge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IGkgPSAwXG4gICAgICAgICAgICBsZXQgdXJscyA9IFtdXG4gICAgICAgICAgICB3aGlsZSAoaSA8IGJhdGNoU2l6ZSAmJiB0aGlzLmxvYWRRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUudGltZSh1cmwpXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZC5oYXModXJsKSkge1xuICAgICAgICAgICAgICAgICAgICB1cmxzLnB1c2godXJsKVxuICAgICAgICAgICAgICAgICAgICBpICs9IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdG90YWwgPSB1cmxzLmxlbmd0aFxuICAgICAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHVybHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZCh1cmwsIGNvbCwgcm93LCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50ID09IHRvdGFsKSB0aGlzLl9sb2FkQWxsVGlsZXMoKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIFdvcmtlclRpbGVMb2FkZXIgZXh0ZW5kcyBUaWxlTG9hZGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHRpbGVzKSB7XG4gICAgICAgIHN1cGVyKHRpbGVzKVxuICAgICAgICBsZXQgd29ya2VyID0gdGhpcy53b3JrZXIgPSBuZXcgV29ya2VyKFwiLi4vLi4vbGliL3BpeGkvdGlsZWxvYWRlci5qc1wiKVxuICAgICAgICB3b3JrZXIub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgIGxldCB7dXJsLCBjb2wsIHJvdywgYnVmZmVyfSA9IGV2ZW50LmRhdGFcbiAgICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIldvcmtlclRpbGVMb2FkZXIubG9hZGVkXCIsIHVybCwgYnVmZmVyKVxuICAgICAgICAgICAgICAgICBsZXQgQ29tcHJlc3NlZEltYWdlID0gUElYSS5jb21wcmVzc2VkVGV4dHVyZXMuQ29tcHJlc3NlZEltYWdlXG4gICAgICAgICAgICAgICAgIGxldCBjb21wcmVzc2VkID0gQ29tcHJlc3NlZEltYWdlLmxvYWRGcm9tQXJyYXlCdWZmZXIoYnVmZmVyLCB1cmwpXG4gICAgICAgICAgICAgICAgIGxldCBiYXNlID0gbmV3IFBJWEkuQmFzZVRleHR1cmUoY29tcHJlc3NlZClcbiAgICAgICAgICAgICAgICAgbGV0IHRleHR1cmUgPSBuZXcgUElYSS5UZXh0dXJlKGJhc2UpXG4gICAgICAgICAgICAgICAgIHRoaXMuX3RleHR1cmVBdmFpbGFibGUodXJsLCBjb2wsIHJvdywgdGV4dHVyZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgIH1cbiAgICB9XG5cbiAgICBsb2FkT25lKCkge1xuICAgICAgICBpZiAodGhpcy5sb2FkUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMubG9hZFF1ZXVlLnBvcCgpXG4gICAgICAgICAgICBsZXQgW2NvbCwgcm93XSA9IHRoaXMubWFwLmdldCh1cmwpXG4gICAgICAgICAgICBsZXQgdGlsZSA9IFtjb2wsIHJvdywgdXJsXVxuICAgICAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6IFwibG9hZFwiLCB0aWxlczogW3RpbGVdfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRBbGwoKSB7XG4gICAgICAgIGxldCB0aWxlcyA9IFtdXG4gICAgICAgIHdoaWxlKHRoaXMubG9hZFF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCB1cmwgPSB0aGlzLmxvYWRRdWV1ZS5wb3AoKVxuICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aGlzLm1hcC5nZXQodXJsKVxuICAgICAgICAgICAgdGlsZXMucHVzaChbY29sLCByb3csIHVybF0pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53b3JrZXIucG9zdE1lc3NhZ2Uoe2NvbW1hbmQ6IFwibG9hZFwiLCB0aWxlc30pXG4gICAgfVxuXG4gICAgY2FuY2VsKCkge1xuICAgICAgICBzdXBlci5jYW5jZWwoKVxuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogXCJhYm9ydFwifSlcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLndvcmtlci5wb3N0TWVzc2FnZSh7Y29tbWFuZDogXCJhYm9ydFwifSlcbiAgICAgICAgdGhpcy53b3JrZXIudGVybWluYXRlKClcbiAgICAgICAgdGhpcy53b3JrZXIgPSBudWxsXG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKVxuICAgIH1cbn1cbi8qKlxuICogQSBsYXllciBvZiB0aWxlcyB0aGF0IHJlcHJlc2VudHMgYSB6b29tIGxldmVsIG9mIGEgRGVlcFpvb21JbWFnZSBhcyBhIGdyaWRcbiAqIG9mIHNwcml0ZXMuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIHRoZSB6b29tIGxldmVsIG9mIHRoZSB0aWxlIGxheWVyXG4gKiBAcGFyYW0ge0RlZXBab29tSW1hZ2V9IHZpZXcgLSB0aGUgem9vbWFibGUgaW1hZ2UgdGhlIGxheWVyIGJlbG9uZ3MgdG9cbiAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZSAtIHRoZSBzY2FsZSBvZiB0aGUgdGlsZSBsYXllclxuICogQHBhcmFtIHtudW1iZXJ9IGNvbHMgLSB0aGUgbnVtYmVyIG9mIGNvbHVtbnMgb2YgdGhlIGxheWVyXG4gKiBAcGFyYW0ge251bWJlcn0gcm93cyAtIHRoZSBudW1iZXIgb2Ygcm93cyBvZiB0aGUgbGF5ZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aCAtIHRoZSB3aWR0aCBvZiB0aGUgbGF5ZXIgaW4gcGl4ZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHQgLSB0aGUgaGVpZ2h0IG9mIHRoZSBsYXllciBpbiBwaXhlbFxuICogQHBhcmFtIHtudW1iZXJ9IHRpbGVTaXplIC0gdGhlIHNpemUgb2YgYSBzaW5nbGUgdGlsZSBpbiBwaXhlbFxuICogQHBhcmFtIHtudW1iZXJ9IG92ZXJsYXAgLSB0aGUgb3ZlcmxhcCBvZiB0aGUgdGlsZXMgaW4gcGl4ZWxcbiAqIEBwYXJhbSB7bnVtYmVyfSBmYWRlSW5UaW1lIC0gdGltZSBuZWVkZWQgdG8gZmFkZSBpbiB0aWxlcyBpZiBUd2VlbkxpdGUgaXMgc2V0XG4gKiovXG5jbGFzcyBUaWxlcyBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgbGV2ZWwsXG4gICAgICAgIHZpZXcsXG4gICAgICAgIHNjYWxlLFxuICAgICAgICBjb2xzLFxuICAgICAgICByb3dzLFxuICAgICAgICB3aWR0aCxcbiAgICAgICAgaGVpZ2h0LFxuICAgICAgICB0aWxlU2l6ZSxcbiAgICAgICAgb3ZlcmxhcCxcbiAgICAgICAgZmFkZUluVGltZSA9IDAuMjVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmRlYnVnID0gZmFsc2VcbiAgICAgICAgdGhpcy5zaG93R3JpZCA9IGZhbHNlXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXdcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsXG4gICAgICAgIHRoaXMuY29scyA9IGNvbHNcbiAgICAgICAgdGhpcy5yb3dzID0gcm93c1xuICAgICAgICB0aGlzLnBpeGVsV2lkdGggPSB3aWR0aFxuICAgICAgICB0aGlzLnBpeGVsSGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMudGlsZVNpemUgPSB0aWxlU2l6ZVxuICAgICAgICB0aGlzLm92ZXJsYXAgPSBvdmVybGFwXG4gICAgICAgIHRoaXMubmVlZGVkID0gbmV3IE1hcCgpIC8vIHVybCBhcyBrZXksIFtjb2wsIHJvd10gYXMgdmFsdWVcbiAgICAgICAgdGhpcy5yZXF1ZXN0ZWQgPSBuZXcgU2V0KClcbiAgICAgICAgdGhpcy5hdmFpbGFibGUgPSBuZXcgTWFwKClcbiAgICAgICAgdGhpcy5zY2FsZS5zZXQoc2NhbGUsIHNjYWxlKVxuICAgICAgICB0aGlzLnRpbGVTY2FsZSA9IHNjYWxlXG4gICAgICAgIHRoaXMuZmFkZUluVGltZSA9IGZhZGVJblRpbWVcbiAgICAgICAgdGhpcy5rZWVwID0gZmFsc2VcbiAgICAgICAgaWYgKHRoaXMudmlldy5wcmVmZXJXb3JrZXIgJiYgdmlldy5pbmZvLmNvbXByZXNzaW9uLmxlbmd0aD4wKVxuICAgICAgICAgICAgdGhpcy5sb2FkZXIgPSBuZXcgV29ya2VyVGlsZUxvYWRlcih0aGlzKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLmxvYWRlciA9IG5ldyBQSVhJVGlsZUxvYWRlcih0aGlzLCB2aWV3LmluZm8uY29tcHJlc3Npb24pXG4gICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSBmYWxzZVxuICAgICAgICB0aGlzLl9oaWdobGlnaHQgPSBudWxsXG4gICAgICAgIHRoaXMucHByaW50KClcbiAgICB9XG5cbiAgICAvKiogVGVzdHMgd2hldGhlciBhbGwgdGlsZXMgYXJlIGxvYWRlZC4gKiovXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29scyAqIHRoaXMucm93cyA9PT0gdGhpcy5jaGlsZHJlbi5sZW5ndGhcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgaGlnaGxpZ2ggZ3JhcGhpY3MgbGF5ZXIgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAgKiovXG4gICAgZ2V0IGhpZ2hsaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hpZ2hsaWdodCA9PSBudWxsKSB7XG4gICAgICAgICAgICBsZXQgZ3JhcGhpY3MgPSBuZXcgUElYSS5HcmFwaGljcygpXG4gICAgICAgICAgICBncmFwaGljcy5iZWdpbkZpbGwoMHhmZmZmMDAsIDAuMSlcbiAgICAgICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweGZmZmYwMClcbiAgICAgICAgICAgIGdyYXBoaWNzLmRyYXdSZWN0KDEsIDEsIHRpbGVTaXplIC0gMiwgdGlsZVNpemUgLSAyKVxuICAgICAgICAgICAgZ3JhcGhpY3MuZW5kRmlsbCgpXG4gICAgICAgICAgICBncmFwaGljcy5pbnRlcmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLl9oaWdobGlnaHQgPSBncmFwaGljc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9oaWdobGlnaHRcbiAgICB9XG5cbiAgICAvKiogSGVscGVyIG1ldGhvZCBwcmV0dHkgcHJpbnRpbmcgZGVidWcgaW5mb3JtYXRpb24uICoqL1xuICAgIHBwcmludCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICAgICAgICAnVGlsZXMgbGV2ZWw6ICcgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxldmVsICtcbiAgICAgICAgICAgICAgICAgICAgJyBzY2FsZTogJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhbGUueCArXG4gICAgICAgICAgICAgICAgICAgICcgY29sczogJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29scyArXG4gICAgICAgICAgICAgICAgICAgICcgcm93czogJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm93cyArXG4gICAgICAgICAgICAgICAgICAgICcgdzogJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxXaWR0aCArXG4gICAgICAgICAgICAgICAgICAgICcgaDogJyArXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGl4ZWxIZWlnaHQgK1xuICAgICAgICAgICAgICAgICAgICAnIHRzaXplOicgK1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbGVTaXplXG4gICAgICAgICAgICApXG4gICAgfVxuXG4gICAgLyoqIENvbXB1dGVzIHRoZSB0aWxlIHBvc2l0aW9uIGFuZCBvYmV5cyB0aGUgb3ZlcmxhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sIC0gVGhlIGNvbHVtbiBvZiB0aGUgdGlsZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3cgLSBUaGUgcm93IG9mIHRoZSB0aWxlXG4gICAgICogQHJldHVybnMge1BJWEkuUG9pbnR9IG9ialxuICAgICAqKi9cbiAgICB0aWxlUG9zaXRpb24oY29sLCByb3cpIHtcbiAgICAgICAgbGV0IHggPSBjb2wgKiB0aGlzLnRpbGVTaXplXG4gICAgICAgIGxldCB5ID0gcm93ICogdGhpcy50aWxlU2l6ZVxuICAgICAgICBsZXQgb3ZlcmxhcCA9IHRoaXMub3ZlcmxhcFxuICAgICAgICBpZiAoY29sICE9IDApIHtcbiAgICAgICAgICAgIHggLT0gb3ZlcmxhcFxuICAgICAgICB9XG4gICAgICAgIGlmIChyb3cgIT0gMCkge1xuICAgICAgICAgICAgeSAtPSBvdmVybGFwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQSVhJLlBvaW50KHgsIHkpXG4gICAgfVxuXG4gICAgLyoqIENvbXB1dGVzIHRoZSB0aWxlIHNpemUgd2l0aG91dCBvdmVybGFwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbCAtIFRoZSBjb2x1bW4gb2YgdGhlIHRpbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93IC0gVGhlIHJvdyBvZiB0aGUgdGlsZVxuICAgICAqIEByZXR1cm5zIHtQSVhJLlBvaW50fSBvYmpcbiAgICAgKiovXG4gICAgdGlsZURpbWVuc2lvbnMoY29sLCByb3cpIHtcbiAgICAgICAgbGV0IHcgPSB0aGlzLnRpbGVTaXplXG4gICAgICAgIGxldCBoID0gdGhpcy50aWxlU2l6ZVxuICAgICAgICBsZXQgcG9zID0gdGhpcy50aWxlUG9zaXRpb24oY29sLCByb3cpXG4gICAgICAgIGlmIChjb2wgPT0gdGhpcy5jb2xzIC0gMSkge1xuICAgICAgICAgICAgdyA9IHRoaXMucGl4ZWxXaWR0aCAtIHBvcy54XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvdyA9PSB0aGlzLnJvd3MgLSAxKSB7XG4gICAgICAgICAgICBoID0gdGhpcy5waXhlbEhlaWdodCAtIHBvcy55XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQSVhJLlBvaW50KHcsIGgpXG4gICAgfVxuXG4gICAgLyoqIE1ldGhvZCB0byBzdXBwb3J0IGRlYnVnZ2luZy4gSGlnaGxpZ2h0cyB0aGUgc3BlY2lmaWVkIHRpbGUgYXQgY29sLCByb3cgKiovXG4gICAgaGlnaGxpZ2h0VGlsZShjb2wsIHJvdykge1xuICAgICAgICBpZiAoY29sID4gLTEgJiYgcm93ID4gLTEgJiYgY29sIDwgdGhpcy5jb2xzICYmIHJvdyA8IHRoaXMucm93cykge1xuICAgICAgICAgICAgbGV0IGdyYXBoaWNzID0gdGhpcy5oaWdobGlnaHRcbiAgICAgICAgICAgIGxldCBkaW0gPSB0aGlzLnRpbGVEaW1lbnNpb25zKGNvbCwgcm93KVxuICAgICAgICAgICAgZ3JhcGhpY3MucG9zaXRpb24gPSB0aGlzLnRpbGVQb3NpdGlvbihjb2wsIHJvdylcbiAgICAgICAgICAgIGdyYXBoaWNzLmNsZWFyKClcbiAgICAgICAgICAgIGdyYXBoaWNzLmJlZ2luRmlsbCgweGZmMDBmZiwgMC4xKVxuICAgICAgICAgICAgZ3JhcGhpY3MubGluZVN0eWxlKDIsIDB4ZmZmZjAwKVxuICAgICAgICAgICAgZ3JhcGhpY3MuZHJhd1JlY3QoMSwgMSwgZGltLnggLSAyLCBkaW0ueSAtIDIpXG4gICAgICAgICAgICBncmFwaGljcy5lbmRGaWxsKClcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5oaWdobGlnaHQpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKHRoaXMuaGlnaGxpZ2h0KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIExvYWRzIHRoZSB0aWxlcyBmb3IgdGhlIGdpdmVuIHVybHMgYW5kIGFkZHMgdGhlIHRpbGVzIGFzIHNwcml0ZXMuXG4gICAgICogQHBhcmFtIHthcnJheX0gdXJscG9zIC0gQW4gYXJyYXkgb2YgVVJMLCBwb3MgcGFpcnNcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IG9ubHlvbmUgLSBMb2FkcyBvbmx5IG9uIHRpbGUgYXQgYSB0aW1lIGlmIHRydWVcbiAgICAgKiovXG4gICAgbG9hZFRpbGVzKHVybHBvcywgb25seW9uZSwgcmVmQ29sLCByZWZSb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvd0dyaWQpIHtcbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0VGlsZShyZWZDb2wsIHJlZlJvdylcbiAgICAgICAgfVxuICAgICAgICB1cmxwb3MuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgIGxldCBbdXJsLCBjb2wsIHJvd10gPSBkXG4gICAgICAgICAgICBpZiAodGhpcy5sb2FkZXIuc2NoZWR1bGUodXJsLCBjb2wsIHJvdykpIHtcbiAgICAgICAgICAgICAgICBpZiAob25seW9uZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXIubG9hZE9uZVRpbGUoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5sb2FkZXIubG9hZEFsbCgpXG4gICAgfVxuXG4gICAgLyoqIFByaXZhdGUgbWV0aG9kOiBhZGQgYSByZWQgYm9yZGVyIHRvIGEgdGlsZSBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLiAqKi9cbiAgICBfYWRkVGlsZUJvcmRlcih0aWxlLCBjb2wsIHJvdykge1xuICAgICAgICBsZXQgZGltID0gdGhpcy50aWxlRGltZW5zaW9ucyhjb2wsIHJvdylcbiAgICAgICAgbGV0IGdyYXBoaWNzID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICBncmFwaGljcy5iZWdpbkZpbGwoMCwgMClcbiAgICAgICAgZ3JhcGhpY3MubGluZVN0eWxlKDIsIDB4ZmYwMDAwKVxuICAgICAgICBncmFwaGljcy5kcmF3UmVjdCgxLCAxLCBkaW0ueCAtIDIsIGRpbS55IC0gMilcbiAgICAgICAgZ3JhcGhpY3MuZW5kRmlsbCgpXG4gICAgICAgIHRpbGUuYWRkQ2hpbGQoZ3JhcGhpY3MpXG4gICAgfVxuXG4gICAgLyoqIEFkZHMgYSB0aWxlLiAqKi9cbiAgICBhZGRUaWxlKHRpbGUsIGNvbCwgcm93LCB1cmwpIHtcbiAgICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlLmhhcyh1cmwpKSByZXR1cm5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aWxlKVxuICAgICAgICB0aGlzLmF2YWlsYWJsZS5zZXQodXJsLCB0aWxlKVxuICAgIH1cblxuICAgIC8vICAgICogUmVtb3ZlIGEgdGlsZS4gKiovXG4gICAgLy8gICAgIHJlbW92ZVRpbGUoY29sLCByb3csIHVybCkge1xuICAgIC8vICAgICAgICAgaWYgKHRoaXMuYXZhaWxhYmxlLmhhcyh1cmwpKSB7XG4gICAgLy8gICAgICAgICAgICAgbGV0IHRpbGUgPSB0aGlzLmF2YWlsYWJsZS5nZXQodXJsKVxuICAgIC8vICAgICAgICAgICAgIHRoaXMucmVtb3ZlQ2hpbGQodGlsZSlcbiAgICAvLyAgICAgICAgICAgICB0aWxlLmRlc3Ryb3kodHJ1ZSlcbiAgICAvLyAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coXCJEZXN0cm95ZWQgdGlsZVwiLCB1cmwpXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5hdmFpbGFibGUuZGVsZXRlKHVybClcbiAgICAvLyAgICAgICAgIH1cbiAgICAvLyAgICAgfVxuXG4gICAgLyoqIENhbGxlZCBieSB0aGUgbG9hZGVyIGFmdGVyIGVhY2ggc3VjY2Vzc2Z1bGwgbG9hZGluZyBvZiBhIHNpbmdsZSB0aWxlLlxuICAgICAqIEFkZHMgdGhlIHNwcml0ZSB0byB0aGUgdGlsZSBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGlsZSAtIHRoZSBsb2FkZWQgdGlsZSBzcHJpdGVcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gY29sIC0gdGhlIGNvbCBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSByb3cgLSB0aGUgcm93cG9zaXRpb25cbiAgICAgKiovXG4gICAgdGlsZUF2YWlsYWJsZSh0aWxlLCBjb2wsIHJvdywgdXJsKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnRpbGVQb3NpdGlvbihjb2wsIHJvdylcbiAgICAgICAgaWYgKHRoaXMuc2hvd0dyaWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZFRpbGVCb3JkZXIodGlsZSwgY29sLCByb3cpXG4gICAgICAgIH1cbiAgICAgICAgdGlsZS5wb3NpdGlvbiA9IHBvc1xuICAgICAgICB0aWxlLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgaWYgKFR3ZWVuTWF4KSB7XG4gICAgICAgICAgICB0aWxlLmFscGhhID0gMFxuICAgICAgICAgICAgVHdlZW5NYXgudG8odGlsZSwgdGhpcy5mYWRlSW5UaW1lLCB7YWxwaGE6IHRoaXMuYWxwaGF9KVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWRkVGlsZSh0aWxlLCBjb2wsIHJvdywgdXJsKVxuICAgIH1cblxuICAgIC8qKiBEZXN0cm95cyB0aGUgdGlsZXMgbGF5ZXIgYW5kICAgIGRlc3Ryb3lzIHRoZSBsb2FkZXIuIEFzeW5jIGxvYWQgY2FsbHMgYXJlXG4gICAgICogY2FuY2VsbGVkLlxuICAgICAqKi9cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLmxvYWRlci5kZXN0cm95KClcbiAgICAgICAgLy9hcHAucmVuZGVyZXIudGV4dHVyZUdDLnVubG9hZCh0aGlzKVxuICAgICAgICBzdXBlci5kZXN0cm95KHRydWUpIC8vIENhbGxzIGRlc3Ryb3lDaGlsZHJlblxuICAgICAgICB0aGlzLmF2YWlsYWJsZS5jbGVhcigpXG4gICAgfVxuXG4gICAgLyogRGVzdHJveXMgdGhlIHRpbGVzIHdoaWNoIGFyZSBub3Qgd2l0aCB0aGUgYm91bmRzIG9mIHRoZSBhcHAgdG8gZnJlZVxuICAgICogbWVtb3J5LlxuICAgICoqL1xuICAgIGRlc3Ryb3lUaWxlcyhxdWFkVHJlZXMpIHtcbiAgICAgICAgbGV0IGNvdW50ID0gMFxuICAgICAgICBmb3IgKGxldCBbdXJsLCB0aWxlXSBvZiB0aGlzLmF2YWlsYWJsZS5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGlmICghcXVhZFRyZWVzLmhhcyh1cmwpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZCh0aWxlKVxuICAgICAgICAgICAgICAgIHRpbGUuZGVzdHJveSh0cnVlKVxuICAgICAgICAgICAgICAgIHRoaXMucmVxdWVzdGVkLmRlbGV0ZSh1cmwpXG4gICAgICAgICAgICAgICAgdGhpcy5hdmFpbGFibGUuZGVsZXRlKHVybClcbiAgICAgICAgICAgICAgICBjb3VudCArPSAxXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvdW50ICYmIHRoaXMuZGVidWcpXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVzdHJveU9ic29sZXRlVGlsZXMnLCB0aGlzLmxldmVsLCBjb3VudClcbiAgICB9XG5cbiAgICB0aW50VGlsZXMocXVhZFRyZWVzKSB7XG4gICAgICAgIGZvciAobGV0IFt1cmwsIHRpbGVdIG9mIHRoaXMuYXZhaWxhYmxlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgaWYgKCFxdWFkVHJlZXMuaGFzKHVybCkpIHRpbGUudGludCA9IDB4ZmYwMDAwXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1bnRpbnRUaWxlcygpIHtcbiAgICAgICAgZm9yIChsZXQgW3VybCwgdGlsZV0gb2YgdGhpcy5hdmFpbGFibGUuZW50cmllcygpKSB7XG4gICAgICAgICAgICB0aWxlLnRpbnQgPSAweGZmZmZmZlxuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiogVGhlIG1haW4gY2xhc3Mgb2YgYSBkZWVwbHkgem9vbWFibGUgaW1hZ2UgdGhhdCBpcyByZXByZXNlbnRlZCBieSBhIGhpZXJhcmNoeVxuKiBvZiB0aWxlIGxheWVycyBmb3IgZWFjaCB6b29tIGxldmVsLiBUaGlzIGdpdmVzIHRoZSB1c2VyIHRoZSBpbXByZXNzaW9uIHRoYXRcbiogZXZlbiBodWdlIHBpY3R1cmVzICh1cCB0byBnaWdhcGl4ZWwtaW1hZ2VzKSBjYW4gYmUgem9vbWVkIGluc3RhbnRhbmVvdXNseSxcbiogc2luY2UgdGhlIHRpbGVzIGF0IHNtYWxsZXIgbGV2ZWxzIGFyZSBzY2FsZWQgaW1tZWRpYXRlbHkgYW5kIG92ZXJsb2FkZWQgYnlcbiogbW9yZSBkZXRhaWxlZCB0aWxlcyBhdCB0aGUgbGFyZ2VyIGxldmVsIGFzIGZhc3QgYXMgcG9zc2libGUuXG5cbiogQGNvbnN0cnVjdG9yXG4qIEBwYXJhbSB7RGVlcFpvb21JbmZvfSBkZWVwWm9vbUluZm8gLSBJbmZvcm1hdGlvbiBleHRyYWN0ZWQgZnJvbSBhIEpTT04tT2JqZWN0XG4qL1xuZXhwb3J0IGNsYXNzIERlZXBab29tSW1hZ2UgZXh0ZW5kcyBQSVhJLkNvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIGRlZXBab29tSW5mbyxcbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcgPSBmYWxzZSxcbiAgICAgICAgICAgIHNoYWRvdyA9IGZhbHNlLFxuICAgICAgICAgICAgY2VudGVyID0gZmFsc2UsXG4gICAgICAgICAgICBoaWdoUmVzb2x1dGlvbiA9IHRydWUsXG4gICAgICAgICAgICBhdXRvTG9hZFRpbGVzID0gdHJ1ZSxcbiAgICAgICAgICAgIHByZWZlcldvcmtlciA9IGZhbHNlLFxuICAgICAgICAgICAgbWluaW11bUxldmVsID0gMCxcbiAgICAgICAgICAgIGFscGhhID0gMVxuICAgICAgICB9ID0ge31cbiAgICApIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLmRlYnVnID0gZGVidWdcbiAgICAgICAgdGhpcy5zaGFkb3cgPSBzaGFkb3dcbiAgICAgICAgdGhpcy5wcmVmZXJXb3JrZXIgPSBwcmVmZXJXb3JrZXJcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gaGlnaFJlc29sdXRpb25cbiAgICAgICAgICAgID8gTWF0aC5yb3VuZCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbylcbiAgICAgICAgICAgIDogMVxuICAgICAgICB0aGlzLmFscGhhID0gYWxwaGFcbiAgICAgICAgdGhpcy5mYXN0TG9hZHMgPSAwXG4gICAgICAgIHRoaXMuYXV0b0xvYWRUaWxlcyA9IGF1dG9Mb2FkVGlsZXNcbiAgICAgICAgdGhpcy5taW5pbXVtTGV2ZWwgPSBtaW5pbXVtTGV2ZWxcbiAgICAgICAgdGhpcy5xdWFkVHJlZXMgPSBuZXcgTWFwKCkgLy8gdXJsIGFzIGtleXMsIFRpbGVRdWFkTm9kZXMgYXMgdmFsdWVzXG4gICAgICAgIHRoaXMuc2V0dXAoZGVlcFpvb21JbmZvLCBjZW50ZXIpXG4gICAgICAgIGlmIChkZWJ1Zykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0RlZXBab29tSW1hZ2UuY29uc3RydWN0b3InLCBtaW5pbXVtTGV2ZWwpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIiAgIHByZWZlcnMgd29ya2VyIGxvYWRlclwiKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIFJlYWRzIHRoZSBEZWVwWm9vbUluZm8gb2JqZWN0IGFuZCBpbml0aWFsaXplcyBhbGwgdGlsZSBsYXllcnMuXG4gICAgICogQ2FsbGVkIGJ5IHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgKiBDcmVhdGVzIHRoZSBzcHJpdGUgZm9yIHRoZSBsb2FkZWQgdGV4dHVyZSBhbmQgYWRkIHRoZSBzcHJpdGUgdG8gdGhlIHRpbGVcbiAgICAgKiBsYXllci5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZGVlcFpvb21JbmZvIC0gdGhlIERlZXBab29tSW5mbyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY2VudGVyIC0gSWYgdHJ1ZSBlbnN1cmVzIHRoYXQgdGhlIHBpdm90IGlzIHNldCB0byB0aGUgY2VudGVyXG4gICAgICoqL1xuICAgIHNldHVwKGRlZXBab29tSW5mbywgY2VudGVyKSB7XG4gICAgICAgIHRoaXMuaW5mbyA9IGRlZXBab29tSW5mb1xuICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gdHJ1ZVxuICAgICAgICB0aGlzLnRpbGVMYXllcnMgPSB7fVxuXG4gICAgICAgIHRoaXMuX2ZvcmVncm91bmQgPSBudWxsXG4gICAgICAgIHRoaXMudGlsZUNvbnRhaW5lciA9IG5ldyBQSVhJLkNvbnRhaW5lcigpXG4gICAgICAgIHRoaXMudGlsZUNvbnRhaW5lci5pbnRlcmFjdGl2ZSA9IGZhbHNlXG5cbiAgICAgICAgbGV0IFt3LCBoXSA9IHRoaXMuYmFzZVNpemVcbiAgICAgICAgaWYgKHRoaXMuc2hhZG93KSB7XG4gICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBbbmV3IFBJWEkuZmlsdGVycy5Ecm9wU2hhZG93RmlsdGVyKDQ1LCAzKV1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudGlsZUNvbnRhaW5lcilcblxuICAgICAgICBpZiAoZGVlcFpvb21JbmZvLmNsaXApIHtcbiAgICAgICAgICAgIGxldCBtYXNrID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICAgICAgbWFzay5iZWdpbkZpbGwoMSwgMSlcbiAgICAgICAgICAgIG1hc2suZHJhd1JlY3QoMCwgMCwgdywgaClcbiAgICAgICAgICAgIG1hc2suZW5kRmlsbCgpXG4gICAgICAgICAgICB0aGlzLm1hc2sgPSBtYXNrXG4gICAgICAgICAgICBtYXNrLmFscGhhPSAwXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKG1hc2spXG4gICAgICAgICAgICB0aGlzLm1pbmltdW1MZXZlbCA9IGRlZXBab29tSW5mby5iYXNlTGV2ZWxcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbCA9IE1hdGgubWF4KHRoaXMubWluaW11bUxldmVsLCBkZWVwWm9vbUluZm8uYmFzZUxldmVsKVxuICAgICAgICBpZiAodGhpcy5hdXRvTG9hZFRpbGVzKSB7XG4gICAgICAgICAgICB0aGlzLnNldHVwVGlsZXMoY2VudGVyKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIERlZmF1bHQgc2V0dXAgbWV0aG9kIGZvciB0aWxlcy4gTG9hZHMgYWxsIHRpbGVzIG9mIHRoZSBjdXJyZW50IGxldmVsLlxuICAgIENhbiBiZSBvdmVyd3JpdHRlbiBpbiBzdWJjbGFzc2VzLlxuICAgIEBwYXJhbSB7Ym9vbGVhbn0gY2VudGVyIC0gSWYgdHJ1ZSBlbnN1cmVzIHRoYXQgdGhlIHBpdm90IGlzIHNldCB0byB0aGUgY2VudGVyXG4gICAgKiovXG4gICAgc2V0dXBUaWxlcyhjZW50ZXIgPSBmYWxzZSkge1xuICAgICAgICAvLyBGaXJzdCBsb2FkIGJhY2tncm91bmQgdGlsZVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLmVuc3VyZUFsbFRpbGVzKHRoaXMuY3VycmVudExldmVsKVxuICAgICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgICAgICB0aGlzLnBpdm90LnNldCh3IC8gMiwgaCAvIDIpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IHNjYWxlTGV2ZWwgPSB0aGlzLmxldmVsRm9yU2NhbGUoMSlcbiAgICAgICAgdGhpcy5lbnN1cmVBbGxUaWxlcyhzY2FsZUxldmVsKVxuICAgIH1cblxuICAgIHJlbW92ZVRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybCkge1xuICAgICAgICBpZiAodGhpcy5xdWFkVHJlZXMuaGFzKHVybCkpIHtcbiAgICAgICAgICAgIGxldCBxdWFkID0gdGhpcy5xdWFkVHJlZXMuZ2V0KHVybClcbiAgICAgICAgICAgIHRoaXMudGlsZVF1YWRSZW1vdmVkKHF1YWQpXG4gICAgICAgICAgICB0aGlzLnF1YWRUcmVlcy5kZWxldGUodXJsKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkVGlsZVF1YWROb2RlKGxldmVsLCBjb2wsIHJvdywgdXJsKSB7XG4gICAgICAgIGlmICh0aGlzLnF1YWRUcmVlcy5oYXModXJsKSkgcmV0dXJuIHRoaXMucXVhZFRyZWVzLmdldCh1cmwpXG4gICAgICAgIGxldCBxdWFkID0gbmV3IFRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybClcbiAgICAgICAgdGhpcy5xdWFkVHJlZXMuc2V0KHVybCwgcXVhZClcbiAgICAgICAgdGhpcy50aWxlUXVhZEFkZGVkKHF1YWQpXG4gICAgICAgIHJldHVybiBxdWFkXG4gICAgfVxuXG4gICAgdGlsZVF1YWRSZW1vdmVkKHF1YWQpIHtcbiAgICAgICAgbGV0IGJlbG93ID0gcXVhZC5wcmV2aW91c1xuICAgICAgICAvLyBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coXCJ0aWxlUXVhZFJlbW92ZWRcIiwgcXVhZClcbiAgICAgICAgaWYgKGJlbG93KSB7XG4gICAgICAgICAgICBiZWxvdy51bmxpbmsocXVhZClcbiAgICAgICAgICAgIGlmIChiZWxvdy5ub1F1YWRzKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS5sb2coJ1JlbW92ZWQgdGlsZSBiZWxvdycpXG4gICAgICAgICAgICAgICAgbGV0IGxldmVsQmVsb3cgPSBxdWFkLmxldmVsIC0gMVxuICAgICAgICAgICAgICAgIGlmIChsZXZlbEJlbG93IDwgdGhpcy5taW5pbXVtTGV2ZWwpIHJldHVyblxuICAgICAgICAgICAgICAgIGxldCBjID0gTWF0aC5mbG9vcihxdWFkLmNvbCAvIDIpXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBNYXRoLmZsb29yKHF1YWQucm93IC8gMilcbiAgICAgICAgICAgICAgICBsZXQgdXJsQmVsb3cgPSB0aGlzLmluZm8udXJsRm9yVGlsZShsZXZlbEJlbG93LCBjLCByKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnF1YWRUcmVlcy5oYXModXJsQmVsb3cpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlVGlsZVF1YWROb2RlKGxldmVsQmVsb3csIGMsIHIsIHVybEJlbG93KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHRpbGVRdWFkQWRkZWQocXVhZCkge1xuICAgICAgICBsZXQgbGV2ZWxCZWxvdyA9IHF1YWQubGV2ZWwgLSAxXG4gICAgICAgIGlmIChsZXZlbEJlbG93IDwgdGhpcy5taW5pbXVtTGV2ZWwpIHJldHVyblxuICAgICAgICAvL2lmICh0aGlzLmRlYnVnKSBjb25zb2xlLmxvZyhcInRpbGVRdWFkQWRkZWRcIiwgcXVhZClcbiAgICAgICAgbGV0IGMgPSBNYXRoLmZsb29yKHF1YWQuY29sIC8gMilcbiAgICAgICAgbGV0IHIgPSBNYXRoLmZsb29yKHF1YWQucm93IC8gMilcbiAgICAgICAgbGV0IHVybEJlbG93ID0gdGhpcy5pbmZvLnVybEZvclRpbGUobGV2ZWxCZWxvdywgYywgcilcbiAgICAgICAgbGV0IGJlbG93ID0gbnVsbFxuICAgICAgICBpZiAoIXRoaXMucXVhZFRyZWVzLmhhcyh1cmxCZWxvdykpIHtcbiAgICAgICAgICAgIGJlbG93ID0gdGhpcy5hZGRUaWxlUXVhZE5vZGUobGV2ZWxCZWxvdywgYywgciwgdXJsQmVsb3cpXG4gICAgICAgICAgICBxdWFkLmxpbmsoaXNFdmVuKHF1YWQucm93KSwgaXNFdmVuKHF1YWQuY29sKSwgYmVsb3cpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyB0aGUgdGlsZSBsYXllciBsZXZlbCB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBzY2FsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgc2NhbGUgZmFjdG9yXG4gICAgICoqL1xuICAgIGxldmVsRm9yU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgbGV0IGxldmVsID0gTWF0aC5yb3VuZChNYXRoLmxvZzIoc2NhbGUgKiB0aGlzLnJlc29sdXRpb24pKSAvLyBNYXRoLmZsb29yKE1hdGgubG9nMihldmVudC5zY2FsZSkpKzFcbiAgICAgICAgbGV0IG5ld0xldmVsID0gdGhpcy5pbmZvLmJhc2VMZXZlbCArIE1hdGgubWF4KGxldmVsLCAwKVxuICAgICAgICByZXR1cm4gTWF0aC5taW4obmV3TGV2ZWwsIHRoaXMuaW5mby5tYXhMb2FkYWJsZUxldmVsKVxuICAgIH1cblxuXG4gICAgLyoqIEFkZHMgYSB0aWxlIGxheWVyIHRvIHRoZSBEZWVwWm9vbUltYWdlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSB0aGUgYWNjZXNzIGtleVxuICAgICAqIEBwYXJhbSB7VGlsZXN9IHRpbGVzIC0gdGhlIHRpbGUgbGF5ZXIgb2JqZWN0XG4gICAgICoqL1xuICAgIGFkZFRpbGVzKGtleSwgdGlsZXMpIHtcbiAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLmFkZENoaWxkKHRpbGVzKVxuICAgICAgICB0aGlzLnRpbGVMYXllcnNba2V5XSA9IHRpbGVzXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgUElYSS5Db250YWluZXIgZm9yZWdyb3VuZCBsYXllci5cbiAgICAgKiBBZGRzIGEgUElYSS5Db250YWluZXIgaWYgbmVjZXNzYXJ5LlxuICAgICAqKi9cbiAgICBnZXQgZm9yZWdyb3VuZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVncm91bmQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fZm9yZWdyb3VuZCA9IG5ldyBQSVhJLkNvbnRhaW5lcigpXG4gICAgICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuX2ZvcmVncm91bmQpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcmVncm91bmRcbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgRGVlcFpvb21JbmZvIGJhc2UgbGV2ZWwgc2l6ZS5cbiAgICAgKiovXG4gICAgZ2V0IGJhc2VTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbmZvLmdldERpbWVuc2lvbnModGhpcy5pbmZvLmJhc2VMZXZlbClcbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgY3VycmVudCBzY2FsZWQgc2l6ZSBpbiBwaXhlbHMuXG4gICAgICoqL1xuICAgIGdldCBwaXhlbFNpemUoKSB7XG4gICAgICAgIGxldCBbdywgaF0gPSB0aGlzLmJhc2VTaXplXG4gICAgICAgIHJldHVybiBbdyAqIHRoaXMuc2NhbGUueCwgaCAqIHRoaXMuc2NhbGUueV1cbiAgICB9XG5cbiAgICAvKiogR2V0dGVyIGZvciB0aGUgbWF4IHNjYWxlIGZhY3Rvci5cbiAgICAgKiovXG4gICAgZ2V0IG1heFNjYWxlKCkge1xuICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLmluZm8ubWF4TGV2ZWwgLSB0aGlzLmluZm8uYmFzZUxldmVsXG4gICAgICAgIHJldHVybiBNYXRoLnBvdygyLCBkZWx0YSkgLyB0aGlzLnJlc29sdXRpb24gKiAyXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgd2lkdGguXG4gICAgICoqL1xuICAgIGdldCB3aWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGl4ZWxTaXplWzBdXG4gICAgfVxuXG4gICAgLyoqIEdldHRlciBmb3IgdGhlIGN1cnJlbnQgaGVpZ2h0LlxuICAgICAqKi9cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5waXhlbFNpemVbMV1cbiAgICB9XG4gICAgXG5cbiAgICAvKiBPdmVycmlkZXMgUElYSS5Db250YWluZXIuaGl0QXJlYSgpXG4gICAgICogQWxsb3dzIHRvIG9wdGltaXplIHRoZSBoaXQgdGVzdGluZy4gQ29udGFpbmVyIHdpdGggaGl0IGFyZWFzIGFyZSBkaXJlY3RseVxuICAgICAqIGhpdCB0ZXN0ZWQgd2l0aG91dCBjb25zaWRlcmF0aW9uIG9mIGNoaWxkcmVuLlxuICAgICAqL1xuICAgIGdldCBoaXRBcmVhKCkge1xuICAgICAgICAvLyBEZWZpbmluZyB0aGUgaGl0QXJlYSByZXN1bHRlZCBoaXR0aW5nIHRoZSBzY2F0dGVyIGluIG1hc2tlZCBhcmVhXG4gICAgICAgIC8vIHdoZW4gYSBtYXNrIHdhcyB1c2VkIChAVMO8c2NoW3N1Ym1hcHNdKS4gUmVtb3ZpbmcgdGhlIGhpdEFyZWEoKSBhbHRvZ2V0aGVyXG4gICAgICAgIC8vIGJyb2tlIHRoZSBpbnRlcmFjdGlvbiBpbiBvdGhlciBwcm9qZWN0cyAoQGdvb2dsZWFydCkuIFxuICAgICAgICAvLyBGaXg6IFdoZW4gbWFza2VkLCB0aGUgaGl0QXJlYSBpcyBpZ25vcmVkIGJ5IHJldHVybmluZyBudWxsLlxuICAgICAgICAvLyBUT0RPOiB0ZXN0IGlmIGNoaWxkcyBhcmUgaGl0dGVzdGVkLCB3aXRob3V0IHNldHRpbmcgaW50ZXJhY3RpdmVDaGlsZHJlbi5cbiAgICAgICAgLy8gT3BlbCwgMDMtMDUtMjAxOFxuICAgICAgICBpZih0aGlzLm1hc2spe1xuICAgICAgICAgICAgcmV0dXJuIG51bGxcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qIE92ZXJyaWRlcyBQSVhJLkNvbnRhaW5lci5jb250YWlucygpXG4gICAgICogQWxsb3dzIHRvIG9wdGltaXplIHRoZSBoaXQgdGVzdGluZy5cbiAgICAgKi9cbiAgICBjb250YWlucyh4LCB5KSB7XG4gICAgICAgIGxldCBbdywgaF0gPSB0aGlzLmJhc2VTaXplXG4gICAgICAgIHJldHVybiB4ID49IDAgJiYgeCA8PSB3ICYmIHkgPj0gMCAmJiB5IDw9IGhcbiAgICB9XG5cbiAgICAvKiogT3ZlcnJpZGVzIFBJWEkuQ29udGFpbmVyLl9jYWxjdWxhdGVCb3VuZHMoKVxuICAgICAqIE9ubHkgY29uc2lkZXJzIHRoZSBiYXNlIHNpemUgYW5kIHJlZHVjZXMgdGhlIGNhbGN1bGF0aW9uIHRvIGEgc2luZ2xlXG4gICAgICogcmVjdC5cbiAgICAgKi9cbiAgICBfY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICBsZXQgW3csIGhdID0gdGhpcy5iYXNlU2l6ZVxuICAgICAgICB0aGlzLl9ib3VuZHMuYWRkRnJhbWUodGhpcy50cmFuc2Zvcm0sIDAsIDAsIHcsIGgpXG4gICAgfVxuXG4gICAgLyoqIE92ZXJyaWRlcyBQSVhJLkNvbnRhaW5lci5jYWxjdWxhdGVCb3VuZHMoKVxuICAgICAqIFNraXBzIHRoZSBjaGlsZHJlbiBhbmQgb25seSBjb25zaWRlcnMgdGhlIGRlZXAgem9vbSBiYXNlIHNpemUuIENhbGxzXG4gICAgICogdGhlIGFsc28gb3ZlcndyaXR0ZW4gX2NhbGN1bGF0ZUJvdW5kcyBtZXRob2QuXG4gICAgICovXG4gICAgY2FsY3VsYXRlQm91bmRzKCkge1xuICAgICAgICB0aGlzLl9ib3VuZHMuY2xlYXIoKVxuICAgICAgICB0aGlzLl9jYWxjdWxhdGVCb3VuZHMoKVxuICAgICAgICB0aGlzLl9sYXN0Qm91bmRzSUQgPSB0aGlzLl9ib3VuZHNJRFxuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIGEgc2luZ2xlIHNwcml0ZSB0aGF0IGNhbiBiZSB1c2VkIGEgdGh1bWJuYWlsIHJlcHJlc2VudGF0aW9uIG9mXG4gICAgICogbGFyZ2UgaW1hZ2VzLlxuICAgICAqIEByZXR1cm4ge1Nwcml0ZX0gc3ByaXRlIC0gQSBzcHJpdGUgd2l0aCBhIHNpbmdsZSB0aWxlIHRleHR1cmVcbiAgICAgKi9cbiAgICB0aHVtYm5haWwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5TcHJpdGUuZnJvbUltYWdlKHRoaXMuaW5mby5iYXNlVVJMKVxuICAgIH1cblxuICAgIC8qKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgdGlsZXMgb2YgYSBnaXZlbiBsZXZlbC5cbiAgICAgKiBAcGFyYW0ge1RpbGVzfSB0aWxlcyAtIHRoZSBncmlkIG9mIHRpbGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKiBAcmV0dXJuIHtBcnJheVtdfSAtIEFuIGFycmF5IG9mIFt1cmwsIGNvbCwgcm93XSBhcnJheXNcbiAgICAgKiovXG4gICAgYWxsVGlsZXModGlsZXMsIGxldmVsKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGxldCBjb2wgPSAwOyBjb2wgPCB0aWxlcy5jb2xzOyBjb2wrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgcm93ID0gMDsgcm93IDwgdGlsZXMucm93czsgcm93KyspIHtcbiAgICAgICAgICAgICAgICBsZXQgdXJsID0gdGhpcy5pbmZvLnVybEZvclRpbGUobGV2ZWwsIGNvbCwgcm93KVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKFt1cmwsIGNvbCwgcm93XSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLyoqIExvYWRzIGFsbCB0aWxlcyB0aGF0IGFyZSBuZWVkZWQgdG8gZmlsbCB0aGUgYXBwIGJvdW5kcy5cbiAgICAgKiBAcGFyYW0ge1RpbGVzfSB0aWxlcyAtIHRoZSBncmlkIG9mIHRpbGVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGRlYnVnXG4gICAgICogQHJldHVybiB7QXJyYXlbXX0gLSBBbiBhcnJheSBvZiBbdXJsLCBjb2wsIHJvd10gYXJyYXlzXG4gICAgICovXG4gICAgbmVlZGVkVGlsZXModGlsZXMsIGxldmVsLCBkZWJ1ZyA9IGZhbHNlKSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXVxuICAgICAgICBsZXQgdHNpemUgPSB0aWxlcy50aWxlU2l6ZVxuICAgICAgICBsZXQgZG9tQm91bmRzID0gYXBwLnZpZXcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClcbiAgICAgICAgbGV0IG1heFdpZHRoID0gZG9tQm91bmRzLndpZHRoXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSBkb21Cb3VuZHMuaGVpZ2h0XG4gICAgICAgIGxldCBvZmZzZXQgPSB0c2l6ZVxuICAgICAgICBsZXQgYm91bmRzID0gbmV3IFBJWEkuUmVjdGFuZ2xlKFxuICAgICAgICAgICAgLW9mZnNldCxcbiAgICAgICAgICAgIC1vZmZzZXQsXG4gICAgICAgICAgICBtYXhXaWR0aCArIDIgKiBvZmZzZXQsXG4gICAgICAgICAgICBtYXhIZWlnaHQgKyAyICogb2Zmc2V0XG4gICAgICAgIClcbiAgICAgICAgbGV0IHNjYWxlZFRpbGVTaXplID0gdHNpemUgKiB0aWxlcy50aWxlU2NhbGVcbiAgICAgICAgbGV0IHBvaW50SW5XaW5kb3cgPSBuZXcgUElYSS5Qb2ludCgpXG5cbiAgICAgICAgbGV0IHdvcmxkVHJhbnNmb3JtID0gdGhpcy53b3JsZFRyYW5zZm9ybVxuICAgICAgICBsZXQgd29ybGRDZW50ZXIgPSBuZXcgUElYSS5Qb2ludChtYXhXaWR0aCAvIDIsIG1heFdpZHRoIC8gMilcblxuICAgICAgICBsZXQgdGlsZXNDZW50ZXIgPSB0aGlzLnRvTG9jYWwod29ybGRDZW50ZXIpXG4gICAgICAgIC8qIFVPOiB3ZSBuZWVkIGEgdG9Mb2NhbCBjYWxsIGhlcmUgc2luY2UgdGhlIHRyYW5zZm9ybSBtYXkgbmVlZCBhbiB1cGRhdGVcbiAgICAgICAgd2hpY2ggaXMgZ3VhcmFudGVlZCBieSB0aGUgdG9Mb2NhbCBtZXRob2QuICovXG4gICAgICAgIGxldCBjZW50ZXJDb2wgPSBNYXRoLnJvdW5kKHRpbGVzQ2VudGVyLnggLyBzY2FsZWRUaWxlU2l6ZSlcbiAgICAgICAgbGV0IGNlbnRlclJvdyA9IE1hdGgucm91bmQodGlsZXNDZW50ZXIueSAvIHNjYWxlZFRpbGVTaXplKVxuXG4gICAgICAgIGxldCBtYXhUaWxlc1dpZHRoID1cbiAgICAgICAgICAgIE1hdGguY2VpbChtYXhXaWR0aCAvIHRpbGVzLnRpbGVTaXplIC8gMiArIDYpICogdGhpcy5yZXNvbHV0aW9uXG4gICAgICAgIGxldCBtYXhUaWxlc0hlaWdodCA9XG4gICAgICAgICAgICBNYXRoLmNlaWwobWF4SGVpZ2h0IC8gdGlsZXMudGlsZVNpemUgLyAyICsgNCkgKiB0aGlzLnJlc29sdXRpb25cblxuICAgICAgICBsZXQgc3RhcnRDb2wgPSBNYXRoLm1heCgwLCBjZW50ZXJDb2wgLSBtYXhUaWxlc1dpZHRoKVxuICAgICAgICBsZXQgZW5kQ29sID0gTWF0aC5taW4odGlsZXMuY29scywgY2VudGVyQ29sICsgbWF4VGlsZXNXaWR0aClcblxuICAgICAgICBsZXQgc3RhcnRSb3cgPSBNYXRoLm1heCgwLCBjZW50ZXJSb3cgLSBtYXhUaWxlc0hlaWdodClcbiAgICAgICAgbGV0IGVuZFJvdyA9IE1hdGgubWluKHRpbGVzLnJvd3MsIGNlbnRlclJvdyArIG1heFRpbGVzSGVpZ2h0KVxuXG4gICAgICAgIGZvciAobGV0IGNvbCA9IHN0YXJ0Q29sOyBjb2wgPCBlbmRDb2w7IGNvbCsrKSB7XG4gICAgICAgICAgICBsZXQgY3ggPSAoY29sICsgMC41KSAqIHNjYWxlZFRpbGVTaXplXG4gICAgICAgICAgICBmb3IgKGxldCByb3cgPSBzdGFydFJvdzsgcm93IDwgZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgICAgIGxldCBjeSA9IChyb3cgKyAwLjUpICogc2NhbGVkVGlsZVNpemVcbiAgICAgICAgICAgICAgICBsZXQgdGlsZUNlbnRlciA9IG5ldyBQSVhJLlBvaW50KGN4LCBjeSlcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHJlcGxhY2VzIHRoZSBtb3JlIHRyYWRpdGlvbmFsIHRoaXMudG9HbG9iYWwoY2VudGVyLCBwb2ludEluV2luZG93LCB0cnVlKVxuICAgICAgICAgICAgICAgIHdvcmxkVHJhbnNmb3JtLmFwcGx5KHRpbGVDZW50ZXIsIHBvaW50SW5XaW5kb3cpXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kcy5jb250YWlucyhwb2ludEluV2luZG93LngsIHBvaW50SW5XaW5kb3cueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVybCA9IHRoaXMuaW5mby51cmxGb3JUaWxlKGxldmVsLCBjb2wsIHJvdylcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goW3VybCwgY29sLCByb3ddKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuXG4gICAgLyoqIFJldHVybnMgYWxsIGNoYW5nZWQgdGlsZXMgZm9yIGEgZ2l2ZW4gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtUaWxlc30gdGlsZXMgLSB0aGUgZ3JpZCBvZiB0aWxlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICogQHJldHVybiB7b2JqZWN0fSAtIEFuIG9iamVjdCB3aXRoIHRoZSBrZXlzIGFkZGVkIGFuZCByZW1vdmVkIHdoaWNoIHZhbHVlcyBhcmUgW3VybCwgY29sLCByb3ddIGFycmF5c1xuICAgICAqL1xuICAgIGNoYW5nZWRUaWxlcyh0aWxlcywgbGV2ZWwpIHtcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUudGltZSgnY2hhbmdlZFRpbGVzJylcbiAgICAgICAgbGV0IGNoYW5nZWQgPSB7YWRkZWQ6IFtdLCByZW1vdmVkOiBbXX1cbiAgICAgICAgaWYgKCF0aWxlcy5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgIGxldCBuZXdOZWVkZWQgPSBuZXcgTWFwKClcbiAgICAgICAgICAgIGxldCBuZWVkZWQgPSB0aGlzLm5lZWRlZFRpbGVzKHRpbGVzLCBsZXZlbClcbiAgICAgICAgICAgIG5lZWRlZC5mb3JFYWNoKGQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBbdXJsLCBjb2wsIHJvd10gPSBkXG4gICAgICAgICAgICAgICAgbmV3TmVlZGVkLnNldCh1cmwsIFtjb2wsIHJvd10pXG4gICAgICAgICAgICAgICAgaWYgKCF0aWxlcy5yZXF1ZXN0ZWQuaGFzKHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5hZGRlZC5wdXNoKGQpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGZvciAobGV0IHVybCBvZiB0aWxlcy5uZWVkZWQua2V5cygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuZXdOZWVkZWQuaGFzKHVybCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFtjb2wsIHJvd10gPSB0aWxlcy5uZWVkZWQuZ2V0KHVybClcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlZC5yZW1vdmVkLnB1c2goW3VybCwgY29sLCByb3ddKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbGVzLm5lZWRlZCA9IG5ld05lZWRlZFxuICAgICAgICAgICAgaWYgKHRoaXMuZGVidWcpIGNvbnNvbGUubG9nKG5ld05lZWRlZClcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWJ1ZykgY29uc29sZS50aW1lRW5kKCdjaGFuZ2VkVGlsZXMnKVxuXG4gICAgICAgIHJldHVybiBjaGFuZ2VkXG4gICAgfVxuXG4gICAgLyoqIFBvcHVsYXRlcyBhbGwgdGlsZXMgZm9yIGEgZ2l2ZW4gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtUaWxlc30gdGlsZXMgLSB0aGUgZ3JpZCBvZiB0aWxlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICovXG4gICAgcG9wdWxhdGVBbGxUaWxlcyh0aWxlcywgbGV2ZWwpIHtcbiAgICAgICAgbGV0IGFsbCA9IHRoaXMuYWxsVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgYWxsKSB7XG4gICAgICAgICAgICB0aGlzLmFkZFRpbGVRdWFkTm9kZShsZXZlbCwgY29sLCByb3csIHVybClcbiAgICAgICAgfVxuICAgICAgICB0aWxlcy5sb2FkVGlsZXMoYWxsLCBmYWxzZSwgMCwgMClcbiAgICB9XG5cbiAgICAvKiogTG9hZHMgYWxsIHRpbGVzIHRoYXQgYXJlIG5lZWRlZCB0byBmaWxsIHRoZSBicm93c2VyIHdpbmRvdy5cbiAgICAgKiBJZiB0aGUgb3B0aW9uYWwgYWJvdXQgcGFyYW1ldGVyIGlzIHByb3ZpZGVkIChhcyBhIHBvaW50IHdpdGggY29sIGFzIHgsXG4gICAgICogYW5kIHJvdyBhcyB5IGF0dHIpIHRoZSB0aWxlcyBhcmUgc29ydGVkIGJ5IHRoZSBkaXN0YW5jZSB0byB0aGlzIHBvaW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtUaWxlc30gdGlsZXMgLSB0aGUgZ3JpZCBvZiB0aWxlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICogT3B0aW9uYWwgcGFyYW1ldGVyOlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb25seW9uZSAtIGlmIHRydWUgb25seSBvbmUgdGlsZSBpcyBsb2FkZWRcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGFib3V0IC0gcG9pbnQgb2YgaW50ZXJhY3Rpb25cbiAgICAgKi9cbiAgICBwb3B1bGF0ZVRpbGVzKHRpbGVzLCBsZXZlbCwge29ubHlvbmUgPSBmYWxzZSwgYWJvdXQgPSBudWxsfSA9IHt9KSB7XG4gICAgICAgIGxldCBjaGFuZ2VkID0gdGhpcy5jaGFuZ2VkVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICBsZXQgcmVtb3ZlZCA9IGNoYW5nZWQucmVtb3ZlZFxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgcmVtb3ZlZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVUaWxlUXVhZE5vZGUobGV2ZWwsIGNvbCwgcm93LCB1cmwpXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFkZGVkID0gY2hhbmdlZC5hZGRlZFxuICAgICAgICBpZiAoYWRkZWQubGVuZ3RoID09IDApIHJldHVyblxuICAgICAgICBmb3IgKGxldCBbdXJsLCBjb2wsIHJvd10gb2YgYWRkZWQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkVGlsZVF1YWROb2RlKGxldmVsLCBjb2wsIHJvdywgdXJsKVxuICAgICAgICB9XG4gICAgICAgIGxldCByZWZlcmVuY2VDb2wgPSAtMVxuICAgICAgICBsZXQgcmVmZXJlbmNlUm93ID0gLTFcbiAgICAgICAgaWYgKGFib3V0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIC8vIFdlIHdhbnQgdG8gbG9hZCB0aWxlcyBpbiB0aGUgZm9jdXMgb2YgdGhlIHVzZXIgZmlyc3QsIHRoZXJlZm9yZVxuICAgICAgICAgICAgLy8gd2Ugc29ydCBhY2NvcmRpbmcgdG8gdGhlIGRpc3RhbmNlIG9mIHRoZSBmb2N1cyBvZiBpbnRlcmFjdGlvblxuICAgICAgICAgICAgbGV0IHJlZlBvaW50ID0gdGhpcy50b0xvY2FsKGFib3V0KVxuICAgICAgICAgICAgbGV0IHNjYWxlZFRpbGVTaXplID0gdGlsZXMudGlsZVNpemUgKiB0aWxlcy50aWxlU2NhbGVcblxuICAgICAgICAgICAgcmVmZXJlbmNlQ29sID0gTWF0aC5mbG9vcihyZWZQb2ludC54IC8gc2NhbGVkVGlsZVNpemUpXG4gICAgICAgICAgICByZWZlcmVuY2VSb3cgPSBNYXRoLmZsb29yKHJlZlBvaW50LnkgLyBzY2FsZWRUaWxlU2l6ZSlcblxuICAgICAgICAgICAgbGV0IHJlZiA9IG5ldyBQSVhJLlBvaW50KHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93KVxuXG4gICAgICAgICAgICAvLyBOb3RlOiBUaGUgYXJyYXkgbXVzdCBiZSBzb3J0ZWQgaW4gYSB3YXkgdGhhdCB0aGUgbmVhcmVzdCB0aWxlc1xuICAgICAgICAgICAgLy8gYXJlIGF0IHRoZSBlbmQgb2YgdGhlIGFycmF5IHNpbmNlIHRoZSBsb2FkIHF1ZXVlIHVzZXMgQXJyYXkucHVzaFxuICAgICAgICAgICAgLy8gQXJyYXkucG9wXG5cbiAgICAgICAgICAgIGFkZGVkLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgYWEgPSBuZXcgUElYSS5Qb2ludChhWzFdLCBhWzJdKVxuICAgICAgICAgICAgICAgIGxldCBiYiA9IG5ldyBQSVhJLlBvaW50KGJbMV0sIGJbMl0pXG4gICAgICAgICAgICAgICAgbGV0IGRhID0gUG9pbnRzLmRpc3RhbmNlKGFhLCByZWYpXG4gICAgICAgICAgICAgICAgbGV0IGRiID0gUG9pbnRzLmRpc3RhbmNlKGJiLCByZWYpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRiIC0gZGFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic29ydGVkIHBvcHVsYXRlVGlsZXNcIiwgIHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93LCBtaXNzaW5nKVxuICAgICAgICB9XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJwb3B1bGF0ZVRpbGVzIFwiICsgIG1pc3NpbmcubGVuZ3RoKVxuICAgICAgICB0aWxlcy5sb2FkVGlsZXMoYWRkZWQsIG9ubHlvbmUsIHJlZmVyZW5jZUNvbCwgcmVmZXJlbmNlUm93KVxuICAgIH1cblxuICAgIC8qKiBQcml2YXRlIG1ldGhvZDogY3JlYXRlcyBhbGwgdGlsZXMgZm9yIGEgZ2l2ZW4gbGV2ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKiBAcmV0dXJuIHtUaWxlc30gLSB0aWxlc1xuICAgICAqL1xuICAgIF9jcmVhdGVUaWxlcyhrZXksIGxldmVsKSB7XG4gICAgICAgIGxldCBbY29scywgcm93cywgdywgaF0gPSB0aGlzLmluZm8uZGltZW5zaW9ucyhsZXZlbClcbiAgICAgICAgbGV0IGluY3JlYXNlZExldmVscyA9IGxldmVsIC0gdGhpcy5pbmZvLmJhc2VMZXZlbFxuICAgICAgICBsZXQgaW52U2NhbGUgPSBNYXRoLnBvdygwLjUsIGluY3JlYXNlZExldmVscylcbiAgICAgICAgbGV0IHRpbGVzID0gbmV3IFRpbGVzKFxuICAgICAgICAgICAgbGV2ZWwsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgaW52U2NhbGUsXG4gICAgICAgICAgICBjb2xzLFxuICAgICAgICAgICAgcm93cyxcbiAgICAgICAgICAgIHcsXG4gICAgICAgICAgICBoLFxuICAgICAgICAgICAgdGhpcy5pbmZvLnRpbGVTaXplLFxuICAgICAgICAgICAgdGhpcy5pbmZvLm92ZXJsYXBcbiAgICAgICAgKVxuICAgICAgICB0aGlzLmFkZFRpbGVzKGtleSwgdGlsZXMpXG4gICAgICAgIGlmICh0aGlzLmluZm8uY2xpcCkge1xuICAgICAgICAgICAgbGV0IHJlc3QgPSB0aGlzLmluZm8ucmVzdHNbbGV2ZWxdXG4gICAgICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAgICAgIGxldCB4ID0gcmVzdC5yZXN0Q29sICogdGhpcy5pbmZvLnRpbGVTaXplICogaW52U2NhbGVcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHJlc3QucmVzdFJvdyAqIHRoaXMuaW5mby50aWxlU2l6ZSAqIGludlNjYWxlXG4gICAgICAgICAgICAgICAgdGlsZXMueCA9IC14XG4gICAgICAgICAgICAgICAgdGlsZXMueSA9IC15XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpbGVzXG4gICAgfVxuXG4gICAgLyoqIEVuc3VyZXMgdGhhdCBhbGwgbmVlZGVkIHRpbGVzIG9mIGEgZ2l2ZW4gbGV2ZWwgYXJlIGxvYWRlZC4gQ3JlYXRlc1xuICAgICAqIGEgbmV3IFRpbGVzIGxheWVyIGlmIG5lY2Vzc2FyeVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCAtIFRoZSB6b29tIGxldmVsIG9mIHRoZSBncmlkXG4gICAgICogQHJldHVybiB7VGlsZXN9IHRpbGVzXG4gICAgICovXG4gICAgZW5zdXJlVGlsZXMobGV2ZWwsIGFib3V0KSB7XG4gICAgICAgIGxldCBrZXkgPSBsZXZlbC50b1N0cmluZygpXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy50aWxlTGF5ZXJzKSB7XG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZVRpbGVzKHRpbGVzLCBsZXZlbCwge2Fib3V0OiBhYm91dH0pXG4gICAgICAgICAgICByZXR1cm4gdGlsZXNcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLl9jcmVhdGVUaWxlcyhrZXksIGxldmVsKVxuICAgICAgICB0aGlzLnBvcHVsYXRlVGlsZXModGlsZXMsIGxldmVsLCB7YWJvdXQ6IGFib3V0fSlcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImVuc3VyZVRpbGVzXCIsIGxldmVsKVxuICAgICAgICByZXR1cm4gdGlsZXNcbiAgICB9XG5cbiAgICB1bnRpbnRUaWxlcyhsZXZlbCkge1xuICAgICAgICBsZXQga2V5ID0gbGV2ZWwudG9TdHJpbmcoKVxuICAgICAgICBpZiAoa2V5IGluIHRoaXMudGlsZUxheWVycykge1xuICAgICAgICAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKiBFbnN1cmVzIHRoYXQgYWxsIHRpbGVzIG9mIGEgZ2l2ZW4gbGV2ZWwgYXJlIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICAqL1xuICAgIGVuc3VyZUFsbFRpbGVzKGxldmVsKSB7XG4gICAgICAgIGxldCBrZXkgPSBsZXZlbC50b1N0cmluZygpXG4gICAgICAgIGlmIChrZXkgaW4gdGhpcy50aWxlTGF5ZXJzKSB7XG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgdGhpcy5wb3B1bGF0ZUFsbFRpbGVzKHRpbGVzLCBsZXZlbClcbiAgICAgICAgICAgIHRpbGVzLmtlZXAgPSB0cnVlXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLl9jcmVhdGVUaWxlcyhrZXksIGxldmVsKVxuICAgICAgICB0aGlzLnBvcHVsYXRlQWxsVGlsZXModGlsZXMsIGxldmVsKVxuICAgICAgICB0aWxlcy5rZWVwID0gdHJ1ZVxuICAgICAgICByZXR1cm4gdGlsZXNcbiAgICB9XG5cbiAgICAvKiogRGVzdHJveXMgYWxsIHRpbGVzIGFib3ZlIGEgZ2l2ZW4gbGV2ZWwgdG8gZW5zdXJlIHRoYXQgdGhlIG1lbW9yeSBjYW5cbiAgICAgKiBiZSByZXVzZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIC0gVGhlIHpvb20gbGV2ZWwgb2YgdGhlIGdyaWRcbiAgICAgKi9cbiAgICBkZXN0cm95VGlsZXNBYm92ZUxldmVsKGxldmVsKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMudGlsZUxheWVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgICAgIGlmICh0aWxlcy5sZXZlbCA+IGxldmVsICYmICF0aWxlcy5rZWVwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdXJsIG9mIHRpbGVzLmF2YWlsYWJsZS5rZXlzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHF1YWQgPSB0aGlzLnF1YWRUcmVlcy5nZXQodXJsKVxuICAgICAgICAgICAgICAgICAgICBpZiAocXVhZCkgdGhpcy5yZW1vdmVUaWxlUXVhZE5vZGUocXVhZClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50aWxlQ29udGFpbmVyLnJlbW92ZUNoaWxkKHRpbGVzKVxuICAgICAgICAgICAgICAgIHRpbGVzLmRlc3Ryb3koKVxuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnRpbGVMYXllcnNba2V5XVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGRlc3Ryb3lUaWxlcygpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICAgIC8vIFVPOiBUaGlzIGlzIGJ1Z2d5XG4gICAgICAgIC8vIE9iamVjdC5rZXlzKHRoaXMudGlsZUxheWVycykuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAvLyAgICAgbGV0IHRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgLy8gICAgIGlmICghdGlsZXMua2VlcCkgdGlsZXMuZGVzdHJveVRpbGVzKHRoaXMucXVhZFRyZWVzKVxuICAgICAgICAvLyB9KVxuICAgIH1cblxuICAgIC8qIFRpbnQgYWxsIHRpbGVzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgLSBUaGUgem9vbSBsZXZlbCBvZiB0aGUgZ3JpZFxuICAgICovXG4gICAgdGludFRpbGVzQmVsb3dMZXZlbChsZXZlbCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnRpbGVMYXllcnMpLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgICAgIGxldCB0aWxlcyA9IHRoaXMudGlsZUxheWVyc1trZXldXG4gICAgICAgICAgICBpZiAodGlsZXMubGV2ZWwgPCBsZXZlbCkge1xuICAgICAgICAgICAgICAgIHRpbGVzLnRpbnRUaWxlcyh0aGlzLnF1YWRUcmVlcylcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBfZXZlbnRMZXZlbChldmVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZXZlbEZvclNjYWxlKGV2ZW50LnNjYWxlKVxuICAgIH1cblxuICAgIC8qKiBBIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgYnkgYSBTY2F0dGVyIHZpZXcgdG8gaW5mb3JtXG4gICAgICogdGhlIHpvb21hYmxlIGltYWdlIHRoYXQgaXQgaGFzIGJlZW4gbW92ZWQsIHJvdGF0ZWQgb3Igc2NhbGVkLCBhbmQgc2hvdWxkXG4gICAgICogbG9hZCB0aWxlcyBhY2NvcmRpbmdseS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IHRyYW5zbGF0ZWQgLSB0aGUgbW92ZW1lbnQgb2YgdGhlIHNjYXR0ZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGUgLSB0aGUgem9vbSBmYWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuUG9pbnR9IGFib3V0IC0gdGhlIGFuY2hvciBwb2ludCBvZiB0aGUgem9vbVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZmFzdCAtIGluZm9ybXMgdGhlIGNhbGxiYWNrIHRvIHJldHVybiBhcyBmYXN0IGFzIHBvc3NpYmxlLFxuICAgICAqICBpLmUuIGFmdGVyIGxvYWRpbmcgYSBzaW5nbGUgdGlsZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVidWcgLSBsb2cgZGVidWcgaW5mb3NcbiAgICAgKi9cbiAgICB0cmFuc2Zvcm1lZChldmVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIkRlZXBab29tLnRyYW5zZm9ybWVkXCIsIGV2ZW50KVxuICAgICAgICBsZXQga2V5ID0gdGhpcy5jdXJyZW50TGV2ZWwudG9TdHJpbmcoKVxuICAgICAgICBsZXQgY3VycmVudFRpbGVzID0gdGhpcy50aWxlTGF5ZXJzW2tleV1cbiAgICAgICAgaWYgKGV2ZW50LmZhc3QpIHtcbiAgICAgICAgICAgIHRoaXMuZmFzdExvYWRzICs9IDFcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVUaWxlcyhjdXJyZW50VGlsZXMsIHRoaXMuY3VycmVudExldmVsLCB7XG4gICAgICAgICAgICAgICAgb25seW9uZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgYWJvdXQ6IGV2ZW50LmFib3V0XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGlsZXMoKVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50LnNjYWxlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlVGlsZXModGhpcy5jdXJyZW50TGV2ZWwsIGV2ZW50LmFib3V0KVxuICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld0xldmVsID0gTWF0aC5tYXgodGhpcy5fZXZlbnRMZXZlbChldmVudCksIHRoaXMubWluaW11bUxldmVsKVxuICAgICAgICBpZiAobmV3TGV2ZWwgIT0gdGhpcy5jdXJyZW50TGV2ZWwpIHtcbiAgICAgICAgICAgIGlmICghY3VycmVudFRpbGVzLmtlZXApIGN1cnJlbnRUaWxlcy5sb2FkZXIuY2FuY2VsKClcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveVRpbGVzQWJvdmVMZXZlbChuZXdMZXZlbClcbiAgICAgICAgICAgIGlmICh0aGlzLmRlYnVnKSB0aGlzLnRpbnRUaWxlc0JlbG93TGV2ZWwobmV3TGV2ZWwpXG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lUaWxlcygpXG4gICAgICAgICAgICBsZXQgdGlsZXMgPSB0aGlzLmVuc3VyZVRpbGVzKG5ld0xldmVsLCBldmVudC5hYm91dClcbiAgICAgICAgICAgIHRpbGVzLnVudGludFRpbGVzKClcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExldmVsID0gbmV3TGV2ZWxcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlVGlsZXModGhpcy5jdXJyZW50TGV2ZWwsIGV2ZW50LmFib3V0KVxuICAgICAgICAgICAgdGhpcy5kZXN0cm95VGlsZXMoKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVncm91bmQpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy5fZm9yZWdyb3VuZClcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7Z2V0SWQsIEFuZ2xlfSBmcm9tICcuLi91dGlscy5qcydcbmltcG9ydCB7RE9NU2NhdHRlcn0gZnJvbSAnLi4vc2NhdHRlci5qcydcbmltcG9ydCB7Q2FyZExvYWRlciwgRE9NRmxpcCwgRE9NRmxpcHBhYmxlfSBmcm9tICcuLi9mbGlwcGFibGUuanMnXG5pbXBvcnQge0NhcGFiaWxpdGllc30gZnJvbSAnLi4vY2FwYWJpbGl0aWVzLmpzJ1xuaW1wb3J0IHtEZWVwWm9vbUluZm8sIERlZXBab29tSW1hZ2V9IGZyb20gJy4vZGVlcHpvb20uanMnXG5cbmxldCBnbG9iYWxTY2F0dGVyTG9hZGVyQ2FudmFzID0gbnVsbFxuXG5leHBvcnQgY2xhc3MgU2NhdHRlckxvYWRlciBleHRlbmRzIENhcmRMb2FkZXIge1xuXG4gICAgZ2V0IHNjYXR0ZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNyY1xuICAgIH1cblxuICAgIHVuc2NhbGVkU2l6ZSgpIHtcbiAgICAgICAgbGV0IGRpc3BsYXlPYmplY3QgPSB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdFxuICAgICAgICBsZXQgdyA9IGRpc3BsYXlPYmplY3Qud2lkdGhcbiAgICAgICAgbGV0IGggPSBkaXNwbGF5T2JqZWN0LmhlaWdodFxuICAgICAgICByZXR1cm4gW3cgLyBkaXNwbGF5T2JqZWN0LnNjYWxlLngsIGggLyBkaXNwbGF5T2JqZWN0LnNjYWxlLnldXG4gICAgfVxuXG4gICAgc2NhbGVkU2l6ZSgpIHtcbiAgICAgICAgbGV0IGRpc3BsYXlPYmplY3QgPSB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdFxuICAgICAgICBsZXQgdyA9IGRpc3BsYXlPYmplY3Qud2lkdGhcbiAgICAgICAgbGV0IGggPSBkaXNwbGF5T2JqZWN0LmhlaWdodFxuICAgICAgICByZXR1cm4gW3csIGhdXG4gICAgfVxuXG4gICAgY2xvbmVTY2F0dGVySW1hZ2UoKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy5zY2F0dGVyLndpZHRoXG4gICAgICAgIGxldCBoID0gdGhpcy5zY2F0dGVyLmhlaWdodFxuICAgICAgICBsZXQgaXNTcHJpdGUgPSB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdCBpbnN0YW5jZW9mIFBJWEkuU3ByaXRlXG4gICAgICAgIGxldCBpc0RlZXBab29tID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3QgaW5zdGFuY2VvZiBEZWVwWm9vbUltYWdlXG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gYXBwLnJlbmRlcmVyLnJlc29sdXRpb25cbiAgICAgICAgaWYgKGlzU3ByaXRlKSB7XG4gICAgICAgICAgICB3ID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3QudGV4dHVyZS53aWR0aFxuICAgICAgICAgICAgaCA9IHRoaXMuc2NhdHRlci5kaXNwbGF5T2JqZWN0LnRleHR1cmUuaGVpZ2h0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNEZWVwWm9vbSkge1xuICAgICAgICAgICAgbGV0IFt3dywgaGhdID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3QuYmFzZVNpemVcbiAgICAgICAgICAgIHcgPSB3d1xuICAgICAgICAgICAgaCA9IGhoXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsb2JhbFNjYXR0ZXJMb2FkZXJDYW52YXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGdsb2JhbFNjYXR0ZXJMb2FkZXJDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKVxuICAgICAgICB9XG4gICAgICAgIGxldCBjYW52YXMgPSBnbG9iYWxTY2F0dGVyTG9hZGVyQ2FudmFzXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IGhcbiAgICAgICAgbGV0IHJlbmRlcmVyID0gbmV3IFBJWEkuV2ViR0xSZW5kZXJlcih3LCBoLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3OiBjYW52YXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHV0aW9uOiByZXNvbHV0aW9ufSlcblxuICAgICAgICBsZXQgZGlzcGxheU9iamVjdCA9IHRoaXMuc2NhdHRlci5kaXNwbGF5T2JqZWN0XG4gICAgICAgIGxldCB4ID0gZGlzcGxheU9iamVjdC54XG4gICAgICAgIGxldCB5ID0gZGlzcGxheU9iamVjdC55XG4gICAgICAgIGxldCByb3QgPSBkaXNwbGF5T2JqZWN0LnJvdGF0aW9uXG4gICAgICAgIGxldCBzeCA9IGRpc3BsYXlPYmplY3Quc2NhbGUueFxuICAgICAgICBsZXQgc3kgPSBkaXNwbGF5T2JqZWN0LnNjYWxlLnlcbiAgICAgICAgZGlzcGxheU9iamVjdC5yb3RhdGlvbiA9IDBcbiAgICAgICAgLy8gVGhlIFNhZmFyaSBXZWJHTFJlbmRlcmVyIHdhbnRzIGV2ZXJ5dGhpbmcgZmxpcHBlZFxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLmpzL2lzc3Vlcy8yMjgzXG4gICAgICAgIGRpc3BsYXlPYmplY3QueCA9IDBcbiAgICAgICAgaWYgKENhcGFiaWxpdGllcy5pc1NhZmFyaSkge1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC55ID0gaFxuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5zY2FsZS5zZXQoMSwgLTEpIC8vIHN4LCAtc3kpXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnkgPSAwXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LnNjYWxlLnNldCgxLCAxKVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc1Nwcml0ZSkge1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC53aWR0aCA9IHdcbiAgICAgICAgICAgIGRpc3BsYXlPYmplY3QuaGVpZ2h0ID0gaFxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0KVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnJvdGF0aW9uID0gcm90XG4gICAgICAgIGRpc3BsYXlPYmplY3QueCA9IHhcbiAgICAgICAgZGlzcGxheU9iamVjdC55ID0geVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnNjYWxlLnNldChzeCwgc3kpXG5cbiAgICAgICAgbGV0IHVybCA9IGNhbnZhcy50b0RhdGFVUkwoKVxuICAgICAgICByZXR1cm4gW3gsIHksIHcsIGgsIHVybF1cbiAgICB9XG5cbiAgICBsb2FkKGRvbU5vZGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0ltYWdlID0gZG9tTm9kZSBpbnN0YW5jZW9mIEhUTUxJbWFnZUVsZW1lbnRcbiAgICAgICAgICAgIGxldCBpc1Nwcml0ZSA9IHRoaXMuc2NhdHRlci5kaXNwbGF5T2JqZWN0IGluc3RhbmNlb2YgUElYSS5TcHJpdGVcbiAgICAgICAgICAgIGxldCBpbWFnZSA9IChpc0ltYWdlKSA/IGRvbU5vZGUgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpXG4gICAgICAgICAgICBsZXQgW3gsIHksIHcsIGgsIGNsb25lVVJMXSA9IHRoaXMuY2xvbmVTY2F0dGVySW1hZ2UoKVxuICAgICAgICAgICAgbGV0IFt3dywgaGhdID0gdGhpcy51bnNjYWxlZFNpemUoKVxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKGUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzSW1hZ2UpXG4gICAgICAgICAgICAgICAgICAgIGRvbU5vZGUuYXBwZW5kQ2hpbGQoaW1hZ2UpXG4gICAgICAgICAgICAgICAgdGhpcy54ID0geFxuICAgICAgICAgICAgICAgIHRoaXMueSA9IHlcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gd3dcbiAgICAgICAgICAgICAgICB0aGlzLndhbnRlZEhlaWdodCA9IGhoXG4gICAgICAgICAgICAgICAgdGhpcy5zY2FsZSA9IDFcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0aW9uID0gdGhpcy5zY2F0dGVyLnJvdGF0aW9uXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW1hZ2Uub25lcnJvciA9IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBjbG9uZVVSTFxuICAgICAgICAgICAgfSlcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxpcEVmZmVjdCB7XG5cbiAgICBjb25zdHJ1Y3RvcihzY2F0dGVyLCBkb21TY2F0dGVyQ29udGFpbmVyLCBmbGlwVGVtcGxhdGUsIGJhY2tMb2FkZXIpIHtcbiAgICAgICAgdGhpcy5mbGlwcGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5zY2F0dGVyID0gc2NhdHRlclxuICAgICAgICB0aGlzLmJhY2tMb2FkZXIgPSBiYWNrTG9hZGVyXG4gICAgICAgIHRoaXMuc2NhdHRlckxvYWRlciA9IG5ldyBTY2F0dGVyTG9hZGVyKHNjYXR0ZXIpXG4gICAgICAgIHRoaXMuZG9tRmxpcCA9IG5ldyBET01GbGlwKGRvbVNjYXR0ZXJDb250YWluZXIsIGZsaXBUZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NhdHRlckxvYWRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tMb2FkZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkJhY2s6IHRoaXMuYmFja0NhcmRDbG9zZWQuYmluZCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgdGhpcy5zZXR1cEluZm9CdXR0b24oKVxuICAgIH1cblxuICAgIHN0YXJ0RmxpcCgpIHtcbiAgICAgICAgbGV0IGNlbnRlciA9IHRoaXMuZmxpcENlbnRlcigpXG4gICAgICAgIGxldCBsb2FkZXIgPSB0aGlzLmJhY2tMb2FkZXJcbiAgICAgICAgdGhpcy5kb21GbGlwLmxvYWQoKS50aGVuKChkb21GbGlwKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdC52aXNpYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGRvbUZsaXAuY2VudGVyQXQoY2VudGVyKVxuICAgICAgICAgICAgZG9tRmxpcC56b29tKHRoaXMuc2NhdHRlci5zY2FsZSlcbiAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmNvbnN0cmFpbnRGbGlwQ2VudGVyKGNlbnRlciwgbG9hZGVyKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGbGlwRWZmZWN0LnN0YXJ0RmxpcFwiLCB0YXJnZXQsIGxvYWRlcilcbiAgICAgICAgICAgIGRvbUZsaXAuc3RhcnQoe3RhcmdldENlbnRlcjogdGFyZ2V0fSlcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1bnNjYWxlZFNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNjYXR0ZXJMb2FkZXIudW5zY2FsZWRTaXplKClcbiAgICB9XG5cbiAgICBmbGlwQ2VudGVyKCkge1xuICAgICAgICBsZXQgaXNTcHJpdGUgPSB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdCBpbnN0YW5jZW9mIFBJWEkuU3ByaXRlXG4gICAgICAgIGxldCByZXNvbHV0aW9uID0gKGlzU3ByaXRlKSA/IGFwcC5yZW5kZXJlci5yZXNvbHV0aW9uIDogMVxuICAgICAgICBsZXQgY2VudGVyID0gdGhpcy5zY2F0dGVyLmNlbnRlclxuICAgICAgICBsZXQgY2FudmFzID0gYXBwLnJlbmRlcmVyLnZpZXdcbiAgICAgICAgbGV0IGRvbU5vZGUgPSB0aGlzLmRvbUZsaXAuZG9tU2NhdHRlckNvbnRhaW5lci5lbGVtZW50XG4gICAgICAgIGxldCBwYWdlID0gd2luZG93LmNvbnZlcnRQb2ludEZyb21Ob2RlVG9QYWdlKGNhbnZhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyLngqcmVzb2x1dGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyLnkqcmVzb2x1dGlvbilcbiAgICAgICAgbGV0IGxvY2FsID0gd2luZG93LmNvbnZlcnRQb2ludEZyb21QYWdlVG9Ob2RlKGRvbU5vZGUsIHBhZ2UueCwgcGFnZS55KVxuICAgICAgICByZXR1cm4gbG9jYWxcbiAgICB9XG5cbiAgICBjb25zdHJhaW50RmxpcENlbnRlcihjZW50ZXIsIGxvYWRlcikge1xuICAgICAgICBsZXQgdyA9IGxvYWRlci53YW50ZWRXaWR0aFxuICAgICAgICBsZXQgaCA9IGxvYWRlci53YW50ZWRIZWlnaHRcbiAgICAgICAgY29uc29sZS5sb2coXCJjb25zdHJhaW50RmxpcENlbnRlclwiLCB3LCBoKVxuICAgICAgICBsZXQgY2FudmFzID0gYXBwLnJlbmRlcmVyLnZpZXdcbiAgICAgICAgbGV0IHggPSBjZW50ZXIueFxuICAgICAgICBsZXQgeSA9IGNlbnRlci55XG4gICAgICAgIGlmICh4IDwgdy8yKVxuICAgICAgICAgICAgeCA9IHcvMlxuICAgICAgICBpZiAoeSA8IGgvMilcbiAgICAgICAgICAgeSA9IGgvMlxuICAgICAgICBpZiAoeCA+IGNhbnZhcy53aWR0aClcbiAgICAgICAgICAgIHggPSBjYW52YXMud2lkdGggLSB3LzJcbiAgICAgICAgaWYgKHkgPiBjYW52YXMuaGVpZ2h0KVxuICAgICAgICAgICAgeSA9IGNhbnZhcy5oZWlnaHQgLSBoLzJcbiAgICAgICAgcmV0dXJuIHsgeCwgeSB9XG4gICAgfVxuXG4gICAgc2V0dXBJbmZvQnV0dG9uKCkge1xuICAgICAgICBsZXQgaXNjYWxlID0gMS4wIC8gdGhpcy5zY2F0dGVyLnNjYWxlXG4gICAgICAgIHRoaXMuaW5mb0J0biA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5pbmZvQnRuLmJlZ2luRmlsbCgweDMzMzMzMylcbiAgICAgICAgdGhpcy5pbmZvQnRuLmxpbmVTdHlsZSg0LCAweEZGRkZGRilcbiAgICAgICAgdGhpcy5pbmZvQnRuLmRyYXdDaXJjbGUoMCwgMCwgMjIpXG4gICAgICAgIHRoaXMuaW5mb0J0bi5lbmRGaWxsKClcblxuICAgICAgICB0aGlzLmluZm9CdG4uYmVnaW5GaWxsKDB4RkZGRkZGKVxuICAgICAgICB0aGlzLmluZm9CdG4ubGluZVN0eWxlKDApXG4gICAgICAgIHRoaXMuaW5mb0J0bi5kcmF3Q2lyY2xlKDAsIC04LCA0KVxuICAgICAgICB0aGlzLmluZm9CdG4uZW5kRmlsbCgpXG5cbiAgICAgICAgdGhpcy5pbmZvQnRuLmxpbmVTdHlsZSg2LCAweEZGRkZGRilcbiAgICAgICAgdGhpcy5pbmZvQnRuLm1vdmVUbygwLCAtMilcbiAgICAgICAgdGhpcy5pbmZvQnRuLmxpbmVUbygwLCAxNClcbiAgICAgICAgdGhpcy5pbmZvQnRuLmVuZEZpbGwoKVxuXG4gICAgICAgIHRoaXMuaW5mb0J0bi5vbignY2xpY2snLCAoZSkgPT4geyB0aGlzLmluZm9TZWxlY3RlZCgpIH0pXG4gICAgICAgIHRoaXMuaW5mb0J0bi5vbigndGFwJywgKGUpID0+IHsgdGhpcy5pbmZvU2VsZWN0ZWQoKSB9KVxuXG4gICAgICAgIHRoaXMuaW5mb0J0bi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgdGhpcy5pbmZvQnRuLndpZHRoID0gNDRcbiAgICAgICAgdGhpcy5pbmZvQnRuLmhlaWdodCA9IDQ0XG4gICAgICAgIHRoaXMuaW5mb0J0bi5waXZvdC54ID0gMzBcbiAgICAgICAgdGhpcy5pbmZvQnRuLnBpdm90LnkgPSAzMFxuXG4gICAgICAgIGxldCBkaXNwbGF5T2JqZWN0ID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3RcbiAgICAgICAgbGV0IFt3LCBoXSA9IHRoaXMudW5zY2FsZWRTaXplKClcbiAgICAgICAgdGhpcy5pbmZvQnRuLnBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQodywgaClcbiAgICAgICAgaWYgKGRpc3BsYXlPYmplY3QuZm9yZWdyb3VuZCkge1xuICAgICAgICAgICAgdGhpcy5pbmZvQnRuLnNjYWxlLnggPSBpc2NhbGVcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi5zY2FsZS55ID0gaXNjYWxlXG4gICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmZvcmVncm91bmQuYWRkQ2hpbGQodGhpcy5pbmZvQnRuKVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGlzcGxheU9iamVjdC5hZGRDaGlsZCh0aGlzLmluZm9CdG4pXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNjYXR0ZXIuYWRkVHJhbnNmb3JtRXZlbnRDYWxsYmFjayhlID0+IHtcbiAgICAgICAgICAgIGxldCBkaXNwbGF5T2JqZWN0ID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3RcbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmZvcmVncm91bmQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5zY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaXNjYWxlID0gMS4wIC8gZS5zY2FsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9CdG4uc2NhbGUueCA9IGlzY2FsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9CdG4uc2NhbGUueSA9IGlzY2FsZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzZXR1cEJ1dHRvbih1cmwpIHtcbiAgICAgICAgbGV0IHN2Z0ltYWdlID0gbmV3IEltYWdlKClcbiAgICAgICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpXG4gICAgICAgIGNhbnZhcy53aWR0aCA9IDg4ICogNFxuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gNDQgKiA0XG4gICAgICAgIHN2Z0ltYWdlLm9ubG9hZCA9IGUgPT4ge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXlPYmplY3QgPSB0aGlzLnNjYXR0ZXIuZGlzcGxheU9iamVjdFxuICAgICAgICAgICAgY2FudmFzLmdldENvbnRleHQgKCcyZCcpLmRyYXdJbWFnZShzdmdJbWFnZSwgMCwgMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KVxuICAgICAgICAgICAgbGV0IHRleHVyZSA9IG5ldyBQSVhJLlRleHR1cmUobmV3IFBJWEkuQmFzZVRleHR1cmUoY2FudmFzKSlcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0biA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh1cmUpXG4gICAgICAgICAgICB0aGlzLmluZm9CdG4uYW5jaG9yLnNldCgwLjUsIDAuNSlcbiAgICAgICAgICAgIGlmIChkaXNwbGF5T2JqZWN0LmZvcmVncm91bmQpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5T2JqZWN0LmZvcmVncm91bmQuYWRkQ2hpbGQodGhpcy5pbmZvQnRuKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheU9iamVjdC5hZGRDaGlsZCh0aGlzLmluZm9CdG4pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluZm9CdG4uc2NhbGUuc2V0KDAuNSwgMC41KVxuXG4gICAgICAgICAgICBsZXQgW3csIGhdID0gdGhpcy51bnNjYWxlZFNpemUoKVxuICAgICAgICAgICAgdGhpcy5pbmZvQnRuLnBvc2l0aW9uID0gbmV3IFBJWEkuUG9pbnQodywgaClcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi51cGRhdGVUcmFuc2Zvcm0oKVxuICAgICAgICAgICAgdGhpcy5pbmZvQnRuLm9uKCdjbGljaycsIChlKSA9PiB7IHRoaXMuaW5mb1NlbGVjdGVkKCkgfSlcbiAgICAgICAgICAgIHRoaXMuaW5mb0J0bi5vbigndGFwJywgKGUpID0+IHsgdGhpcy5pbmZvU2VsZWN0ZWQoKSB9KVxuICAgICAgICB9XG4gICAgICAgIHN2Z0ltYWdlLnNyYyA9IHVybFxuICAgIH1cblxuICAgIGluZm9TZWxlY3RlZCgpIHtcbiAgICAgICAgdGhpcy5zdGFydEZsaXAoKVxuICAgIH1cblxuICAgIGJhY2tTZWxlY3RlZCgpIHtcbiAgICAgICAgdGhpcy5kb21GbGlwLnN0YXJ0KClcbiAgICB9XG5cbiAgICBiYWNrQ2FyZENsb3NlZCgpIHtcbiAgICAgICAgLyoqKiBUaGUgZmxpcCBlZmZlY3Qgc2hvdWxkIG5vdyBiZSBpbiBpdCdzIGluaXRpYWwgc3RhdGUgYWdhaW4uIEFsbFxuICAgICAgICBtZW1vcnkgc2hvdWxkIGJlIGZyZWVkLiAqKiovXG4gICAgICAgIGxldCBkaXNwbGF5T2JqZWN0ID0gdGhpcy5zY2F0dGVyLmRpc3BsYXlPYmplY3RcbiAgICAgICAgZGlzcGxheU9iamVjdC52aXNpYmxlID0gdHJ1ZVxuICAgICAgICB0aGlzLmRvbUZsaXAuZmFkZU91dEFuZFJlbW92ZSgpXG4gICAgICAgIHRoaXMuZmxpcHBlZCA9IGZhbHNlXG4gICAgfVxuXG4gICAgdGFyZ2V0Um90YXRpb24oYWxwaGEpIHtcbiAgICAgICAgbGV0IG9ydGhvID0gOTBcbiAgICAgICAgbGV0IHJlc3QgPSBhbHBoYSAlIG9ydGhvXG4gICAgICAgIGxldCBkZWx0YSA9IDAuMFxuICAgICAgICBpZiAocmVzdCA+IChvcnRobyAvIDIuMCkpIHtcbiAgICAgICAgICAgIGRlbHRhID0gb3J0aG8gLSByZXN0XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWx0YSA9IC1yZXN0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlbHRhXG4gICAgfVxufVxuXG4iLCIvKiBnbG9iYWxzIFBvd2VyMiwgU2luZSAqL1xuLyplc2xpbnQgbm8tY29uc29sZTogW1wiZXJyb3JcIiwgeyBhbGxvdzogW1wibG9nXCIsIFwiaW5mb1wiLCBcImVycm9yXCJdIH1dKi9cblxuLyoqXG4gKiBDYWxsYmFjayBmb3IgdGhlIGZsaXBwYWJsZSBvblN0YXJ0IGZ1bmN0aW9uLlxuICpcbiAqIEBjYWxsYmFjayBvblN0YXJ0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7RmxpcHBhYmxlfSBmbGlwcGFibGUgLSBBIHJlZmVyZW5jZSB0byB0aGUgZmxpcHBhYmxlIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBmbGlwcGFibGUpLlxuICovXG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHRoZSBmbGlwcGFibGUgb25VcGRhdGUgZnVuY3Rpb24uXG4gKlxuICogQGNhbGxiYWNrIG9uVXBkYXRlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7RmxpcHBhYmxlfSBmbGlwcGFibGUgLSBBIHJlZmVyZW5jZSB0byB0aGUgZmxpcHBhYmxlIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBmbGlwcGFibGUpLlxuICovXG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHRoZSBmbGlwcGFibGUgb25Db21wbGV0ZSBmdW5jdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgb25Db21wbGV0ZUNhbGxiYWNrXG4gKiBAcGFyYW0ge0ZsaXBwYWJsZX0gZmxpcHBhYmxlIC0gQSByZWZlcmVuY2UgdG8gdGhlIGZsaXBwYWJsZSAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgZmxpcHBhYmxlKS5cbiAqL1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFBpeGlKUyBGbGlwcGFibGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGZyb250ID0gUElYSS5TcHJpdGUuZnJvbUltYWdlKCcuL2Fzc2V0cy9mcm9udC5qcGcnKVxuICogY29uc3QgYmFjayA9IFBJWEkuU3ByaXRlLmZyb21JbWFnZSgnLi9hc3NldHMvYmFjay5qcGcnKVxuICogYXBwLnNjZW5lLmFkZENoaWxkKGZyb250KVxuICogXG4gKiAvLyBDcmVhdGUgdGhlIGZsaXBwYWJsZVxuICogY29uc3QgZmxpcHBhYmxlID0gbmV3IEZsaXBwYWJsZShmcm9udCwgYmFjaywgYXBwLnJlbmRlcmVyKVxuICogXG4gKiBmcm9udC5pbnRlcmFjdGl2ZSA9IHRydWVcbiAqIGZyb250Lm9uKCdjbGljaycsIGV2ZW50ID0+IGZsaXBwYWJsZS50b2dnbGUoKSlcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkucHJvamVjdGlvbi5DYW1lcmEzZFxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL3BpeGlqcy9waXhpLXByb2plY3Rpb258UGl4aUpTIFByb2plY3Rpb259XG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvZmxpcHBhYmxlLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmxpcHBhYmxlIGV4dGVuZHMgUElYSS5wcm9qZWN0aW9uLkNhbWVyYTNkIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBGbGlwcGFibGUuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gZnJvbnQgLSBUaGUgb2JqZWN0IHRvIHNob3cgaW5pdGlhbGx5LiBTaG91bGQgaGF2ZSBiZWVuIGFkZGVkIHRvIHRoZSBzY2VuZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gYmFjayAtIFRoZSBvYmplY3QgdG8gc2hvdyBvbiB0aGUgYmFja3NpZGUuIFNob3VsZCBoYXZlIG5vdCBiZWVuIGFkZGVkIHRvIHRoZSBzY2VuZS5cbiAgICAgKiBAcGFyYW0ge1BJWEkuV2ViR0xSZW5kZXJlcnxQSVhJLkNhbnZhc1JlbmRlcmVyfSByZW5kZXJlciAtIFRoZSByZW5kZXJlciBvZiB0aGUgYXBwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHdoaWNoIGNhbiBjb250YWluIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZHVyYXRpb249MV0gLSBUaGUgZHVyYXRpb24gb2YgdGhlIGZsaXAgYW5pbWF0aW9uIGluIHNlY29uZHMuXG4gICAgICogQHBhcmFtIHtHU0FQLkVhc2V9IFtvcHRzLmVhc2U9UG93ZXIyLmVhc2VPdXRdIC0gVGhlIGVhc2Ugb2YgdGhlIGZsaXAgYW5pbWF0aW9uLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuc2hhZG93PWZhbHNlXSAtIFNob3VsZCBiZSBhIHNoYWRvdyBiZWVuIGRpc3BsYXkgZHVyaW5nIHRoZSBhbmltYXRpb24/XG4gICAgICogQHBhcmFtIHtudW1lcn0gW29wdHMuZXVsZXJYPTBdIC0gVGhlIHNoaWZ0IG9mIHRoZSB4LWF4aXMgZHVyaW5nIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1lcn0gW29wdHMuZXVsZXJZPTBdIC0gVGhlIHNoaWZ0IG9mIHRoZSB5LWF4aXMgZHVyaW5nIHRoZSBhbmltYXRpb24uXG4gICAgICogQHBhcmFtIHtHU0FQLkVhc2V9IFtvcHRzLmV1bGVyRWFzZT1TaW5lLmVhc2VPdXRdIC0gVGhlIGVhc2Ugb2YgdGhlIHNoaWZ0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMudXNlQmFja1RyYW5zZm9ybXM9ZmFsc2VdIC0gV2hlbiBzZXQgdG8gdHJ1ZSwgdGhlIGZsaXAgYW5pbWF0aW9uIGFsc28gYW5pbWF0ZXMgdG8gdGhlIHRyYW5zZm9ybSBwYXJhbWV0ZXJzIG9mIHRoZSBiYWNrLW9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0dTQVAuRWFzZX0gW29wdHMudHJhbnNmb3JtRWFzZT1Qb3dlcjIuZWFzZU91dF0gLSBUaGUgZWFzZSBvZiB0aGUgdHJhbnNmb3JtLlxuICAgICAqIEBwYXJhbSB7bnVtZXJ9IFtvcHRzLmZvY3VzPTgwMF0gLSBUaGUgdmFsdWUgb2YgdGhlIGZvY3VzIG9mIHRoZSAzRCBjYW1lcmEgKHNlZSBwaXhpLXByb2plY3Rpb24pLlxuICAgICAqIEBwYXJhbSB7bnVtZXJ9IFtvcHRzLm5lYXI9MTBdIC0gVGhlIG5lYXIgdmFsdWUgb2YgdGhlIDNEIGNhbWVyYSAoc2VlIHBpeGktcHJvamVjdGlvbikuXG4gICAgICogQHBhcmFtIHtudW1lcn0gW29wdHMuZmFyPTEwMDAwXSAtIFRoZSBmYXIgdmFsdWUgb2YgdGhlIDNEIGNhbWVyYSAoc2VlIHBpeGktcHJvamVjdGlvbikuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5vcnRob2dyYXBoaWM9ZmFsc2VdIC0gU2hvdWxkIHRoZSBmbGlwIGFuaW1hdGlvbiBiZSBhbiBvcnRob2dyYXBoaWMgYW5pbWF0aW9uP1xuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IFtvcHRzLm9uU3RhcnQ9bnVsbF0gLSBBIGNhbGxiYWNrIGV4ZWN1dGVkIG9uIHN0YXJ0IG9mIHRoZSBmbGlwIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0cy5vblVwZGF0ZT1udWxsXSAtIEEgY2FsbGJhY2sgZXhlY3V0ZWQgb24gZWFjaCBzdGVwIG9mIHRoZSBmbGlwIGFuaW1hdGlvbi5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0cy5vbkNvbXBsZXRlPW51bGxdIC0gQSBjYWxsYmFjayBleGVjdXRlZCB3aGVuIHRoZSBmbGlwIGFuaW1hdGlvbiBpcyBmaW5pc2hlZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihmcm9udCwgYmFjaywgcmVuZGVyZXIsIG9wdHMgPSB7fSkge1xuXG4gICAgICAgIHN1cGVyKClcblxuICAgICAgICB0aGlzLm9wdHMgPSBPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICAgICAgICBmcm9udCxcbiAgICAgICAgICAgIGJhY2ssXG4gICAgICAgICAgICByZW5kZXJlcixcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxLFxuICAgICAgICAgICAgZWFzZTogUG93ZXIyLmVhc2VPdXQsXG4gICAgICAgICAgICBzaGFkb3c6IGZhbHNlLFxuICAgICAgICAgICAgZXVsZXJYOiAwLFxuICAgICAgICAgICAgZXVsZXJZOiAwLFxuICAgICAgICAgICAgZXVsZXJFYXNlOiBTaW5lLmVhc2VPdXQsXG4gICAgICAgICAgICB1c2VCYWNrVHJhbnNmb3JtczogZmFsc2UsXG4gICAgICAgICAgICB0cmFuc2Zvcm1FYXNlOiBQb3dlcjIuZWFzZU91dCxcbiAgICAgICAgICAgIGZvY3VzOiA4MDAsXG4gICAgICAgICAgICBuZWFyOiAxMCxcbiAgICAgICAgICAgIGZhcjogMTAwMDAsXG4gICAgICAgICAgICBvcnRob2dyYXBoaWM6IGZhbHNlXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgLy8gcGxhbmVzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXRQbGFuZXModGhpcy5vcHRzLmZvY3VzLCB0aGlzLm9wdHMubmVhciwgdGhpcy5vcHRzLmZhciwgdGhpcy5vcHRzLm9ydGhvZ3JhcGhpYylcblxuICAgICAgICAvLyBmbGlwcGVkXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5fZmxpcHBlZCA9IGZhbHNlXG5cbiAgICAgICAgLy8gb2JqZWN0c1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IHt9XG5cbiAgICAgICAgLy8gc2V0dXBcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnNldHVwKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNoaWxkcmVuIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7RmxpcHBhYmxlfSBBIHJlZmVyZW5jZSB0byB0aGUgZmxpcHBhYmxlIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBzZXR1cCgpIHtcblxuICAgICAgICBjb25zdCBzY2FsZSA9IC41XG5cbiAgICAgICAgLy8gZmlsdGVyc1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IGJsdXJGaWx0ZXIgPSBuZXcgUElYSS5maWx0ZXJzLkJsdXJGaWx0ZXIoKVxuICAgICAgICBibHVyRmlsdGVyLmJsdXIgPSAwLjJcbiAgICAgICAgdGhpcy5vYmplY3RzLmJsdXJGaWx0ZXIgPSBibHVyRmlsdGVyXG5cbiAgICAgICAgLy8gb3V0ZXJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBvdXRlciA9IG5ldyBQSVhJLnByb2plY3Rpb24uQ29udGFpbmVyM2QoKVxuICAgICAgICBvdXRlci5zY2FsZTNkLnNldChzY2FsZSlcbiAgICAgICAgdGhpcy5hZGRDaGlsZChvdXRlcilcbiAgICAgICAgdGhpcy5vYmplY3RzLm91dGVyID0gb3V0ZXJcblxuICAgICAgICAvLyBzaGFkb3dcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBzaGFkb3cgPSBuZXcgUElYSS5wcm9qZWN0aW9uLlNwcml0ZTNkKFBJWEkuVGV4dHVyZS5mcm9tSW1hZ2UoJy4uLy4uL2Fzc2V0cy9pbWFnZXMvc2hhZG93LnBuZycpKVxuICAgICAgICBzaGFkb3cucmVuZGVyYWJsZSA9IGZhbHNlXG4gICAgICAgIHNoYWRvdy5hbmNob3Iuc2V0KDAuNSlcbiAgICAgICAgc2hhZG93LnNjYWxlM2Quc2V0KC45OClcbiAgICAgICAgc2hhZG93LmFscGhhID0gMC43XG4gICAgICAgIHNoYWRvdy5maWx0ZXJzID0gW2JsdXJGaWx0ZXJdXG4gICAgICAgIHNoYWRvdy52aXNpYmxlID0gdGhpcy5vcHRzLnNoYWRvd1xuICAgICAgICBvdXRlci5hZGRDaGlsZChzaGFkb3cpXG4gICAgICAgIHRoaXMub2JqZWN0cy5zaGFkb3cgPSBzaGFkb3dcbiAgICAgICAgXG4gICAgICAgIC8vIGlubmVyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgaW5uZXIgPSBuZXcgUElYSS5wcm9qZWN0aW9uLkNvbnRhaW5lcjNkKClcbiAgICAgICAgaW5uZXIuZXVsZXIueSA9IE1hdGguUElcbiAgICAgICAgb3V0ZXIuYWRkQ2hpbGQoaW5uZXIpXG4gICAgICAgIHRoaXMub2JqZWN0cy5pbm5lciA9IGlubmVyXG5cbiAgICAgICAgLy8gZnJvbnRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBmcm9udCA9IG5ldyBQSVhJLnByb2plY3Rpb24uU3ByaXRlM2QoUElYSS5UZXh0dXJlLkVNUFRZKVxuICAgICAgICBmcm9udC5zY2FsZS5zZXQoLTEgLyBzY2FsZSwgMSAvIHNjYWxlKVxuICAgICAgICBmcm9udC5yZW5kZXJhYmxlID0gdHJ1ZVxuICAgICAgICBmcm9udC5hbmNob3Iuc2V0KC41KVxuICAgICAgICBpbm5lci5hZGRDaGlsZChmcm9udClcbiAgICAgICAgdGhpcy5vYmplY3RzLmZyb250ID0gZnJvbnRcblxuICAgICAgICAvLyBiYWNrXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgYmFjayA9IG5ldyBQSVhJLnByb2plY3Rpb24uU3ByaXRlM2QoUElYSS5UZXh0dXJlLkVNUFRZKVxuICAgICAgICBiYWNrLnNjYWxlLnNldCgxIC8gc2NhbGUsIDEgLyBzY2FsZSlcbiAgICAgICAgYmFjay5yZW5kZXJhYmxlID0gZmFsc2VcbiAgICAgICAgYmFjay5hbmNob3Iuc2V0KC41KVxuICAgICAgICBpbm5lci5hZGRDaGlsZChiYWNrKVxuICAgICAgICB0aGlzLm9iamVjdHMuYmFjayA9IGJhY2tcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgZmxpcHBlZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGZsaXBwZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mbGlwcGVkXG4gICAgfVxuICAgIHNldCBmbGlwcGVkKHRvQmFjaykge1xuXG4gICAgICAgIHRoaXMuX2ZsaXBwZWQgPSB0b0JhY2tcblxuICAgICAgICAvLyByZWZlcmVuY2VzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgZnJvbnQgPSB0aGlzLm9iamVjdHMuZnJvbnRcbiAgICAgICAgY29uc3QgYmFjayA9IHRoaXMub2JqZWN0cy5iYWNrXG4gICAgICAgIGNvbnN0IGlubmVyID0gdGhpcy5vYmplY3RzLmlubmVyXG4gICAgICAgIGNvbnN0IHNoYWRvdyA9IHRoaXMub2JqZWN0cy5zaGFkb3dcbiAgICAgICAgY29uc3QgYmx1ckZpbHRlciA9IHRoaXMub2JqZWN0cy5ibHVyRmlsdGVyXG5cbiAgICAgICAgY29uc3QgaGFsZiA9IHRoaXMub3B0cy5kdXJhdGlvbiAvIDJcbiAgICAgICAgY29uc3QgZWFzZSA9IHRoaXMub3B0cy5ldWxlckVhc2VcblxuICAgICAgICBjb25zdCBmcm9tT2JqZWN0ID0gdG9CYWNrID8gdGhpcy5vcHRzLmZyb250IDogdGhpcy5vcHRzLmJhY2tcbiAgICAgICAgY29uc3QgdG9PYmplY3QgPSB0b0JhY2sgPyB0aGlzLm9wdHMuYmFjayA6IHRoaXMub3B0cy5mcm9udFxuXG4gICAgICAgIC8vIHNldCB0ZXh0dXJlcyBmb3IgdmlydHVhbCBmcm9udCBhbmQgdmlydHVhbCBiYWNrXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgZnJvbnQudGV4dHVyZSA9IHRoaXMuZ2VuZXJhdGVUZXh0dXJlKHRoaXMub3B0cy5mcm9udClcbiAgICAgICAgYmFjay50ZXh0dXJlID0gdGhpcy5nZW5lcmF0ZVRleHR1cmUodGhpcy5vcHRzLmJhY2spXG4gICAgICAgIFxuICAgICAgICAvLyBzd2l0Y2ggb2JqZWN0cyBhbmQgc2V0IHBhcmFtcyBmb3IgdmlydHVhbCBvYmplY3RzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgY29uc3QgZnJvbUNlbnRlciA9IHRoaXMuYW5jaG9yVG9DZW50ZXIoZnJvbU9iamVjdClcbiAgICAgICAgY29uc3QgdG9DZW50ZXIgPSB0aGlzLmFuY2hvclRvQ2VudGVyKHRvT2JqZWN0KVxuXG4gICAgICAgIC8vIGZyb20gdmFsdWVzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy54ID0gZnJvbUNlbnRlci54XG4gICAgICAgIHRoaXMueSA9IGZyb21DZW50ZXIueVxuICAgICAgICBmcm9udC53aWR0aCA9IGZyb21PYmplY3Qud2lkdGggKiAyXG4gICAgICAgIGZyb250LmhlaWdodCA9IGZyb21PYmplY3QuaGVpZ2h0ICogMlxuICAgICAgICBiYWNrLndpZHRoID0gZnJvbU9iamVjdC53aWR0aCAqIDJcbiAgICAgICAgYmFjay5oZWlnaHQgPSBmcm9tT2JqZWN0LmhlaWdodCAqIDJcbiAgICAgICAgdGhpcy5yb3RhdGlvbiA9IGZyb21PYmplY3Qucm90YXRpb25cbiAgICAgICAgdGhpcy5za2V3LnggPSBmcm9tT2JqZWN0LnNrZXcueFxuICAgICAgICB0aGlzLnNrZXcueSA9IGZyb21PYmplY3Quc2tldy55XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIHRvIHZhbHVlc1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IHRvID0ge1xuICAgICAgICAgICAgeDogdGhpcy5vcHRzLnVzZUJhY2tUcmFuc2Zvcm1zID8gdG9DZW50ZXIueCA6IGZyb21DZW50ZXIueCxcbiAgICAgICAgICAgIHk6IHRoaXMub3B0cy51c2VCYWNrVHJhbnNmb3JtcyA/IHRvQ2VudGVyLnkgOiBmcm9tQ2VudGVyLnksXG4gICAgICAgICAgICBhbmNob3JYOiB0aGlzLm9wdHMudXNlQmFja1RyYW5zZm9ybXMgPyB0b09iamVjdC54IDogZnJvbU9iamVjdC54LFxuICAgICAgICAgICAgYW5jaG9yWTogdGhpcy5vcHRzLnVzZUJhY2tUcmFuc2Zvcm1zID8gdG9PYmplY3QueSA6IGZyb21PYmplY3QueSxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLm9wdHMudXNlQmFja1RyYW5zZm9ybXMgPyB0b09iamVjdC53aWR0aCAqIDIgOiBmcm9tT2JqZWN0LndpZHRoICogMixcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5vcHRzLnVzZUJhY2tUcmFuc2Zvcm1zID8gdG9PYmplY3QuaGVpZ2h0ICogMiA6IGZyb21PYmplY3QuaGVpZ2h0ICogMixcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLm9wdHMudXNlQmFja1RyYW5zZm9ybXMgPyB0b09iamVjdC5yb3RhdGlvbiA6IGZyb21PYmplY3Qucm90YXRpb24sXG4gICAgICAgICAgICBza2V3WDogdGhpcy5vcHRzLnVzZUJhY2tUcmFuc2Zvcm1zID8gdG9PYmplY3Quc2tldy54IDogZnJvbU9iamVjdC5za2V3LngsXG4gICAgICAgICAgICBza2V3WTogdGhpcy5vcHRzLnVzZUJhY2tUcmFuc2Zvcm1zID8gdG9PYmplY3Quc2tldy55IDogZnJvbU9iamVjdC5za2V3LnlcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldCB0b09iamVjdCBlbmQgdmFsdWVzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdG9PYmplY3QueCA9IHRvLmFuY2hvclhcbiAgICAgICAgdG9PYmplY3QueSA9IHRvLmFuY2hvcllcbiAgICAgICAgdG9PYmplY3Qud2lkdGggPSB0by53aWR0aCAvIDJcbiAgICAgICAgdG9PYmplY3QuaGVpZ2h0ID0gdG8uaGVpZ2h0IC8gMlxuICAgICAgICB0b09iamVjdC5yb3RhdGlvbiA9IHRvLnJvdGF0aW9uXG4gICAgICAgIHRvT2JqZWN0LnNrZXcueCA9IHRvLnNrZXdYXG4gICAgICAgIHRvT2JqZWN0LnNrZXcueSA9IHRvLnNrZXdZXG5cbiAgICAgICAgLy8gZmxpcFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIFR3ZWVuTWF4LnRvKGlubmVyLmV1bGVyLCB0aGlzLm9wdHMuZHVyYXRpb24sIHtcbiAgICAgICAgICAgIHk6IHRvQmFjayA/IDAgOiBNYXRoLlBJLFxuICAgICAgICAgICAgZWFzZTogdGhpcy5vcHRzLmVhc2UsXG4gICAgICAgICAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zd2l0Y2hEaXNwbGF5T2JqZWN0KGZyb21PYmplY3QsIHRoaXMpXG4gICAgICAgICAgICAgICAgc2hhZG93LnJlbmRlcmFibGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vblN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5vblN0YXJ0KHRoaXMsIHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uVXBkYXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25VcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRzLm9uVXBkYXRlKHRoaXMsIHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnN3aXRjaERpc3BsYXlPYmplY3QodGhpcywgdG9PYmplY3QpXG4gICAgICAgICAgICAgICAgc2hhZG93LnJlbmRlcmFibGUgPSBmYWxzZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdHMub25Db21wbGV0ZSh0aGlzLCB0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAvLyB4ICYgeVxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIHRoaXMub3B0cy5kdXJhdGlvbiwge1xuICAgICAgICAgICAgeDogdG8ueCxcbiAgICAgICAgICAgIHk6IHRvLnksXG4gICAgICAgICAgICBlYXNlOiB0aGlzLm9wdHMudHJhbnNmb3JtRWFzZVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIHdpZHRoICYgaGVpZ2h0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgVHdlZW5NYXgudG8oW2Zyb250LCBiYWNrXSwgdGhpcy5vcHRzLmR1cmF0aW9uLCB7XG4gICAgICAgICAgICB3aWR0aDogdG8ud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IHRvLmhlaWdodCxcbiAgICAgICAgICAgIGVhc2U6IHRoaXMub3B0cy50cmFuc2Zvcm1FYXNlXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gcm90YXRpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBUd2Vlbk1heC50byh0aGlzLCB0aGlzLm9wdHMuZHVyYXRpb24sIHtcbiAgICAgICAgICAgIGRpcmVjdGlvbmFsUm90YXRpb246IHtcbiAgICAgICAgICAgICAgICByb3RhdGlvbjogYCR7dG8ucm90YXRpb259X3Nob3J0YCxcbiAgICAgICAgICAgICAgICB1c2VSYWRpYW5zOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZWFzZTogdGhpcy5vcHRzLnRyYW5zZm9ybUVhc2VcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBza2V3WCAmIHNrZXdZXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgVHdlZW5NYXgudG8odGhpcy5za2V3LCB0aGlzLm9wdHMuZHVyYXRpb24sIHtcbiAgICAgICAgICAgIHg6IHRvLnNrZXdYLFxuICAgICAgICAgICAgeTogdG8uc2tld1ksXG4gICAgICAgICAgICBlYXNlOiB0aGlzLm9wdHMudHJhbnNmb3JtRWFzZVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGNhbWVyYVxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIG5ldyBUaW1lbGluZU1heCgpXG4gICAgICAgICAgICAudG8odGhpcy5ldWxlciwgaGFsZiwge3g6IHRoaXMub3B0cy5ldWxlclgsIHk6IHRoaXMub3B0cy5ldWxlclksIGVhc2V9KVxuICAgICAgICAgICAgLnRvKHRoaXMuZXVsZXIsIGhhbGYsIHt4OiAwLCB5OiAwLCBlYXNlfSlcblxuICAgICAgICAvLyBzaGFkb3dcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBuZXcgVGltZWxpbmVNYXgoKVxuICAgICAgICAgICAgLnRvKHNoYWRvdywgaGFsZiwge2FscGhhOiAuMywgZWFzZX0pXG4gICAgICAgICAgICAudG8oc2hhZG93LCBoYWxmLCB7YWxwaGE6IC43LCBlYXNlfSlcbiAgICAgICAgXG4gICAgICAgIC8vIGJsdXJmaWx0ZXJcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBuZXcgVGltZWxpbmVNYXgoKVxuICAgICAgICAgICAgLnRvKGJsdXJGaWx0ZXIsIGhhbGYsIHtibHVyOiA2LCBlYXNlfSlcbiAgICAgICAgICAgIC50byhibHVyRmlsdGVyLCBoYWxmLCB7Ymx1cjogLjIsIGVhc2V9KVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBjYW1lcmEuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtGbGlwcGFibGV9IEEgcmVmZXJlbmNlIHRvIHRoZSBmbGlwcGFibGUgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcblxuICAgICAgICBjb25zdCBmcm9udCA9IHRoaXMub2JqZWN0cy5mcm9udFxuICAgICAgICBjb25zdCBiYWNrID0gdGhpcy5vYmplY3RzLmJhY2tcbiAgICAgICAgY29uc3Qgc2hhZG93ID0gdGhpcy5vYmplY3RzLnNoYWRvd1xuICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMub2JqZWN0cy5pbm5lclxuICAgICAgICBcbiAgICAgICAgaW5uZXIucG9zaXRpb24zZC56ID0gLU1hdGguc2luKGlubmVyLmV1bGVyLnkpICogZnJvbnQudGV4dHVyZS5iYXNlVGV4dHVyZS53aWR0aCAqIDJcblxuICAgICAgICAvL3RoaXMub2JqZWN0cy5zaGFkb3cuZXVsZXIgPSB0aGlzLm9iamVjdHMuaW5uZXIuZXVsZXJcbiAgICAgICAgc2hhZG93LmV1bGVyLnggPSAtaW5uZXIuZXVsZXIueFxuICAgICAgICBzaGFkb3cuZXVsZXIueSA9IC1pbm5lci5ldWxlci55XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5mcm9udFNpZGVJbkZyb250KSB7XG4gICAgICAgICAgICBmcm9udC5yZW5kZXJhYmxlID0gdHJ1ZVxuICAgICAgICAgICAgYmFjay5yZW5kZXJhYmxlID0gZmFsc2VcbiAgICAgICAgICAgIHNoYWRvdy53aWR0aCA9IGZyb250LndpZHRoXG4gICAgICAgICAgICBzaGFkb3cuaGVpZ2h0ID0gZnJvbnQuaGVpZ2h0XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmcm9udC5yZW5kZXJhYmxlID0gZmFsc2VcbiAgICAgICAgICAgIGJhY2sucmVuZGVyYWJsZSA9IHRydWVcbiAgICAgICAgICAgIHNoYWRvdy53aWR0aCA9IGJhY2sud2lkdGhcbiAgICAgICAgICAgIHNoYWRvdy5oZWlnaHQgPSBiYWNrLmhlaWdodFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHRoZSBmbGlwcGFibGUuIFN3aXRjaGVzIHRoZSBzaWRlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7RmxpcHBhYmxlfSBBIHJlZmVyZW5jZSB0byB0aGUgZmxpcHBhYmxlIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIHRoaXMuZmxpcHBlZCA9ICF0aGlzLmZsaXBwZWRcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGFsaWdubWVudCBzdGF0ZS4gdHJ1ZSBpZiB0aGUgZnJvbnQgc2lkZSBpcyBpbiBmcm9udCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAqXG4gICAgICogQG1lbWJlciB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBnZXQgZnJvbnRTaWRlSW5Gcm9udCgpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLm9iamVjdHMuaW5uZXIuaXNGcm9udEZhY2UoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIGNlbnRlciBwb2ludCBvZiBhbiBQSVhJLkRpc3BsYXlPYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgZnJvbSB3aGljaCB0byBjYWxjdWxhdGUgdGhlIGNlbnRlci5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFJldHVybiBhbiBvYmplY3Qgd2l0aCB4IGFuZCB5LlxuICAgICAqL1xuICAgIGFuY2hvclRvQ2VudGVyKGRpc3BsYXlPYmplY3QpIHtcbiAgICAgICAgY29uc3QgYm91bmRzID0gZGlzcGxheU9iamVjdC5nZXRCb3VuZHMoKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyLFxuICAgICAgICAgICAgeTogYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBkaXNwbGF5T2JqZWN0IC0gVGhlIERpc3BsYXlPYmplY3QgZnJvbSB3aGljaCB0byBnZW5lcmF0ZSB0aGUgdGV4dHVyZS5cbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IFRoZSBnZW5lcmF0ZWQgUElYSS5UZXh0dXJlLlxuICAgICAqL1xuICAgIGdlbmVyYXRlVGV4dHVyZShkaXNwbGF5T2JqZWN0KSB7XG5cbiAgICAgICAgLy8gcmVuZGVyVGV4dHVyZVxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGNvbnN0IHJlbmRlclRleHR1cmUgPSBQSVhJLlJlbmRlclRleHR1cmUuY3JlYXRlKGRpc3BsYXlPYmplY3Qud2lkdGgsIGRpc3BsYXlPYmplY3QuaGVpZ2h0KVxuXG4gICAgICAgIC8vIHNhdmUgcG9zaXRpb25cbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gW2Rpc3BsYXlPYmplY3QueCwgZGlzcGxheU9iamVjdC55LCBkaXNwbGF5T2JqZWN0LnNjYWxlLngsIGRpc3BsYXlPYmplY3Quc2NhbGUueSwgZGlzcGxheU9iamVjdC5yb3RhdGlvbiwgZGlzcGxheU9iamVjdC5za2V3LngsIGRpc3BsYXlPYmplY3Quc2tldy55LCBkaXNwbGF5T2JqZWN0LnBpdm90LngsIGRpc3BsYXlPYmplY3QucGl2b3QueV1cblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnBvc2l0aW9uLnNldCgwLCAwKVxuICAgICAgICBkaXNwbGF5T2JqZWN0LnNrZXcuc2V0KDAsIDApXG4gICAgICAgIGRpc3BsYXlPYmplY3Qucm90YXRpb24gPSAwXG5cbiAgICAgICAgLy8gcmVuZGVyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5vcHRzLnJlbmRlcmVyLnJlbmRlcihkaXNwbGF5T2JqZWN0LCByZW5kZXJUZXh0dXJlKVxuICAgICAgICBcbiAgICAgICAgLy8gcmVzdG9yZSBwb3NpdGlvblxuICAgICAgICBkaXNwbGF5T2JqZWN0LnNldFRyYW5zZm9ybSguLi50cmFuc2Zvcm0pXG5cbiAgICAgICAgcmV0dXJuIHJlbmRlclRleHR1cmVcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVkIHRoZSBmaXJzdCBEaXNwbGF5T2JqZWN0IGFuZCBhZGRzIHRoZSBzZWNvbmQgb25lIGF0IHRoZSBleGFjdGx5IHNhbWUgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fSBmaXJzdCAtIFRoZSBvbGQgRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gc2Vjb25kIC0gVGhlIG5ldyBEaXNwbGF5T2JqZWN0LlxuICAgICAqIEByZXR1cm4ge0ZsaXBwYWJsZX0gQSByZWZlcmVuY2UgdG8gdGhlIGZsaXBwYWJsZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc3dpdGNoRGlzcGxheU9iamVjdChmaXJzdCwgc2Vjb25kKSB7XG4gICAgICAgIGlmIChmaXJzdCAmJiBzZWNvbmQgJiYgZmlyc3QucGFyZW50KSB7XG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBmaXJzdC5wYXJlbnRcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gcGFyZW50LmdldENoaWxkSW5kZXgoZmlyc3QpXG4gICAgICAgICAgICBwYXJlbnQuYWRkQ2hpbGRBdChzZWNvbmQsIGluZGV4KVxuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGZpcnN0KVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG59XG4iLCIvKipcbiAqIFxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3BvdmVyIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG5cbiAgICBjb25zdHJ1Y3Rvcih7dGl0bGUgPSBudWxsLCB0ZXh0ID0gbnVsbCwgeCA9IDAsIHkgPSAwLCBwbGFjZW1lbnQgPSAndG9wJywgd2lkdGggPSAyNTAsIHRpdGxlU3R5bGUgPSB7fSwgdGV4dFN0eWxlID0ge2ZvbnRTaXplOiAnMS42ZW0nfX0gPSB7fSkge1xuICAgICAgICBzdXBlcigpXG5cbiAgICAgICAgdGhpcy5vcHRzID0ge3RpdGxlLCB0ZXh0LCB4LCB5LCBwbGFjZW1lbnQsIHdpZHRoLCB0aXRsZVN0eWxlLCB0ZXh0U3R5bGV9XG4gICAgICAgIFxuICAgICAgICB0aGlzLnBhZGRpbmcgPSAxMlxuXG4gICAgICAgIGxldCBzdHlsZSA9IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzJlbScsXG4gICAgICAgICAgICBzdHJva2U6ICcjZjZmNmY2JyxcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogMyxcbiAgICAgICAgICAgIHdvcmRXcmFwOiB0cnVlLFxuICAgICAgICAgICAgd29yZFdyYXBXaWR0aDogd2lkdGggLSAodGhpcy5wYWRkaW5nICogMilcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudGl0bGVUZXh0U3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHRpdGxlU3R5bGUpKVxuICAgICAgICB0aGlzLnRleHRUZXh0U3R5bGUgPSBuZXcgUElYSS5UZXh0U3R5bGUoT2JqZWN0LmFzc2lnbih7fSwgc3R5bGUsIHRleHRTdHlsZSkpXG4gICAgICAgIFxuICAgICAgICBpZiAodGl0bGUgfHwgdGV4dCkge1xuICAgICAgICAgICAgdGhpcy5zZXR1cCgpXG4gICAgICAgICAgICB0aGlzLmRyYXcoKVxuICAgICAgICAgICAgdGhpcy5wb3NpdGlvbmluZygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVDaGlsZHJlbigpXG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy50aXRsZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZVRleHQgPSBuZXcgUElYSS5UZXh0KHRoaXMub3B0cy50aXRsZSwgdGhpcy50aXRsZVRleHRTdHlsZSlcbiAgICAgICAgICAgIHRoaXMudGl0bGVUZXh0LnBvc2l0aW9uLnNldCh0aGlzLnBhZGRpbmcsIHRoaXMucGFkZGluZylcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGhpcy50aXRsZVRleHQpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpdGxlWSA9IHRoaXMudGl0bGVUZXh0ID8gdGhpcy50aXRsZVRleHQueSA6IDBcbiAgICAgICAgdGhpcy50aXRsZUhlaWdodCA9IHRoaXMudGl0bGVUZXh0ID8gdGhpcy50aXRsZVRleHQuaGVpZ2h0IDogMFxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMudGV4dCkge1xuICAgICAgICAgICAgdGhpcy50ZXh0VGV4dCA9IG5ldyBQSVhJLlRleHQodGhpcy5vcHRzLnRleHQsIHRoaXMudGV4dFRleHRTdHlsZSlcbiAgICAgICAgICAgIHRoaXMudGV4dFRleHQucG9zaXRpb24uc2V0KHRoaXMucGFkZGluZywgdGhpcy50aXRsZVkgKyB0aGlzLnRpdGxlSGVpZ2h0ICsgdGhpcy5wYWRkaW5nKVxuICAgICAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRleHRUZXh0KVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy50ZXh0WSA9IHRoaXMudGV4dFRleHQgPyB0aGlzLnRleHRUZXh0LnkgOiAwXG4gICAgICAgIHRoaXMudGV4dEhlaWdodCA9IHRoaXMudGV4dFRleHQgPyB0aGlzLnRleHRUZXh0LmhlaWdodCA6IDBcbiAgICB9XG5cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcylcbiAgICB9XG5cbiAgICBkcmF3KCkge1xuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgdGhpcy5iZWdpbkZpbGwoMHhmZmZmZmYsIDEpXG4gICAgICAgIHRoaXMubGluZVN0eWxlKDEsIDB4MjgyODI4LCAuNSlcblxuICAgICAgICAvLyBEcmF3IHJvdW5kZWQgcmVjdGFuZ2xlXG4gICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaGVpZ2h0ICsgdGhpcy5wYWRkaW5nXG4gICAgICAgIHRoaXMuZHJhd1JvdW5kZWRSZWN0KDAsIDAsIHRoaXMub3B0cy53aWR0aCwgaGVpZ2h0LCA4KVxuXG4gICAgICAgIC8vIERyYXcgYW5jaG9yXG4gICAgICAgIHRoaXMuZHJhd0FuY2hvcih0aGlzLm9wdHMucGxhY2VtZW50KVxuXG4gICAgICAgIC8vIERyYXcgdGl0bGUgYmFja2dyb3VuZFxuICAgICAgICBpZiAodGhpcy5vcHRzLnRpdGxlKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSgwKVxuICAgICAgICAgICAgdGhpcy5iZWdpbkZpbGwoMHhmN2Y3ZjcsIDEpXG4gICAgICAgICAgICBsZXQgeCA9IDFcbiAgICAgICAgICAgIGxldCB5ID0gdGhpcy50aXRsZVRleHQueCArIHRoaXMudGl0bGVUZXh0LmhlaWdodCArICh0aGlzLnBhZGRpbmcgLyAyKVxuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSlcbiAgICAgICAgICAgIHkgPSA5XG4gICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KVxuICAgICAgICAgICAgdGhpcy5xdWFkcmF0aWNDdXJ2ZVRvKHgsIHkgLSA4LCB4ICsgOCwgeSAtIDgpXG4gICAgICAgICAgICB4ICs9IHRoaXMub3B0cy53aWR0aCAtIDdcbiAgICAgICAgICAgIHkgLT0gOFxuICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSlcbiAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyh4ICsgNSwgeSwgeCArIDUsIHkgKyA4KVxuICAgICAgICAgICAgeCArPSA1XG4gICAgICAgICAgICB5ICs9IHRoaXMudGl0bGVUZXh0LnggKyB0aGlzLnRpdGxlVGV4dC5oZWlnaHQgKyAodGhpcy5wYWRkaW5nIC8gMilcbiAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnRleHQpIHtcbiAgICAgICAgICAgICAgICB4ID0gMVxuICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4IC0gNSwgeSArIDQpXG4gICAgICAgICAgICAgICAgeCA9IDZcbiAgICAgICAgICAgICAgICB5ICs9IDRcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KVxuICAgICAgICAgICAgICAgIHRoaXMucXVhZHJhdGljQ3VydmVUbyh4LCB5LCB4IC0gNSwgeSAtIDQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmVuZEZpbGwoKVxuICAgIH1cblxuICAgIGRyYXdBbmNob3IocGxhY2VtZW50KSB7XG5cbiAgICAgICAgbGV0IHggPSAwXG4gICAgICAgIGxldCB5ID0gMFxuXG4gICAgICAgIHN3aXRjaCAocGxhY2VtZW50KSB7XG4gICAgICAgICAgICBjYXNlICdib3R0b20nOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iZWdpbkZpbGwoMHhmN2Y3ZjcsIDEpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHggPSAodGhpcy53aWR0aCAvIDIpIC0gMTBcbiAgICAgICAgICAgICAgICB5ID0gMVxuICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvKHgsIHkpXG4gICAgICAgICAgICAgICAgeCArPSAxMFxuICAgICAgICAgICAgICAgIHkgLT0gMTBcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KVxuICAgICAgICAgICAgICAgIHggKz0gMTBcbiAgICAgICAgICAgICAgICB5ICs9IDEwXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHggPSAxXG4gICAgICAgICAgICAgICAgeSA9ICh0aGlzLmhlaWdodCAvIDIpIC0gMTBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aXRsZVkgKyB0aGlzLnRpdGxlSGVpZ2h0ID4geSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJlZ2luRmlsbCgweGY3ZjdmNywgMSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSlcbiAgICAgICAgICAgICAgICB4IC09IDEwXG4gICAgICAgICAgICAgICAgeSArPSAxMFxuICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpXG4gICAgICAgICAgICAgICAgeCArPSAxMFxuICAgICAgICAgICAgICAgIHkgKz0gMTBcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVUbyh4LCB5KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICB4ID0gdGhpcy53aWR0aCAtIDJcbiAgICAgICAgICAgICAgICB5ID0gKHRoaXMuaGVpZ2h0IC8gMikgLSAxMFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRpdGxlWSArIHRoaXMudGl0bGVIZWlnaHQgPiB5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYmVnaW5GaWxsKDB4ZjdmN2Y3LCAxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KVxuICAgICAgICAgICAgICAgIHggKz0gMTBcbiAgICAgICAgICAgICAgICB5ICs9IDEwXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSlcbiAgICAgICAgICAgICAgICB4IC09IDEwXG4gICAgICAgICAgICAgICAgeSArPSAxMFxuICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgeCA9ICh0aGlzLndpZHRoIC8gMikgLSAxMFxuICAgICAgICAgICAgICAgIHkgPSB0aGlzLmhlaWdodCAtIDJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVUbyh4LCB5KVxuICAgICAgICAgICAgICAgIHggKz0gMTBcbiAgICAgICAgICAgICAgICB5ICs9IDEwXG4gICAgICAgICAgICAgICAgdGhpcy5saW5lVG8oeCwgeSlcbiAgICAgICAgICAgICAgICB4ICs9IDEwXG4gICAgICAgICAgICAgICAgeSAtPSAxMFxuICAgICAgICAgICAgICAgIHRoaXMubGluZVRvKHgsIHkpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBvc2l0aW9uaW5nKCkge1xuXG4gICAgICAgIGNvbnN0IHggPSB0aGlzLm9wdHMueFxuICAgICAgICBjb25zdCB5ID0gdGhpcy5vcHRzLnlcblxuICAgICAgICBzd2l0Y2ggKHRoaXMub3B0cy5wbGFjZW1lbnQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoeCAtICh0aGlzLndpZHRoIC8gMiksIHkgKyAxMClcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpb24uc2V0KHgsIHkgLSAodGhpcy5oZWlnaHQgLyAyKSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQoeCAtIHRoaXMud2lkdGgsIHkgLSAodGhpcy5oZWlnaHQgLyAyKSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnBvc2l0aW9uLnNldCh4IC0gKHRoaXMud2lkdGggLyAyKSwgeSAtIHRoaXMuaGVpZ2h0KVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgRXZlbnRzIGZyb20gJy4uL2V2ZW50cy5qcydcbmltcG9ydCB7IEFic3RyYWN0U2NhdHRlciB9IGZyb20gJy4uL3NjYXR0ZXIuanMnXG5pbXBvcnQgeyBBbmdsZSwgUG9pbnRzLCBQb2x5Z29uIH0gZnJvbSAnLi4vdXRpbHMuanMnXG5pbXBvcnQgeyBJbnRlcmFjdGlvbk1hcHBlciB9IGZyb20gJy4uL2ludGVyYWN0aW9uLmpzJ1xuXG4vKiogQSBjb250YWluZXIgZm9yIHNjYXR0ZXIgb2JqZWN0cywgd2hpY2ggdXNlcyBhIHNpbmdsZSBJbnRlcmFjdGlvbk1hcHBlclxuICogZm9yIGFsbCBjaGlsZHJlbi4gVGhpcyByZWR1Y2VzIHRoZSBudW1iZXIgb2YgcmVnaXN0ZXJlZCBldmVudCBoYW5kbGVyc1xuICogYW5kIGNvdmVycyB0aGUgY29tbW9uIHVzZSBjYXNlIHRoYXQgbXVsdGlwbGUgb2JqZWN0cyBhcmUgc2NhdHRlcmVkXG4gKiBvbiB0aGUgc2FtZSBsZXZlbC5cbiAqL1xuZXhwb3J0IGNsYXNzIFNjYXR0ZXJDb250YWluZXIgZXh0ZW5kcyBQSVhJLkdyYXBoaWNzIHtcblxuICAgIC8qKlxuICAgICogQGNvbnN0cnVjdG9yXG4gICAgKiBAcGFyYW0ge1BJWEkuUmVuZGVyZXJ9IHJlbmRlcmVyIC0gUElYSSByZW5kZXJlciwgbmVlZGVkIGZvciBoaXQgdGVzdGluZ1xuICAgICogQHBhcmFtIHtCb29sfSBzdG9wRXZlbnRzIC0gV2hldGhlciBldmVudHMgc2hvdWxkIGJlIHN0b3BwZWQgb3IgcHJvcGFnYXRlZFxuICAgICogQHBhcmFtIHtCb29sfSBjbGFpbUV2ZW50cyAtIFdoZXRoZXIgZXZlbnRzIHNob3VsZCBiZSBtYXJrZWQgYXMgY2xhaW1lZFxuICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGZpbmRUYXJnZXQgcmV0dXJuIGFzIG5vbi1udWxsIHZhbHVlLlxuICAgICogQHBhcmFtIHtCb29sfSBzaG93Qm91bmRzIC0gU2hvdyBib3VuZHMgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAqIEBwYXJhbSB7Qm9vbH0gc2hvd1RvdWNoZXMgLSBTaG93IHRvdWNoZXMgYW5kIHBvaW50ZXIgZm9yIGRlYnVnZ2luZyBwdXJwb3Nlcy5cbiAgICAqIEBwYXJhbSB7Q29sb3J9IGJhY2tncm91bmRDb2xvciAtIFNldCBiYWNrZ3JvdW5kIGNvbG9yIGlmIHNwZWNpZmllZC5cbiAgICAqIEBwYXJhbSB7UElYSUFwcH0gYXBwbGljYXRpb24gLSBOZWVkZWQgaWYgc2hvd0JvdW5kcyBpcyB0cnVlIHRvIHJlZ2lzdGVyXG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlIGhhbmRsZXIuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyZW5kZXJlciwge1xuICAgICAgICBzdG9wRXZlbnRzID0gdHJ1ZSxcbiAgICAgICAgY2xhaW1FdmVudHMgPSB0cnVlLFxuICAgICAgICBjb250YWluZXIgPSBudWxsLFxuICAgICAgICBzaG93Qm91bmRzID0gZmFsc2UsXG4gICAgICAgIHNob3dQb2x5Z29uID0gZmFsc2UsXG4gICAgICAgIHNob3dUb3VjaGVzID0gZmFsc2UsXG4gICAgICAgIGJhY2tncm91bmRDb2xvciA9IG51bGwsXG4gICAgICAgIGFwcGxpY2F0aW9uID0gbnVsbFxuICAgIH0gPSB7fSkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyXG4gICAgICAgIGlmICh0aGlzLmNvbnRhaW5lcilcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRGltZW5zaW9ucyA9IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLmNvbnRhaW5lci53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLmNvbnRhaW5lci5oZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHJlbmRlcmVyXG4gICAgICAgIHRoaXMuc3RvcEV2ZW50cyA9IHN0b3BFdmVudHNcbiAgICAgICAgdGhpcy5jbGFpbUV2ZW50cyA9IGNsYWltRXZlbnRzXG4gICAgICAgIHRoaXMuZGVsZWdhdGUgPSBuZXcgSW50ZXJhY3Rpb25NYXBwZXIodGhpcy5ldmVudFJlY2VpdmVyLCB0aGlzKVxuICAgICAgICB0aGlzLnNob3dCb3VuZHMgPSBzaG93Qm91bmRzXG4gICAgICAgIHRoaXMuc2hvd1RvdWNoZXMgPSBzaG93VG91Y2hlc1xuICAgICAgICB0aGlzLnNob3dQb2x5Z29uID0gc2hvd1BvbHlnb25cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kQ29sb3IgPSBiYWNrZ3JvdW5kQ29sb3JcbiAgICAgICAgaWYgKGFwcGxpY2F0aW9uICYmIChzaG93Qm91bmRzIHx8IHNob3dUb3VjaGVzIHx8IHNob3dQb2x5Z29uKSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTaG93IFRPVUNIRVMhISFcIilcbiAgICAgICAgICAgIGFwcGxpY2F0aW9uLnRpY2tlci5hZGQoKGRlbHRhKSA9PiB0aGlzLnVwZGF0ZShkZWx0YSksIHRoaXMpXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJhY2tncm91bmRDb2xvcikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVCYWNrZ3JvdW5kKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHVwZGF0ZUJhY2tncm91bmQoKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKVxuICAgICAgICB0aGlzLmJlZ2luRmlsbCh0aGlzLmJhY2tncm91bmRDb2xvciwgMSlcbiAgICAgICAgdGhpcy5kcmF3UmVjdCgwLCAwLCB0aGlzLmJvdW5kcy53aWR0aCwgdGhpcy5ib3VuZHMuaGVpZ2h0KVxuICAgICAgICB0aGlzLmVuZEZpbGwoKVxuICAgIH1cblxuICAgIGdldCBldmVudFJlY2VpdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uLmludGVyYWN0aW9uRE9NRWxlbWVudFxuICAgIH1cblxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIGxldCB4ID0gMFxuICAgICAgICBsZXQgeSA9IDBcbiAgICAgICAgLy8gQGNvbnRhaW5lcjogV2UgbmVlZCB0byBjYWxsIHRoZSBjb25zdGFudCB2YWx1ZXMsIGFzIHRoZSBjb250YWluZXJcbiAgICAgICAgLy8gZ2V0cyByZXNpemVkLCB3aGVuIGEgY2hpbGQgbW92ZXMgb3V0c2lkZSB0aGUgb3JpZ2luYWwgYm91bmRhcmllcy5cbiAgICAgICAgbGV0IHcgPSAodGhpcy5jb250YWluZXIpID8gdGhpcy5jb250YWluZXJEaW1lbnNpb25zLnggOiBhcHAud2lkdGhcbiAgICAgICAgbGV0IGggPSAodGhpcy5jb250YWluZXIpID8gdGhpcy5jb250YWluZXJEaW1lbnNpb25zLnkgOiBhcHAuaGVpZ2h0XG5cbiAgICAgICAgaWYgKGFwcC5mdWxsc2NyZWVuICYmIGFwcC5tb25rZXlQYXRjaE1hcHBpbmcpIHtcbiAgICAgICAgICAgIGxldCBmaXhlZCA9IHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KHsgeDogdywgeTogMCB9KVxuICAgICAgICAgICAgaWYgKGZpeGVkLnggPCB3KSB7XG4gICAgICAgICAgICAgICAgdyA9IGZpeGVkLnhcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaXhlZC55ID4gMCkge1xuICAgICAgICAgICAgICAgIHkgKz0gZml4ZWQueVxuICAgICAgICAgICAgICAgIGggLT0gZml4ZWQueVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUElYSS5SZWN0YW5nbGUoeCwgeSwgdywgaClcbiAgICB9XG5cbiAgICBnZXQgY2VudGVyKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuYm91bmRzXG4gICAgICAgIHJldHVybiB7IHg6IHIud2lkdGggLyAyLCB5OiByLmhlaWdodCAvIDIgfVxuICAgIH1cblxuICAgIGdldCBwb2x5Z29uKCkge1xuICAgICAgICBsZXQgciA9IHRoaXMuYm91bmRzXG4gICAgICAgIGxldCB3MiA9IHIud2lkdGggLyAyXG4gICAgICAgIGxldCBoMiA9IHIuaGVpZ2h0IC8gMlxuICAgICAgICBsZXQgY2VudGVyID0geyB4OiB3MiwgeTogaDIgfVxuICAgICAgICBsZXQgcG9seWdvbiA9IG5ldyBQb2x5Z29uKGNlbnRlcilcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7IHg6IC13MiwgeTogLWgyIH0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiB3MiwgeTogLWgyIH0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiB3MiwgeTogaDIgfSlcbiAgICAgICAgcG9seWdvbi5hZGRQb2ludCh7IHg6IC13MiwgeTogaDIgfSlcbiAgICAgICAgcmV0dXJuIHBvbHlnb25cbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgIHRoaXMubGluZVN0eWxlKDEsIDB4MDAwMEZGKVxuICAgICAgICBpZiAodGhpcy5zaG93Qm91bmRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnNjYXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy9sZXQge3gsIHksIHdpZHRoLCBoZWlnaHR9ID0gY2hpbGQuc2NhdHRlci50aHJvd0JvdW5kcygpXG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyBQSVhJLlJlY3RhbmdsZSh4LCB5LCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdTaGFwZShjaGlsZC5zY2F0dGVyLmJvdW5kcylcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNlbnRlciA9IGNoaWxkLnNjYXR0ZXIuY2VudGVyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NpcmNsZShjZW50ZXIueCwgY2VudGVyLnksIDQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NpcmNsZShjaGlsZC5zY2F0dGVyLngsIGNoaWxkLnNjYXR0ZXIueSwgNClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSgyLCAweDAwMDBGRilcbiAgICAgICAgICAgIHRoaXMuZHJhd1NoYXBlKHRoaXMuYm91bmRzKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3dQb2x5Z29uKSB7XG4gICAgICAgICAgICB0aGlzLmxpbmVTdHlsZSgyLCAweEZGMDAwMClcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hpbGQuc2NhdHRlcikge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcG9seWdvbiA9IGNoaWxkLnNjYXR0ZXIucG9seWdvblxuICAgICAgICAgICAgICAgICAgICBsZXQgc2hhcGUgPSBuZXcgUElYSS5Qb2x5Z29uKHBvbHlnb24uZmxhdEFic29sdXRlUG9pbnRzKCkpXG4gICAgICAgICAgICAgICAgICAgIHNoYXBlLmNsb3NlKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3U2hhcGUoc2hhcGUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNob3dUb3VjaGVzKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuZGVsZWdhdGUuaW50ZXJhY3Rpb24uY3VycmVudFxuICAgICAgICAgICAgZm9yKGxldCBba2V5LCBwb2ludF0gb2YgY3VycmVudC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgbG9jYWwgPSB0aGlzLm1hcFBvc2l0aW9uVG9Qb2ludChwb2ludClcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaXJjbGUobG9jYWwueCwgbG9jYWwueSwgMTIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjYXB0dXJlKGV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnN0b3BFdmVudHMpXG4gICAgICAgICAgICBFdmVudHMuc3RvcChldmVudClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBmYWtlSW50ZXJhY3Rpb25FdmVudChwb2ludCwga2V5KSB7XG4gICAgICAgIHJldHVybiB7IGRhdGE6IHsgZ2xvYmFsOiBwb2ludCwga2V5OiBrZXkgfSB9XG4gICAgfVxuXG4gICAgZmluZEhpdFNjYXR0ZXIoZGF0YSwgZGlzcGxheU9iamVjdCwgaGl0KSB7XG4gICAgICAgIC8vICAgICBpZiAoaGl0KSB7XG4gICAgICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluZEhpdFNjYXR0ZXJcIiwgZGlzcGxheU9iamVjdClcbiAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgIGlmIChoaXQgJiYgdGhpcy5oaXRTY2F0dGVyID09PSBudWxsICYmIHR5cGVvZiAoZGlzcGxheU9iamVjdCkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmhpdFNjYXR0ZXIgPSAoZGlzcGxheU9iamVjdC5zY2F0dGVyKSA/IGRpc3BsYXlPYmplY3Quc2NhdHRlciA6IG51bGxcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcFBvc2l0aW9uVG9Qb2ludChwb2ludCwgZWxlbWVudD1udWxsKSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgbmVzdGVkIHNjYXR0ZXJzIHdlIGdldCBhbiBhZGRpdGlvbmFsIHBhcmFtZXRlciB0aGF0XG4gICAgICAgIC8vIGNvbnRhaW5zIHRoZSBmb3VuZCBzY2F0dGVyXG4gICAgICAgIGxldCBsb2NhbCA9IG5ldyBQSVhJLlBvaW50KClcbiAgICAgICAgbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvblxuICAgICAgICBpbnRlcmFjdGlvbk1hbmFnZXIubWFwUG9zaXRpb25Ub1BvaW50KGxvY2FsLCBwb2ludC54LCBwb2ludC55KVxuICAgICAgICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIERpc3BsYXlPYmplY3RTY2F0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5kaXNwbGF5T2JqZWN0LnBhcmVudC50b0xvY2FsKGxvY2FsKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhbFxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE5ldyBtZXRob2QgaGl0VGVzdCBpbXBsZW1lbnRlZCAoaW4gSW50ZXJhY3Rpb25NYW5hZ2VyLCBzaW5jZSA0LjUuMCkuXG4gICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9waXhpanMvcGl4aS5qcy9wdWxsLzM4NzhcbiAgICAgKi9cbiAgICBmaW5kVGFyZ2V0KGV2ZW50LCBsb2NhbCwgZ2xvYmFsKSB7XG4gICAgICAgIGlmIChldmVudC5jbGFpbWVkQnlTY2F0dGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGl0U2NhdHRlciA9IG51bGxcbiAgICAgICAgbGV0IGludGVyYWN0aW9uTWFuYWdlciA9IHRoaXMucmVuZGVyZXIucGx1Z2lucy5pbnRlcmFjdGlvblxuICAgICAgICBsZXQgZmFrZUV2ZW50ID0gdGhpcy5mYWtlSW50ZXJhY3Rpb25FdmVudChsb2NhbClcbiAgICAgICAgaW50ZXJhY3Rpb25NYW5hZ2VyLnByb2Nlc3NJbnRlcmFjdGl2ZShmYWtlRXZlbnQsXG4gICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgdGhpcy5maW5kSGl0U2NhdHRlci5iaW5kKHRoaXMpLCB0cnVlKVxuICAgICAgICBpZiAodGhpcy5jbGFpbUV2ZW50cylcbiAgICAgICAgICAgIGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIgPSB0aGlzLmhpdFNjYXR0ZXJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGl0U2NhdHRlclxuICAgIH1cblxuICAgIGZpbmRUYXJnZXROZXcoZXZlbnQsIGxvY2FsLCBnbG9iYWwpIHtcbiAgICAgICAgLy8gVU86IHN0aWxsIHByb2JsZW1hdGljLiBEb2VzIG5vdCBmaW5kIG5vbiBpbnRlcmFjdGl2ZSBlbGVtZW50c1xuICAgICAgICAvLyB3aGljaCBhcmUgbmVlZGVkIGZvciBzb21lIHN0eWx1cyBhcHBsaWNhdGlvbnNcbiAgICAgICAgaWYgKGV2ZW50LmNsYWltZWRCeVNjYXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oaXRTY2F0dGVyID0gbnVsbFxuICAgICAgICBsZXQgaW50ZXJhY3Rpb25NYW5hZ2VyID0gdGhpcy5yZW5kZXJlci5wbHVnaW5zLmludGVyYWN0aW9uXG4gICAgICAgIGxldCBkaXNwbGF5T2JqZWN0ID0gaW50ZXJhY3Rpb25NYW5hZ2VyLmhpdFRlc3QobG9jYWwsIHRoaXMpXG4gICAgICAgIGlmIChkaXNwbGF5T2JqZWN0ICE9IG51bGwgJiYgZGlzcGxheU9iamVjdC5zY2F0dGVyICE9IG51bGwpXG4gICAgICAgICAgICB0aGlzLmhpdFNjYXR0ZXIgPSBkaXNwbGF5T2JqZWN0LnNjYXR0ZXJcbiAgICAgICAgaWYgKHRoaXMuY2xhaW1FdmVudHMpXG4gICAgICAgICAgICBldmVudC5jbGFpbWVkQnlTY2F0dGVyID0gdGhpcy5oaXRTY2F0dGVyXG4gICAgICAgIHJldHVybiB0aGlzLmhpdFNjYXR0ZXJcbiAgICB9XG5cblxuICAgIG9uU3RhcnQoZXZlbnQsIGludGVyYWN0aW9uKSB7XG5cbiAgICB9XG5cbiAgICBvbk1vdmUoZXZlbnQsIGludGVyYWN0aW9uKSB7XG5cbiAgICB9XG5cbiAgICBvbkVuZChldmVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgZm9yIChsZXQga2V5IG9mIGludGVyYWN0aW9uLmVuZGVkLmtleXMoKSkge1xuICAgICAgICAgICAgbGV0IHBvaW50ID0gaW50ZXJhY3Rpb24uZW5kZWQuZ2V0KGtleSlcbiAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5pc0xvbmdQcmVzcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkxvbmdQcmVzcyhrZXksIHBvaW50KVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGludGVyYWN0aW9uLmlzVGFwKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVGFwKGtleSwgcG9pbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblRhcChrZXksIHBvaW50KSB7XG4gICAgICAgIGNvbnNvbGUuaW5mbygnU2NhdHRlckNvbnRhaW5lci5vblRhcCcpXG4gICAgfVxuXG4gICAgb25Mb25nUHJlc3Moa2V5LCBwb2ludCkge1xuICAgICAgICBjb25zb2xlLmluZm8oJ1NjYXR0ZXJDb250YWluZXIub25Mb25nUHJlc3MnKVxuICAgIH1cblxuICAgIGJyaW5nVG9Gcm9udChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHRoaXMuYWRkQ2hpbGQoZGlzcGxheU9iamVjdClcbiAgICB9XG59XG5cbi8qKiBBIHdyYXBwZXIgZm9yIGNoaWxkIGVsZW1lbnRzIG9mIGEgU2NhdHRlckNvbnRhaW5lci4gQ2FuIGJlIHVzZWRcbiAqICB0byBjb21iaW5lIHNjYXR0ZXJlZCBvYmplY3RzIHdpdGggbm9uLXNjYXR0ZXJlZCBvYmplY3RzLiBBbnlcbiAqICBQSVhJLkRpc3BsYXlPYmplY3QgY2FuIGJlIHdyYXBwZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNwbGF5T2JqZWN0U2NhdHRlciBleHRlbmRzIEFic3RyYWN0U2NhdHRlciB7XG5cbiAgICBjb25zdHJ1Y3RvcihkaXNwbGF5T2JqZWN0LCByZW5kZXJlcixcbiAgICAgICAgeyB4ID0gbnVsbCwgeSA9IG51bGwsXG4gICAgICAgICAgICBtaW5TY2FsZSA9IDAuMSxcbiAgICAgICAgICAgIG1heFNjYWxlID0gMS4wLFxuICAgICAgICAgICAgc3RhcnRTY2FsZSA9IDEuMCxcbiAgICAgICAgICAgIGF1dG9CcmluZ1RvRnJvbnQgPSB0cnVlLFxuICAgICAgICAgICAgdHJhbnNsYXRhYmxlID0gdHJ1ZSwgc2NhbGFibGUgPSB0cnVlLCByb3RhdGFibGUgPSB0cnVlLCByZXNpemFibGUgPSBmYWxzZSxcbiAgICAgICAgICAgIG1vdmFibGVYID0gdHJ1ZSxcbiAgICAgICAgICAgIG1vdmFibGVZID0gdHJ1ZSxcbiAgICAgICAgICAgIHRocm93VmlzaWJpbGl0eSA9IDQ0LFxuICAgICAgICAgICAgdGhyb3dEYW1waW5nID0gMC45NSxcbiAgICAgICAgICAgIGF1dG9UaHJvdyA9IHRydWUsXG4gICAgICAgICAgICByb3RhdGlvbkRlZ3JlZXMgPSBudWxsLFxuICAgICAgICAgICAgcm90YXRpb24gPSBudWxsLFxuICAgICAgICAgICAgb3ZlcmRvU2NhbGluZyA9IDEuNSxcbiAgICAgICAgICAgIG9uVHJhbnNmb3JtID0gbnVsbCB9ID0ge30pIHtcbiAgICAgICAgLy8gRm9yIHRoZSBzaW11bGF0aW9uIG9mIG5hbWVkIHBhcmFtZXRlcnMsXG4gICAgICAgIC8vIHNlZTogaHR0cDovL2V4cGxvcmluZ2pzLmNvbS9lczYvY2hfcGFyYW1ldGVyLWhhbmRsaW5nLmh0bWxcbiAgICAgICAgc3VwZXIoe1xuICAgICAgICAgICAgb3ZlcmRvU2NhbGluZyxcbiAgICAgICAgICAgIG1pblNjYWxlLCBtYXhTY2FsZSxcbiAgICAgICAgICAgIHN0YXJ0U2NhbGUsXG4gICAgICAgICAgICBhdXRvQnJpbmdUb0Zyb250LFxuICAgICAgICAgICAgdHJhbnNsYXRhYmxlLCBzY2FsYWJsZSwgcm90YXRhYmxlLCByZXNpemFibGUsXG4gICAgICAgICAgICBtb3ZhYmxlWCwgbW92YWJsZVksIHRocm93VmlzaWJpbGl0eSwgdGhyb3dEYW1waW5nLFxuICAgICAgICAgICAgYXV0b1Rocm93LFxuICAgICAgICAgICAgcm90YXRpb25EZWdyZWVzLCByb3RhdGlvbixcbiAgICAgICAgICAgIG9uVHJhbnNmb3JtXG4gICAgICAgIH0pXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdCA9IGRpc3BsYXlPYmplY3RcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LnNjYXR0ZXIgPSB0aGlzXG4gICAgICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgICAgICB0aGlzLnNjYWxlID0gc3RhcnRTY2FsZVxuICAgICAgICB0aGlzLnJvdGF0aW9uRGVncmVlcyA9IHRoaXMuc3RhcnRSb3RhdGlvbkRlZ3JlZXNcblxuICAgICAgICAvLyBPbmx5IHNldCB4IGFuZCB5IGlmIHRoZXkgYXJlIHNwZWNpZmllZC5cbiAgICAgICAgLy8gT3RoZXJ3aXNlIHRoZSBkaXNwbGF5b2JqZWN0IGdldHMgY29ycnVwdGVkLlxuICAgICAgICBpZiAoeCAhPSBudWxsKSB0aGlzLnggPSB4XG4gICAgICAgIGlmICh5ICE9IG51bGwpIHRoaXMueSA9IHlcbiAgICB9XG5cbiAgICAvKiogUmV0dXJucyBnZW9tZXRyeSBkYXRhIGFzIG9iamVjdC4gKiovXG4gICAgZ2V0U3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2FsZTogdGhpcy5zY2FsZSxcbiAgICAgICAgICAgIHg6IHRoaXMueCxcbiAgICAgICAgICAgIHk6IHRoaXMueSxcbiAgICAgICAgICAgIHJvdGF0aW9uOiB0aGlzLnJvdGF0aW9uXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXR1cCgpIHtcbiAgICAgICAgdGhpcy5zZXR1cE1vdXNlV2hlZWxJbnRlcmFjdGlvbigpXG4gICAgfVxuXG4gICAgcm91bmRQaXhlbCh2YWx1ZSkge1xuICAgICAgICAvLyBVTzogU2hvdWxkIGJlIG9ic29sZXRlIGJlY2F1c2UgUmVuZGVyZXIgc3VwcG9ydHMgcm91bmRQaXhlbHMgYnkgZGVmYXVsdFxuICAgICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMucmVuZGVyZXIucmVzb2x1dGlvblxuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAqIHJlcykgLyByZXNcbiAgICB9XG5cbiAgICBnZXQgY29udGFpbmVyKCkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudFxuICAgICAgICBsZXQgb2JqID0gdGhpcy5kaXNwbGF5T2JqZWN0XG4gICAgICAgIHdoaWxlIChvYmoucGFyZW50ICE9IG51bGwgJiYgIShvYmoucGFyZW50IGluc3RhbmNlb2YgU2NhdHRlckNvbnRhaW5lcikpXG4gICAgICAgICAgICBvYmogPSBvYmoucGFyZW50XG4gICAgICAgIHJldHVybiBvYmoucGFyZW50XG4gICAgfVxuXG4gICAgZ2V0IHgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc2l0aW9uLnhcbiAgICB9XG5cbiAgICBzZXQgeCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uLnggPSB2YWx1ZVxuICAgIH1cblxuICAgIGdldCB5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbi55XG4gICAgfVxuXG4gICAgc2V0IHkodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgcG9seWdvbigpIHtcbiAgICAgICAgbGV0IHBvbHlnb24gPSBuZXcgUG9seWdvbih0aGlzLmNlbnRlcilcbiAgICAgICAgbGV0IHcyID0gdGhpcy53aWR0aCAvIDJcbiAgICAgICAgbGV0IGgyID0gdGhpcy5oZWlnaHQgLyAyXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IC1oMiB9KVxuICAgICAgICBwb2x5Z29uLmFkZFBvaW50KHsgeDogdzIsIHk6IGgyIH0pXG4gICAgICAgIHBvbHlnb24uYWRkUG9pbnQoeyB4OiAtdzIsIHk6IGgyIH0pXG4gICAgICAgIHBvbHlnb24ucm90YXRlKHRoaXMucm90YXRpb24pXG4gICAgICAgIHJldHVybiBwb2x5Z29uXG4gICAgfVxuXG4gICAgZ2V0IGNvbnRhaW5lckJvdW5kcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGFpbmVyLmJvdW5kc1xuICAgIH1cblxuICAgIGdldCBjb250YWluZXJQb2x5Z29uKCkge1xuICAgICAgICBsZXQgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJcbiAgICAgICAgaWYgKGNvbnRhaW5lciA9PSBudWxsKSByZXR1cm4gbnVsbFxuICAgICAgICByZXR1cm4gY29udGFpbmVyLnBvbHlnb25cbiAgICB9XG5cbiAgICBnZXQgcG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QucG9zaXRpb25cbiAgICB9XG5cbiAgICBzZXQgcG9zaXRpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LnBvc2l0aW9uID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgc2NhbGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3Quc2NhbGUueFxuICAgIH1cblxuICAgIHNldCBzY2FsZSh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3Quc2NhbGUueCA9IHZhbHVlXG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdC5zY2FsZS55ID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3Qud2lkdGhcbiAgICB9XG5cbiAgICBnZXQgaGVpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXNwbGF5T2JqZWN0LmhlaWdodFxuICAgIH1cblxuICAgIGdldCBib3VuZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QuZ2V0Qm91bmRzKClcbiAgICB9XG5cbiAgICBnZXQgcGl2b3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3QucGl2b3RcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlPYmplY3Qucm90YXRpb25cbiAgICB9XG5cbiAgICBzZXQgcm90YXRpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LnJvdGF0aW9uID0gdmFsdWVcbiAgICB9XG5cbiAgICBnZXQgcm90YXRpb25EZWdyZWVzKCkge1xuICAgICAgICByZXR1cm4gQW5nbGUucmFkaWFuMmRlZ3JlZSh0aGlzLmRpc3BsYXlPYmplY3Qucm90YXRpb24pXG4gICAgfVxuXG4gICAgc2V0IHJvdGF0aW9uRGVncmVlcyh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRpc3BsYXlPYmplY3Qucm90YXRpb24gPSBBbmdsZS5kZWdyZWUycmFkaWFuKHZhbHVlKVxuICAgIH1cblxuICAgIGdldCBjZW50ZXIoKSB7XG4gICAgICAgIGxldCB3MiA9IHRoaXMud2lkdGggLyAyXG4gICAgICAgIGxldCBoMiA9IHRoaXMuaGVpZ2h0IC8gMlxuICAgICAgICBsZXQgZGlzdCA9IE1hdGguc3FydCh3MiAqIHcyICsgaDIgKiBoMilcbiAgICAgICAgbGV0IGFuZ2xlID0gUG9pbnRzLmFuZ2xlKHsgeDogdzIsIHk6IGgyIH0sIHsgeDogMCwgeTogMCB9KVxuICAgICAgICBsZXQgcCA9IHRoaXMuZGlzcGxheU9iamVjdC54XG4gICAgICAgIGxldCBjID0gUG9pbnRzLmFyYyh0aGlzLnBvc2l0aW9uLCB0aGlzLnJvdGF0aW9uICsgYW5nbGUsIGRpc3QpXG4gICAgICAgIHJldHVybiBjIC8vIFBvaW50cy5zdWJ0cmFjdChjLCB0aGlzLnBpdm90KVxuICAgIH1cblxuICAgIGdldCByb3RhdGlvbk9yaWdpbigpIHtcbiAgICAgICAgLy8gSW4gUElYSSB0aGUgZGVmYXVsdCByb3RhdGlvbiBhbmQgc2NhbGUgb3JpZ2luIGlzIHRoZSBwb3NpdGlvblxuICAgICAgICByZXR1cm4gdGhpcy5wb3NpdGlvbiAvLyBQb2ludHMuYWRkKHRoaXMucG9zaXRpb24sIHRoaXMucGl2b3QpXG4gICAgfVxuXG4gICAgbWFwUG9zaXRpb25Ub0NvbnRhaW5lclBvaW50KHBvaW50KSB7XG4gICAgICAgIC8vIFVPOiBXZSBuZWVkIHRoZSBjb29yZGluYXRlcyByZWxhdGVkIHRvIHRoaXMgc2NhdHRlciBpbiBjYXNlXG4gICAgICAgIC8vIG9mIG5lc3RlZCBzY2F0dGVyc1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXIubWFwUG9zaXRpb25Ub1BvaW50KHBvaW50LCB0aGlzKVxuICAgIH1cblxuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICBicmluZ1RvRnJvbnQoKSB7XG4gICAgICAgIGlmICh0aGlzLmF1dG9CcmluZ1RvRnJvbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRpc3BsYXlPYmplY3QucGFyZW50IGluc3RhbmNlb2YgU2NhdHRlckNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGxldCBzY2F0dGVyQ29udGFpbmVyID0gdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudFxuICAgICAgICAgICAgICAgIHNjYXR0ZXJDb250YWluZXIuYnJpbmdUb0Zyb250KHRoaXMuZGlzcGxheU9iamVjdClcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudC5zY2F0dGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5T2JqZWN0LnBhcmVudC5zY2F0dGVyLnRvRnJvbnQodGhpcy5kaXNwbGF5T2JqZWN0KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9Gcm9udChkaXNwbGF5T2JqZWN0KSB7XG4gICAgICAgIHRoaXMuZGlzcGxheU9iamVjdC5hZGRDaGlsZChkaXNwbGF5T2JqZWN0KVxuICAgIH1cblxuICAgIHZhbGlkU2NhbGUoc2NhbGUpIHtcbiAgICAgICAgc2NhbGUgPSBNYXRoLm1heChzY2FsZSwgdGhpcy5taW5TY2FsZSlcbiAgICAgICAgc2NhbGUgPSBNYXRoLm1pbihzY2FsZSwgdGhpcy5tYXhTY2FsZSlcbiAgICAgICAgcmV0dXJuIHNjYWxlXG4gICAgfVxufVxuIiwiaW1wb3J0IFBJWElBcHAgZnJvbSAnLi9hcHAuanMnXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21tYW5kIGV4dGVuZHMgUElYSS5HcmFwaGljcyB7XG4gICAgLyoqKiBBYnN0cmFjdCBiYXNlIGNsYXNzIGZvciByZWNvcmQsIHBsYXksIGFuZCBzdG9wIGNvbW1hbmRzLiAqKiovXG4gICAgY29uc3RydWN0b3IodG9vbHMsIHNlbGVjdGVkQ29sb3IsIHNoYXBlKSB7XG4gICAgICAgIHN1cGVyKClcbiAgICAgICAgdGhpcy50b29scyA9IHRvb2xzXG4gICAgICAgIHRoaXMuc2hhcGUgPSBzaGFwZVxuICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDb2xvciA9IHNlbGVjdGVkQ29sb3JcbiAgICAgICAgdGhpcy5kcmF3KClcbiAgICAgICAgdGhpcy5zZXR1cCgpXG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgfVxuXG4gICAgZHJhdygpIHtcbiAgICAgICAgdGhpcy5jbGVhcigpXG4gICAgICAgIHZhciBjb2xvciA9ICh0aGlzLnNlbGVjdGVkKSA/IHRoaXMuc2VsZWN0ZWRDb2xvciA6IDB4RkZGRkZGXG4gICAgICAgIHRoaXMubGluZVN0eWxlKDApXG4gICAgICAgIHRoaXMuYmVnaW5GaWxsKGNvbG9yLCAxKVxuICAgICAgICB0aGlzLmRyYXdTaGFwZSh0aGlzLnNoYXBlKVxuICAgICAgICB0aGlzLmVuZEZpbGwoKVxuICAgIH1cblxuICAgIHNlbGVjdCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHRydWVcbiAgICAgICAgdGhpcy5kcmF3KClcbiAgICB9XG5cbiAgICBkZXNlbGVjdCgpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IGZhbHNlXG4gICAgICAgIHRoaXMuZHJhdygpXG4gICAgfVxuXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gIXRoaXMuc2VsZWN0ZWRcbiAgICAgICAgdGhpcy5kcmF3KClcbiAgICB9XG5cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLnNlbGVjdGVkID0gZmFsc2VcbiAgICAgICAgdGhpcy5kcmF3KClcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBSZWNvcmRDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgLyoqKiBSZWNvcmRzIGV2ZW50cyBmb3IgbGF0ZXIgcmVwbGF5LiAqKiovXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHRoaXMucmVjb3JkZXIgPSBuZXcgRXZlbnRSZWNvcmRlcigpXG4gICAgfVxuXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICBzdXBlci50b2dnbGUoKVxuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkZXIuc3RvcFJlY29yZGluZygpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWNvcmRFdmVudChldmVudCkge1xuICAgICAgICB0aGlzLnJlY29yZGVyLnJlY29yZChldmVudClcbiAgICB9XG5cbiAgICBub3JtYWxpemUodmFsdWUsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAvIGxpbWl0XG4gICAgfVxuXG4gICAgbm9ybWFsaXplWCh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemUodmFsdWUsIHdpbmRvdy5pbm5lcldpZHRoKVxuICAgIH1cblxuICAgIG5vcm1hbGl6ZVkodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplKHZhbHVlLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgfVxuXG4gICAgd2hpbGVOb3RTdG9wcGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b29scy5wbGF5LnNlbGVjdGVkXG4gICAgfVxuXG4gICAgc3RhcnRSZXBsYXkoKSB7XG4gICAgICAgIGxldCB3aGlsZUNvbmRpdGlvbiA9IHRoaXMud2hpbGVOb3RTdG9wcGVkLmJpbmQodGhpcylcbiAgICAgICAgdGhpcy5yZWNvcmRlci5zdGFydFJlcGxheSh3aGlsZUNvbmRpdGlvbiwgKCkgPT4gdGhpcy50b29scy5wbGF5LnN0b3AoKSlcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQbGF5Q29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xuICAgIC8qKiogUGxheXMgcmVjb3JkZWQgZXZlbnRzLiAqKiovXG4gICAgdG9nZ2xlKCkge1xuICAgICAgICBzdXBlci50b2dnbGUoKVxuICAgICAgICBpZiAodGhpcy5zZWxlY3RlZCAmJiB0aGlzLnRvb2xzLnJlY29yZC5yZWNvcmRlci5yZWNvcmRlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2xzLnN0YXJ0UmVwbGF5KClcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFN0b3BDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XG4gICAgLyoqKiBTdG9wcyByZWNvcmRpbmcgYW5kIHBsYXlpbmcuICoqKi9cbiAgICB0b2dnbGUoKSB7XG4gICAgICAgIHN1cGVyLnRvZ2dsZSgpXG4gICAgICAgIHRoaXMudG9vbHMucmVjb3JkLnN0b3AoKVxuICAgICAgICB0aGlzLnRvb2xzLnBsYXkuc3RvcCgpXG4gICAgICAgIHNldFRpbWVvdXQodGhpcy5kZXNlbGVjdC5iaW5kKHRoaXMpLCA1MDApXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVjb3JkZXJUb29scyBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHJlbmRlcmVyKSB7XG4gICAgICAgIHN1cGVyKHJlbmRlcmVyKVxuICAgICAgICB0aGlzLnJlbmRlcmVyID0gcmVuZGVyZXJcbiAgICAgICAgdGhpcy5zZXR1cFRvb2xiYXIoKVxuICAgICAgICB0aGlzLnJlcGxheVJhdGUgPSAxMDAuMFxuICAgICAgICB0aGlzLm9uUmVzZXQgPSBudWxsXG4gICAgICAgIHRoaXMudG91Y2hHcmFwaGljcyA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5zaG93VG91Y2hlcygpXG4gICAgfVxuXG4gICAgc2V0dXAoY29udGFpbmVyKSB7XG4gICAgICAgIC8vIFNpbmNlIHRoaXMgZGVsZWdhdGUgbWlnaHQgc2hhZG93IGFub3RoZXIgZGVsZWdhdGUsIHdlIG11cyBhdm9pZFxuICAgICAgICAvLyBjYXB0dXJpbmcgUG9pbnRlckV2ZW50cy5cbiAgICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG5ldyBJbnRlcmFjdGlvbk1hcHBlcihjb250YWluZXIsIHRoaXMsIHsgY2FwdHVyZVBvaW50ZXJFdmVudHM6IGZhbHNlIH0pXG4gICAgfVxuXG4gICAgZmluZFRhcmdldChldmVudCwgbG9jYWwsIGdsb2JhbCkge1xuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cblxuICAgIHNldHVwVG9vbGJhcigpIHtcbiAgICAgICAgdGhpcy50b29sYmFyID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICB0aGlzLnJlY29yZCA9IG5ldyBSZWNvcmRDb21tYW5kKHRoaXMsIDB4Q0MwMDAwLCBuZXcgUElYSS5DaXJjbGUoMCwgMCwgMTYpKVxuICAgICAgICB0aGlzLnBsYXkgPSBuZXcgUGxheUNvbW1hbmQodGhpcywgMHgwMDAwQ0MsIG5ldyBQSVhJLlBvbHlnb24oMCwgMTYsXG4gICAgICAgICAgICAzMiwgMTYgKyAxNixcbiAgICAgICAgICAgIDAsIDE2ICsgMzIsXG4gICAgICAgICAgICAwLCAxNikpXG4gICAgICAgIHRoaXMuc3RvcCA9IG5ldyBTdG9wQ29tbWFuZCh0aGlzLCAweDAwMDBDQyxcbiAgICAgICAgICAgIG5ldyBQSVhJLlJlY3RhbmdsZSgwLCAwLCAzMiwgMzIpKVxuICAgICAgICB0aGlzLnRvb2xiYXIuYWRkQ2hpbGQodGhpcy5yZWNvcmQpLnBvc2l0aW9uLnNldCg0NCwgNDgpXG4gICAgICAgIHRoaXMudG9vbGJhci5hZGRDaGlsZCh0aGlzLnBsYXkpLnBvc2l0aW9uLnNldCg0NCArIDQ0LCAxNilcbiAgICAgICAgdGhpcy50b29sYmFyLmFkZENoaWxkKHRoaXMuc3RvcCkucG9zaXRpb24uc2V0KDQ0ICsgNDQgKyA0NCArIDE2LCAzMilcbiAgICAgICAgdGhpcy51cGRhdGVUb29sYmFyKClcbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLnRvb2xiYXIpXG4gICAgfVxuXG4gICAgdXBkYXRlVG9vbGJhcigpIHtcbiAgICAgICAgdmFyIGdyYXBoaWNzID0gdGhpcy50b29sYmFyXG4gICAgICAgIGdyYXBoaWNzLmNsZWFyKClcbiAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4MDAwMDAwLCAwLjUpXG4gICAgICAgIGdyYXBoaWNzLmxpbmVTdHlsZSgyLCAweEZGRkZGRiwgMSlcbiAgICAgICAgZ3JhcGhpY3MuZHJhd1JvdW5kZWRSZWN0KDE2LCAxNiwgNDQgKiA0ICsgOCwgNjQsIDgpXG4gICAgICAgIGdyYXBoaWNzLmVuZEZpbGwoKVxuICAgIH1cblxuICAgIG9uTW91c2VXaGVlbChldmVudCkge1xuICAgICAgICBjb25zb2xlLmxvZygnb25Nb3VzZVdoZWVsIG1pc3NpbmcnKVxuICAgIH1cblxuICAgIG9uUHJlc3MocG9pbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVjb3JkLmNvbnRhaW5zUG9pbnQocG9pbnQpKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29yZC50b2dnbGUoKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBsYXkuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMucGxheS50b2dnbGUoKVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnN0b3AuY29udGFpbnNQb2ludChwb2ludCkpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcC50b2dnbGUoKVxuICAgICAgICAgICAgaWYgKHRoaXMub25SZXNldCkge1xuICAgICAgICAgICAgICAgIHRoaXMub25SZXNldCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtYXBQb3NpdGlvblRvUG9pbnQocG9pbnQpIHtcbiAgICAgICAgbGV0IGxvY2FsID0gbmV3IFBJWEkuUG9pbnQoKVxuICAgICAgICB0aGlzLnJlbmRlcmVyLnBsdWdpbnMuaW50ZXJhY3Rpb24ubWFwUG9zaXRpb25Ub1BvaW50KGxvY2FsLCBwb2ludC54LCBwb2ludC55KVxuICAgICAgICByZXR1cm4gbG9jYWxcbiAgICB9XG5cbiAgICBleHRyYWN0TG9jYWwoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwUG9zaXRpb25Ub1BvaW50KEV2ZW50cy5leHRyYWN0UG9pbnQoZXZlbnQpKVxuICAgIH1cblxuICAgIGNhcHR1cmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBldmVudC5tb3VzZURvd25TdWJzdGl0dXRlICE9ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgc3RhcnRSZXBsYXkoKSB7XG4gICAgICAgIGlmICh0aGlzLm9uUmVzZXQpIHtcbiAgICAgICAgICAgIHRoaXMub25SZXNldCgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWNvcmQuc3RhcnRSZXBsYXkoKVxuICAgIH1cblxuICAgIHNob3dUb3VjaGVzKCkge1xuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMudG91Y2hHcmFwaGljcylcbiAgICB9XG5cbiAgICByZWNvcmRFdmVudChldmVudCkge1xuICAgICAgICBpZiAodGhpcy5yZWNvcmQuc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkLnJlY29yZEV2ZW50KGV2ZW50KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TdGFydChldmVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5leHRyYWN0TG9jYWwoZXZlbnQpXG4gICAgICAgIGlmICghdGhpcy50b29sYmFyLmNvbnRhaW5zUG9pbnQobG9jYWwpKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29yZEV2ZW50KGV2ZW50KVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUb3VjaEdyYXBoaWNzKGludGVyYWN0aW9uKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3ZlKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICBsZXQgbG9jYWwgPSB0aGlzLmV4dHJhY3RMb2NhbChldmVudClcbiAgICAgICAgaWYgKCF0aGlzLnRvb2xiYXIuY29udGFpbnNQb2ludChsb2NhbCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkRXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRvdWNoR3JhcGhpY3MoaW50ZXJhY3Rpb24pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVuZChldmVudCwgaW50ZXJhY3Rpb24pIHtcbiAgICAgICAgbGV0IGxvY2FsID0gdGhpcy5leHRyYWN0TG9jYWwoZXZlbnQpXG4gICAgICAgIGlmICh0aGlzLnRvb2xiYXIuY29udGFpbnNQb2ludChsb2NhbCkpIHtcbiAgICAgICAgICAgIHRoaXMub25QcmVzcyhsb2NhbClcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkRXZlbnQoZXZlbnQpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRvdWNoR3JhcGhpY3MoaW50ZXJhY3Rpb24pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVUb3VjaEdyYXBoaWNzKGludGVyYWN0aW9uKSB7XG4gICAgICAgIGxldCBjdXJyZW50ID0gaW50ZXJhY3Rpb24uY3VycmVudFxuICAgICAgICBsZXQgZ3JhcGhpY3MgPSB0aGlzLnRvdWNoR3JhcGhpY3NcbiAgICAgICAgaWYgKGdyYXBoaWNzICE9IG51bGwpIHtcbiAgICAgICAgICAgIGdyYXBoaWNzLmNsZWFyKClcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBvZiBjdXJyZW50LmtleXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbnRlcmFjdGlvbi5lbmRlZC5oYXMoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgcCA9IGN1cnJlbnQuZ2V0KGtleSlcbiAgICAgICAgICAgICAgICBpZiAoa2V5ID09ICdtb3VzZScpIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4Q0MwMDAwLCAwLjUpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JhcGhpY3MuYmVnaW5GaWxsKDB4Q0NDQ0NDLCAwLjUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdyYXBoaWNzLmRyYXdDaXJjbGUocC54LCBwLnksIDIwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JhcGhpY3MuZW5kRmlsbCgpXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBBcHBUZXN0IGV4dGVuZHMgUElYSUFwcCB7XG5cbiAgICBjb25zdHJ1Y3RvcihjYW52YXMsIGNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcih7IHZpZXc6IGNhbnZhcywgYmFja2dyb3VuZENvbG9yOiAweDAwMDAwMCB9KVxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICAgIH1cblxuICAgIHNjZW5lRmFjdG9yeSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWNvcmRlclRvb2xzKHRoaXMucmVuZGVyZXIpXG4gICAgfVxuXG4gICAgc2V0dXAoKSB7XG4gICAgICAgIHN1cGVyLnNldHVwKClcbiAgICAgICAgdGhpcy5zY2VuZS5zZXR1cCh0aGlzLmNvbnRhaW5lcilcbiAgICB9XG5cbiAgICBydW4ocmVzZXQgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc2NlbmUub25SZXNldCA9IHJlc2V0XG4gICAgICAgIGNvbnNvbGUubG9nKCdSdW5uaW5nIEFwcFRlc3QnKVxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cblxuXG5cblxuIiwiaW1wb3J0IHtDeWNsZSwgQ29sb3JzLCBEYXRlcywgaXNFbXB0eX0gZnJvbSAnLi4vdXRpbHMuanMnXG5pbXBvcnQge0NhcGFiaWxpdGllc30gZnJvbSAnLi4vY2FwYWJpbGl0aWVzLmpzJ1xuXG4vKipcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBGb250SW5mbyB7XG5cbiAgICBzdGF0aWMgZ2V0IHNtYWxsKCkge1xuICAgICAgICByZXR1cm4gYXBwLnRoZW1lLnRleHRTdHlsZVNtYWxsXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBub3JtYWwoKSB7XG4gICAgICAgIHJldHVybiBhcHAudGhlbWUudGV4dFN0eWxlXG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBjZW50ZXJlZCgpICB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBhcHAudGhlbWUudGV4dFN0eWxlLCB7YWxpZ24gOiAnY2VudGVyJ30pXG4gICAgfVxufVxuXG5cbmV4cG9ydCBjbGFzcyBMYWJlbGVkR3JhcGhpY3MgZXh0ZW5kcyBQSVhJLkdyYXBoaWNzIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpXG4gICAgICAgIHRoaXMubGFiZWxzID0gbmV3IE1hcCgpXG4gICAgfVxuXG4gICAgZW5zdXJlTGFiZWwoa2V5LCBsYWJlbCwgYXR0cnMsIGZvbnRJbmZvPUZvbnRJbmZvLm5vcm1hbCkge1xuICAgICAgICBpZiAoIXRoaXMubGFiZWxzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICBsZXQgdGV4dCA9IG5ldyBQSVhJLlRleHQobGFiZWwsIGZvbnRJbmZvKVxuICAgICAgICAgICAgdGhpcy5sYWJlbHMuc2V0KGtleSwgdGV4dClcbiAgICAgICAgICAgIHRoaXMuYWRkQ2hpbGQodGV4dClcbiAgICAgICAgfVxuICAgICAgICBsZXQgdGV4dCA9IHRoaXMubGFiZWxzLmdldChrZXkpXG4gICAgICAgIGZvcihsZXQgayBpbiBhdHRycykge1xuICAgICAgICAgICAgdGV4dFtrXSA9IGF0dHJzW2tdXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhYmVsICE9IHRleHQudGV4dClcbiAgICAgICAgICAgIHRleHQudGV4dCA9IGxhYmVsXG4gICAgICAgIHRleHQuYW5jaG9yLnkgPSAwLjVcbiAgICAgICAgc3dpdGNoKGF0dHJzLmFsaWduKSB7XG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgdGV4dC5hbmNob3IueCA9IDFcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgICAgICB0ZXh0LmFuY2hvci54ID0gMC41XG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGV4dC5hbmNob3IueCA9IDBcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIHRleHQudmlzaWJsZSA9IHRydWVcbiAgICAgICAgcmV0dXJuIHRleHRcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBUaWNrcyB7XG5cbiAgICBnZXQgcmVzZXJ2ZWRQcmVmaXhlcygpIHtcbiAgICAgICAgcmV0dXJuIFsnZGVjYWRlJywgJ3llYXInLCAnbW9udGgnLCAnZGF5JywgJ2hvdXInLCAnbWludXRlJywgJ3NlY29uZCddXG4gICAgfVxuXG4gICAgZ2V0IG1pbldpZHRoKCkge1xuICAgICAgICByZXR1cm4gMTBcbiAgICB9XG5cbiAgICBmb3JtYXQoYXZhaWxhYmxlKSB7XG4gICAgICAgIHJldHVybiB7eWVhcjogJzItZGlnaXQnLCB0aW1lWm9uZTogJ1VUQyd9XG4gICAgfVxuXG4gICAgZ2V0IG1pbkxhYmVsV2lkdGgoKSB7XG4gICAgICAgIHJldHVybiA0NFxuICAgIH1cblxuICAgIGdldCBmb3JtYXRLZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleVxuICAgIH1cblxuICAgIGRhdGVLZXkoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXkgKyBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICB9XG5cbiAgICAqaXRlcihzdGFydCwgZW5kKSB7XG4gICAgICAgIGxldCBkYXRlID0gdGhpcy5pdGVyU3RhcnQoc3RhcnQpXG4gICAgICAgIHdoaWxlIChkYXRlIDw9IGVuZCkge1xuICAgICAgICAgICAgeWllbGQgZGF0ZVxuICAgICAgICAgICAgZGF0ZSA9IHRoaXMubmV4dChkYXRlKVxuICAgICAgICB9XG4gICAgICAgIHlpZWxkIGRhdGVcbiAgICB9XG5cbiAgICAqaXRlclJhbmdlcyhyYW5nZSkge1xuICAgICAgICBmb3IobGV0IGRhdGUgb2YgdGhpcy5pdGVyKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMubmV4dChkYXRlKVxuICAgICAgICAgICAgeWllbGQgeyBzdGFydDogZGF0ZSwgZW5kOiBuZXh0IH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdGVkUmFuZ2UodGltZWxpbmUsIGluZm8pIHtcbiAgICAgICAgbGV0IGZpcnN0ID0gbnVsbFxuICAgICAgICBsZXQgbGFzdCA9IG51bGxcbiAgICAgICAgbGV0IHZpc2libGVGaXJzdCA9IG51bGxcbiAgICAgICAgbGV0IHZpc2libGVMYXN0ID0gbnVsbFxuICAgICAgICBsZXQgdW5pdHMgPSAwXG4gICAgICAgIGZvcihsZXQge3N0YXJ0LCBlbmR9IG9mIHRoaXMuaXRlclJhbmdlcyhpbmZvKSkge1xuICAgICAgICAgICAgaWYgKHRpbWVsaW5lLnZpc2libGVSYW5nZShzdGFydCwgZW5kKSkge1xuICAgICAgICAgICAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gc3RhcnRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdCA9IGVuZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWVsaW5lLnZpc2libGVEYXRlKHN0YXJ0KSAmJiB0aW1lbGluZS52aXNpYmxlRGF0ZShlbmQpKSB7XG4gICAgICAgICAgICAgICAgdW5pdHMgKz0gMVxuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlRmlyc3QgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlRmlyc3QgPSBzdGFydFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2aXNpYmxlTGFzdCA9IGVuZFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaXJzdCA9PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIGluZm9cbiAgICAgICAgcmV0dXJuIHtzdGFydDogZmlyc3QsIGVuZDogbGFzdCwgdmlzaWJsZVN0YXJ0OiB2aXNpYmxlRmlyc3QsIHZpc2libGVFbmQ6IHZpc2libGVMYXN0LCB1bml0czogdW5pdHN9XG4gICAgfVxuXG4gICAgZHJhd1RpY2sodGltZWxpbmUsIHgsIHksIGRhdGUpIHtcbiAgICAgICAgbGV0IHZpc2libGUgPSBkYXRlID4gdGltZWxpbmUuc3RhcnQgJiYgZGF0ZSA8IHRpbWVsaW5lLmVuZFxuICAgICAgICBpZiAoIXZpc2libGUpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgdGltZWxpbmUuZHJhd1RpY2soeClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG5cbiAgICB0b0xvY2FsZVN0cmluZyhkYXRlLCBmb3JtYXQpIHtcbiAgICAgICAgcmV0dXJuIGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdkZScsIGZvcm1hdClcbiAgICB9XG5cbiAgICBkcmF3KHRpbWVsaW5lLCByYW5nZSwgd2lkdGgsIGhlaWdodCwgYXZhaWxhYmxlLCBmb3JtYXQsIG5leHRGb3JtYXQsIGxldmVsKSB7XG4gICAgICAgIGxldCBmaXJzdCA9IG51bGxcbiAgICAgICAgbGV0IGxhc3QgPSBudWxsXG4gICAgICAgIGxldCBrZXllZEZvcm1hdCA9IChmb3JtYXQpID8gZm9ybWF0W3RoaXMuZm9ybWF0S2V5XSA6IG51bGxcbiAgICAgICAgbGV0IGtleWVkTmV4dEZvcm1hdCA9IChuZXh0Rm9ybWF0KSA/IG5leHRGb3JtYXRbdGhpcy5mb3JtYXRLZXldIDogbnVsbFxuICAgICAgICBsZXQgcmVkdW5kYW50ID0gKG5leHRGb3JtYXQpID8gdGhpcy5mb3JtYXRLZXkgaW4gbmV4dEZvcm1hdCA6IGZhbHNlXG4gICAgICAgIGxldCBmdWxseVJlZHVuZGFudCA9IGtleWVkRm9ybWF0ICE9IG51bGwgJiYgIGtleWVkRm9ybWF0ID09IGtleWVkTmV4dEZvcm1hdFxuICAgICAgICBsZXQgeSA9IHRpbWVsaW5lLmdldFkoKVxuXG4gICAgICAgIGZvcihsZXQge3N0YXJ0LCBlbmR9IG9mIHRoaXMuaXRlclJhbmdlcyhyYW5nZSkpIHtcbiAgICAgICAgICAgIGxldCB4ID0gdGltZWxpbmUudG9YKHN0YXJ0KVxuICAgICAgICAgICAgbGV0IHh4ID0geFxuICAgICAgICAgICAgbGV0IHl5ID0geSArIHRpbWVsaW5lLnRpY2tMYWJlbE9mZnNldCgtMSlcbiAgICAgICAgICAgIGlmICh0aGlzLmRyYXdUaWNrKHRpbWVsaW5lLCB4LCB5LCBzdGFydCkgJiYgZm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleSA9IHRoaXMuZGF0ZUtleShzdGFydClcbiAgICAgICAgICAgICAgICBsZXQgdGV4dCA9IHRoaXMudG9Mb2NhbGVTdHJpbmcoc3RhcnQsIGZvcm1hdClcbiAgICAgICAgICAgICAgICBsZXQgYWxpZ24gPSAnY2VudGVyJ1xuICAgICAgICAgICAgICAgIGxldCBkb3duVGljayA9IGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKG5leHRGb3JtYXQpIHtcbiAgICAgICAgICAgICAgICAgICAgeXkgPSB5ICsgdGltZWxpbmUudGlja0xhYmVsT2Zmc2V0KC0xLCAxKVxuICAgICAgICAgICAgICAgICAgICBhbGlnbiA9ICdsZWZ0J1xuICAgICAgICAgICAgICAgICAgICB0aW1lbGluZS5kcmF3VGljayh4LCA0LjIpXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0WCA9IHRpbWVsaW5lLnRvWChlbmQpIC0gMTAwXG4gICAgICAgICAgICAgICAgICAgIGlmICh4IDwgMCAmJiBuZXh0WCA+IC0xMDAgJiYgIXJlZHVuZGFudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgeHggPSBNYXRoLm1pbig0LCBuZXh0WClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHh4IC09IDJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkb3duVGljayA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGV2ZWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHh4ID0geCArIGF2YWlsYWJsZS8yXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkb3duVGljayA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFmdWxseVJlZHVuZGFudCkge1xuICAgICAgICAgICAgICAgICAgICB0aW1lbGluZS5lbnN1cmVMYWJlbChrZXksIHRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgeDogeHgsIHk6IHl5LCBhbGlnbjogYWxpZ24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRm9udEluZm8uc21hbGwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb3duVGljaykgdGltZWxpbmUuZHJhd1RpY2soeCwgLTEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZWxpbmUudmlzaWJsZVJhbmdlKHN0YXJ0LCBlbmQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0ID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gc3RhcnRcbiAgICAgICAgICAgICAgICBsYXN0ID0gZW5kXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpcnN0ID09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICByZXR1cm4ge3N0YXJ0OiBmaXJzdCwgZW5kOiBsYXN0fVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERlY2FkZVRpY2tzIGV4dGVuZHMgVGlja3Mge1xuXG4gICAgZ2V0IG1pbGxpc2Vjb25kcygpIHtcbiAgICAgICAgcmV0dXJuIDEwICogMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgIH1cblxuICAgIGZvcm1hdChhdmFpbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHt5ZWFyOiAnbnVtZXJpYycsIHRpbWVab25lOiAnVVRDJ31cbiAgICB9XG5cbiAgICBzZWxlY3Rpb24odGltZWxpbmUsIGRhdGVzLCBzZWxlY3RlZCkge1xuICAgICAgICByZXR1cm4gZGF0ZXNcbiAgICB9XG5cbiAgICBnZXQga2V5KCkge1xuICAgICAgICByZXR1cm4gJ2RlY2FkZSdcbiAgICB9XG5cbiAgICBnZXQgZm9ybWF0S2V5KCkge1xuICAgICAgICByZXR1cm4gJ3llYXInXG4gICAgfVxuXG4gICAgaXRlclN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIGxldCBtb2R1bG8gPSBzdGFydC5nZXRGdWxsWWVhcigpICUgMTBcbiAgICAgICAgbGV0IHllYXIgPSBzdGFydC5nZXRGdWxsWWVhcigpIC0gbW9kdWxvXG4gICAgICAgIHJldHVybiBEYXRlcy5jcmVhdGUoeWVhciwgMCwgMSlcbiAgICB9XG5cbiAgICBuZXh0KGRlY2FkZSkge1xuICAgICAgICByZXR1cm4gRGF0ZXMubmV4dFllYXIoZGVjYWRlLCAxMClcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBZZWFyVGlja3MgZXh0ZW5kcyBUaWNrcyB7XG5cbiAgICBnZXQgbWlsbGlzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gMzY1ICogMjQgKiA2MCAqIDYwICogMTAwMFxuICAgIH1cblxuICAgIGZvcm1hdChhdmFpbGFibGUpIHtcbiAgICAgICAgaWYgKGF2YWlsYWJsZSA8IDQ0KVxuICAgICAgICAgICAgcmV0dXJuIHt5ZWFyOiAnMi1kaWdpdCcsIHRpbWVab25lOiAnVVRDJ31cbiAgICAgICAgcmV0dXJuIHt5ZWFyOiAnbnVtZXJpYycsIHRpbWVab25lOiAnVVRDJ31cbiAgICB9XG5cbiAgICBnZXQgbWluTGFiZWxXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIDIyXG4gICAgfVxuXG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgcmV0dXJuICd5ZWFyJ1xuICAgIH1cblxuICAgIGl0ZXJTdGFydChzdGFydCkge1xuICAgICAgICByZXR1cm4gRGF0ZXMuY3JlYXRlKHN0YXJ0LmdldEZ1bGxZZWFyKCksIDAsIDEpXG4gICAgfVxuXG4gICAgbmV4dCh5ZWFyKSB7XG4gICAgICAgIHJldHVybiBEYXRlcy5uZXh0WWVhcih5ZWFyKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1vbnRoVGlja3MgZXh0ZW5kcyBUaWNrcyB7XG5cbiAgICBnZXQgbWlsbGlzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gKDM2NSAvIDEyKSAqIDI0ICogNjAgKiA2MCAqIDEwMDBcbiAgICB9XG5cbiAgICBmb3JtYXQoYXZhaWxhYmxlKSB7XG4gICAgICAgIGxldCBmb3JtYXQgPSB7bW9udGg6ICduYXJyb3cnLCB0aW1lWm9uZTogJ1VUQyd9XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiA0NClcbiAgICAgICAgICAgIGZvcm1hdC5tb250aCA9ICdzaG9ydCdcbiAgICAgICAgaWYgKGF2YWlsYWJsZSA+IDY2KVxuICAgICAgICAgICAgZm9ybWF0LnllYXIgPSAnMi1kaWdpdCdcbiAgICAgICAgaWYgKGF2YWlsYWJsZSA+IDEwMCkge1xuICAgICAgICAgICAgZm9ybWF0Lm1vbnRoID0gJ2xvbmcnXG4gICAgICAgICAgICBmb3JtYXQueWVhciA9ICdudW1lcmljJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXRcbiAgICB9XG5cbiAgICBnZXQgbWluTGFiZWxXaWR0aCgpIHtcbiAgICAgICAgcmV0dXJuIDMyXG4gICAgfVxuXG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgcmV0dXJuICdtb250aCdcbiAgICB9XG5cbiAgICBkYXRlS2V5KGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ICsgZGF0ZS5nZXRGdWxsWWVhcigpICsgZGF0ZS5nZXRNb250aCgpXG4gICAgfVxuXG4gICAgaXRlclN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBEYXRlcy5jcmVhdGUoc3RhcnQuZ2V0RnVsbFllYXIoKSwgc3RhcnQuZ2V0TW9udGgoKSwgMSlcbiAgICB9XG5cbiAgICBuZXh0KG1vbnRoKSB7XG4gICAgICAgIHJldHVybiBEYXRlcy5uZXh0TW9udGgobW9udGgpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGF5VGlja3MgZXh0ZW5kcyBUaWNrcyB7XG5cbiAgICBnZXQgbWlsbGlzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gMjQgKiA2MCAqIDYwICogMTAwMFxuICAgIH1cblxuICAgIGZvcm1hdChhdmFpbGFibGUpIHtcbiAgICAgICAgbGV0IGZvcm1hdCA9IHtkYXk6ICdudW1lcmljJywgdGltZVpvbmU6ICdVVEMnfVxuICAgICAgICBpZiAoYXZhaWxhYmxlID4gNDQpXG4gICAgICAgICAgICBmb3JtYXQubW9udGggPSAnc2hvcnQnXG4gICAgICAgIGlmIChhdmFpbGFibGUgPiAxMDApIHtcbiAgICAgICAgICAgIGZvcm1hdC5tb250aCA9ICdsb25nJ1xuICAgICAgICAgICAgZm9ybWF0LnllYXIgPSAnMi1kaWdpdCdcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlID4gMTUwKSB7XG4gICAgICAgICAgICBmb3JtYXQud2Vla2RheSA9ICdzaG9ydCdcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlID4gMjAwKSB7XG4gICAgICAgICAgICBmb3JtYXQueWVhciA9ICdudW1lcmljJ1xuICAgICAgICAgICAgZm9ybWF0LndlZWtkYXkgPSAnbG9uZydcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0XG4gICAgfVxuXG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgcmV0dXJuICdkYXknXG4gICAgfVxuXG4gICAgZGF0ZUtleShkYXRlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleSArIGRhdGUuZ2V0RnVsbFllYXIoKSArIGRhdGUuZ2V0TW9udGgoKSArIGRhdGUuZ2V0RGF0ZSgpXG4gICAgfVxuXG4gICAgaXRlclN0YXJ0KHN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBEYXRlcy5jcmVhdGUoc3RhcnQuZ2V0RnVsbFllYXIoKSwgc3RhcnQuZ2V0TW9udGgoKSwgc3RhcnQuZ2V0RGF0ZSgpKVxuICAgIH1cblxuICAgIG5leHQoZGF0ZSkge1xuICAgICAgICByZXR1cm4gRGF0ZXMubmV4dERheShkYXRlKVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEhvdXJUaWNrcyBleHRlbmRzIFRpY2tzIHtcblxuICAgIGdldCBtaWxsaXNlY29uZHMoKSB7XG4gICAgICAgIHJldHVybiA2MCAqIDYwICogMTAwMFxuICAgIH1cblxuICAgIGZvcm1hdChhdmFpbGFibGUpIHtcbiAgICAgICAgbGV0IGZvcm1hdCA9IHt9XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiA0NCkge1xuICAgICAgICAgICAgZm9ybWF0LmhvdXIgPSAnMi1kaWdpdCdcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlID4gMTAwKSB7XG4gICAgICAgICAgICBmb3JtYXQuZGF5ID0gJzItZGlnaXQnXG4gICAgICAgICAgICBmb3JtYXQubW9udGggPSAnMi1kaWdpdCdcbiAgICAgICAgICAgIGZvcm1hdC55ZWFyID0gJzItZGlnaXQnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF2YWlsYWJsZSA+IDE1MCkge1xuICAgICAgICAgICAgZm9ybWF0LndlZWtkYXkgPSAnc2hvcnQnXG4gICAgICAgICAgICBmb3JtYXQubW9udGggPSAnc2hvcnQnXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF2YWlsYWJsZSA+IDIwMCkge1xuICAgICAgICAgICAgZm9ybWF0LmRheSA9ICdudW1lcmljJ1xuICAgICAgICAgICAgZm9ybWF0LnllYXIgPSAnbnVtZXJpYydcbiAgICAgICAgICAgIGZvcm1hdC5tb250aCA9ICdsb25nJ1xuICAgICAgICAgICAgZm9ybWF0LndlZWtkYXkgPSAnbG9uZydcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybWF0XG4gICAgfVxuXG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgcmV0dXJuICdob3VyJ1xuICAgIH1cblxuICAgIGRhdGVLZXkoZGF0ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXkgKyBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGF0ZS5nZXRNb250aCgpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGRhdGUuZ2V0RGF0ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGRhdGUuZ2V0SG91cnMoKVxuICAgIH1cblxuICAgIGl0ZXJTdGFydChzdGFydCkge1xuICAgICAgICByZXR1cm4gRGF0ZXMuY3JlYXRlKHN0YXJ0LmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQuZ2V0TW9udGgoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydC5nZXREYXRlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQuZ2V0SG91cnMoKSlcbiAgICB9XG5cbiAgICBuZXh0KGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIERhdGVzLm5leHRIb3VyKGRhdGUpXG4gICAgfVxuXG4gICAgdG9Mb2NhbGVTdHJpbmcoZGF0ZSwgZm9ybWF0KSB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvTG9jYWxlVGltZVN0cmluZygnZGUnLCBmb3JtYXQpXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTWludXRlVGlja3MgZXh0ZW5kcyBUaWNrcyB7XG5cbiAgICBnZXQgbWlsbGlzZWNvbmRzKCkge1xuICAgICAgICByZXR1cm4gNjAgKiAxMDAwXG4gICAgfVxuXG4gICAgZm9ybWF0KGF2YWlsYWJsZSkge1xuICAgICAgICBsZXQgZm9ybWF0ID0ge21pbnV0ZTogJ251bWVyaWMnLCB0aW1lWm9uZTogJ1VUQyd9XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiA0NCkge1xuICAgICAgICAgICAgZm9ybWF0LmhvdXIgPSAnbnVtZXJpYydcbiAgICAgICAgICAgIGZvcm1hdC5taW51dGUgPSAnbnVtZXJpYydcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXZhaWxhYmxlID4gMTAwKSB7XG4gICAgICAgICAgICBmb3JtYXQubW9udGggPSAnc2hvcnQnXG4gICAgICAgICAgICBmb3JtYXQueWVhciA9ICcyLWRpZ2l0J1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiAxNTApIHtcbiAgICAgICAgICAgIGZvcm1hdC53ZWVrZGF5ID0gJ3Nob3J0J1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdmFpbGFibGUgPiAyMDApIHtcbiAgICAgICAgICAgIGZvcm1hdC55ZWFyID0gJ251bWVyaWMnXG4gICAgICAgICAgICBmb3JtYXQud2Vla2RheSA9ICdsb25nJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmb3JtYXRcbiAgICB9XG5cbiAgICBnZXQga2V5KCkge1xuICAgICAgICByZXR1cm4gJ21pbnV0ZSdcbiAgICB9XG5cbiAgICBkYXRlS2V5KGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ICsgZGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgICAgICAgICAgICAgICAgICArIGRhdGUuZ2V0TW9udGgoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBkYXRlLmdldERhdGUoKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBkYXRlLmdldEhvdXJzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICsgZGF0ZS5nZXRNaW51dGVzKClcbiAgICB9XG5cbiAgICBpdGVyU3RhcnQoc3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIERhdGVzLmNyZWF0ZShzdGFydC5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQuZ2V0RGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LmdldEhvdXJzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQuZ2V0TWludXRlcygpKVxuICAgIH1cblxuICAgIG5leHQoZGF0ZSkge1xuICAgICAgICByZXR1cm4gRGF0ZXMubmV4dE1pbnV0ZShkYXRlKVxuICAgIH1cblxuICAgIHRvTG9jYWxlU3RyaW5nKGRhdGUsIGZvcm1hdCkge1xuICAgICAgICByZXR1cm4gZGF0ZS50b0xvY2FsZVRpbWVTdHJpbmcoJ2RlJywgZm9ybWF0KVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRpbWVUaWNrcyB7XG5cbiAgICBjb25zdHJ1Y3RvciguLi50aWNrcykge1xuICAgICAgICB0aGlzLnRpY2tzID0gdGlja3NcbiAgICB9XG5cbiAgICBzZWxlY3RlZFJhbmdlKHRpbWVsaW5lKSB7XG4gICAgICAgIGxldCBpbmZvID0ge3N0YXJ0OiB0aW1lbGluZS5zdGFydCwgZW5kOiB0aW1lbGluZS5lbmQsIHVuaXRzOiAwIH1cbiAgICAgICAgZm9yKGxldCB0aWNrcyBvZiB0aGlzLnRpY2tzKSB7XG4gICAgICAgICAgICBpbmZvID0gdGlja3Muc2VsZWN0ZWRSYW5nZSh0aW1lbGluZSwgaW5mbylcbiAgICAgICAgICAgIGlmIChpbmZvLnVuaXRzID4gMSkge1xuICAgICAgICAgICAgICAgIHRpbWVsaW5lLnNlbGVjdGlvbiA9IFtpbmZvLnZpc2libGVTdGFydCwgaW5mby52aXNpYmxlRW5kXVxuICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRpbWVsaW5lLnNlbGVjdGlvbiA9IFtpbmZvLnN0YXJ0LCBpbmZvLmVuZF1cbiAgICB9XG5cbiAgICBkcmF3KHRpbWVsaW5lLCB3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGxldCByYW5nZSA9IHRpbWVsaW5lXG4gICAgICAgIGxldCBzdGFydCA9IHRpbWVsaW5lLnRvWChyYW5nZS5zdGFydClcbiAgICAgICAgbGV0IGVuZCA9IHRpbWVsaW5lLnRvWChyYW5nZS5lbmQpXG4gICAgICAgIGxldCBzaXplID0gZW5kIC0gc3RhcnRcbiAgICAgICAgbGV0IGR1cmF0aW9uID0gdGltZWxpbmUuZW5kIC0gdGltZWxpbmUuc3RhcnRcbiAgICAgICAgbGV0IGZvcm1hdHMgPSBuZXcgTWFwKClcbiAgICAgICAgbGV0IG5leHRGb3JtYXRzID0gbmV3IE1hcCgpXG4gICAgICAgIGxldCBhdmFpbGFibGVzID0gbmV3IE1hcCgpXG4gICAgICAgIGxldCBwcmV2aW91cyA9IG51bGxcbiAgICAgICAgbGV0IHZpc2libGUgPSBbXVxuICAgICAgICBmb3IobGV0IHRpY2tzIG9mIHRoaXMudGlja3MpIHtcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSB0aWNrcy5taWxsaXNlY29uZHMgLyBkdXJhdGlvblxuICAgICAgICAgICAgbGV0IGF2YWlsYWJsZSA9IGFtb3VudCAqIHNpemVcbiAgICAgICAgICAgIGF2YWlsYWJsZXMuc2V0KHRpY2tzLCBhdmFpbGFibGUpXG4gICAgICAgICAgICBpZiAoYXZhaWxhYmxlIDwgdGlja3MubWluV2lkdGgpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGZvcm1hdHMuc2V0KHRpY2tzLCAoYXZhaWxhYmxlIDwgdGlja3MubWluTGFiZWxXaWR0aCkgPyBudWxsIDogdGlja3MuZm9ybWF0KGF2YWlsYWJsZSkpXG4gICAgICAgICAgICBuZXh0Rm9ybWF0cy5zZXQocHJldmlvdXMsIGZvcm1hdHMuZ2V0KHRpY2tzKSlcbiAgICAgICAgICAgIHByZXZpb3VzID0gdGlja3NcbiAgICAgICAgICAgIHZpc2libGUucHVzaCh0aWNrcylcbiAgICAgICAgfVxuICAgICAgICBsZXQgbGV2ZWwgPSAwXG4gICAgICAgIGZvcihsZXQgdGlja3Mgb2YgdmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKHJhbmdlID09IG51bGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICByYW5nZSA9IHRpY2tzLmRyYXcodGltZWxpbmUsIHJhbmdlLCB3aWR0aCwgaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmxlcy5nZXQodGlja3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0cy5nZXQodGlja3MpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEZvcm1hdHMuZ2V0KHRpY2tzKSwgbGV2ZWwpXG4gICAgICAgICAgICBsZXZlbCArPSAxXG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDb2xvclJhbmdlcyB7XG5cbiAgICBjb25zdHJ1Y3RvcihsYWJlbCwgY29sb3IsIHJhbmdlcykge1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWxcbiAgICAgICAgdGhpcy5jb2xvciA9IGNvbG9yXG4gICAgICAgIHRoaXMucmFuZ2VzID0gcmFuZ2VzXG4gICAgfVxuXG4gICAgZHJhdyh0aW1lbGluZSwgd2lkdGgsIGhlaWdodCwgc2l6ZT0xMikge1xuICAgICAgICBsZXQgbWluaW11bSA9IDEgLyBDYXBhYmlsaXRpZXMuZGV2aWNlUGl4ZWxSYXRpb1xuICAgICAgICBsZXQgaDIgPSBzaXplXG4gICAgICAgIHRpbWVsaW5lLmxpbmVTdHlsZShzaXplLCB0aGlzLmNvbG9yKVxuICAgICAgICBmb3IobGV0IHJhbmdlIG9mIHRoaXMucmFuZ2VzKSB7XG4gICAgICAgICAgICBpZiAocmFuZ2UudG8gPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByYW5nZS50byA9IERhdGVzLm5leHREYXkocmFuZ2UuZnJvbSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzdGFydCA9IHRpbWVsaW5lLnRvWChyYW5nZS5mcm9tKVxuICAgICAgICAgICAgbGV0IGVuZCA9IHRpbWVsaW5lLnRvWChyYW5nZS50bylcbiAgICAgICAgICAgIGlmIChlbmQgPCBzdGFydCArIG1pbmltdW0pIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBzdGFydCArIG1pbmltdW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpbWVsaW5lLm1vdmVUbyhzdGFydCwgaDIpXG4gICAgICAgICAgICB0aW1lbGluZS5saW5lVG8oZW5kLCBoMilcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGltZWxpbmUgZXh0ZW5kcyBMYWJlbGVkR3JhcGhpY3Mge1xuXG4gICAgY29uc3RydWN0b3Iod2lkdGgsIGhlaWdodCwge3RpY2tzPW51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VMaW5lPTAuNSwgc2hvd1JhbmdlPXRydWV9ID0ge30pIHtcbiAgICAgICAgc3VwZXIoKVxuICAgICAgICB0aGlzLndhbnRlZFdpZHRoID0gd2lkdGhcbiAgICAgICAgdGhpcy53YW50ZWRIZWlnaHQgPSBoZWlnaHRcbiAgICAgICAgdGhpcy5leHRyYUxlZnQgPSAwXG4gICAgICAgIHRoaXMuZXh0cmFSaWdodCA9IDBcbiAgICAgICAgdGhpcy5pbnNldCA9IDVcbiAgICAgICAgdGhpcy5zaG93UmFuZ2UgPSBzaG93UmFuZ2VcbiAgICAgICAgdGhpcy5iYXNlTGluZSA9IGJhc2VMaW5lXG4gICAgICAgIHRoaXMudGlja0hlaWdodCA9IDRcbiAgICAgICAgdGhpcy56b29tID0gMVxuICAgICAgICB0aGlzLm1pblpvb20gPSAxXG4gICAgICAgIHRoaXMubWF4Wm9vbSA9IDEyMDAwXG4gICAgICAgIHRoaXMuc2Nyb2xsID0gMFxuICAgICAgICB0aGlzLmRlbHRhcyA9IFtdXG4gICAgICAgIHRoaXMubGFiZWxEYXRlcyA9IFtdXG4gICAgICAgIHRoaXMuY29sb3JSYW5nZXMgPSBbXVxuICAgICAgICB0aGlzLnJhbmdlQ29sb3JzID0gbmV3IEN5Y2xlKENvbG9ycy5lbWluZW5jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcnMuc3RlZWxibHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbG9ycy5vY2hyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb2xvcnMudHVycXVvaXNlKVxuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IFtdXG4gICAgICAgIHRoaXMucHJvZ3Jlc3MgPSBudWxsXG4gICAgICAgIHRoaXMuc3RhcnQgPSBudWxsXG4gICAgICAgIHRoaXMuZW5kID0gbnVsbFxuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IG51bGxcbiAgICAgICAgdGhpcy5hdXRvU2Nyb2xsID0gZmFsc2VcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSAtMVxuICAgICAgICB0aGlzLnRpbWV0aWNrcyA9IHRpY2tzIHx8IG5ldyBUaW1lVGlja3MobmV3IERlY2FkZVRpY2tzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgWWVhclRpY2tzKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgTW9udGhUaWNrcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERheVRpY2tzKCkpXG4gICAgICAgIHRoaXMubGFiZWxQcmVmaXggPSAnX18nXG4gICAgfVxuXG4gICAgdXBkYXRlU2VsZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy52aXNpYmxlRGF0ZSh0aGlzLnN0YXJ0KSAmJiB0aGlzLnZpc2libGVEYXRlKHRoaXMuZW5kKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24gPSBbdGhpcy5zdGFydCwgdGhpcy5lbmRdXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRpbWV0aWNrcy5zZWxlY3RlZFJhbmdlKHRoaXMpXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3Rpb25cbiAgICB9XG5cbiAgICBhZGRDYWxsYmFjayhjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKVxuICAgIH1cblxuICAgIGFkZExhYmVscyhsYWJlbHMpIHtcbiAgICAgICAgdGhpcy5sYWJlbERhdGVzID0gbGFiZWxzXG4gICAgfVxuXG4gICAgcmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICB0aGlzLnN0YXJ0ID0gc3RhcnRcbiAgICAgICAgdGhpcy5lbmQgPSBlbmRcbiAgICB9XG5cbiAgICBkcmF3KHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53YW50ZWRXaWR0aCA9IHdpZHRoXG4gICAgICAgIHRoaXMud2FudGVkSGVpZ2h0ID0gaGVpZ2h0XG4gICAgICAgIHRoaXMucmVkcmF3KClcbiAgICB9XG5cbiAgICB1cGRhdGVDb2xvclJhbmdlcyh3LCBoKSB7XG4gICAgICAgIGxldCB4eCA9IHcgLSB0aGlzLmluc2V0XG4gICAgICAgIGxldCBzaXplID0gRm9udEluZm8uc21hbGwuZm9udFNpemVcbiAgICAgICAgbGV0IHl5ID0gaCAtIHNpemVcbiAgICAgICAgZm9yKGxldCBpPXRoaXMuY29sb3JSYW5nZXMubGVuZ3RoLTE7IGk+PTA7IGktLSkge1xuICAgICAgICAgICAgbGV0IGNyID0gdGhpcy5jb2xvclJhbmdlc1tpXVxuICAgICAgICAgICAgbGV0IGxhYmVsID0gY3IubGFiZWxcbiAgICAgICAgICAgIGNyLmRyYXcodGhpcywgdywgaClcbiAgICAgICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5lbnN1cmVMYWJlbCgnY29sb3JSYW5nZTonICsgbGFiZWwsIGxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IHg6IHh4LCB5OiB5eSwgYWxpZ246ICdyaWdodCd9LCBGb250SW5mby5zbWFsbClcbiAgICAgICAgICAgIGxldCByID0gY3VycmVudC5nZXRCb3VuZHMoKVxuICAgICAgICAgICAgeHggLT0gci53aWR0aCArIDE2XG5cbiAgICAgICAgICAgIHRoaXMubGluZVN0eWxlKHNpemUsIGNyLmNvbG9yKVxuICAgICAgICAgICAgdGhpcy5tb3ZlVG8oeHgsIHl5KVxuICAgICAgICAgICAgdGhpcy5saW5lVG8oeHgrc2l6ZSwgeXkpXG4gICAgICAgICAgICB4eCAtPSBzaXplICsgNFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhd1NlbGVjdGVkUmFtZ2Uoc2VsZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5saW5lU3R5bGUoMiwgYXBwLnRoZW1lLnByaW1hcnlDb2xvcilcbiAgICAgICAgbGV0IHN0YXJ0ID0gdGhpcy50b1goc2VsZWN0ZWRbMF0pXG4gICAgICAgIGxldCBlbmQgPSB0aGlzLnRvWChzZWxlY3RlZFsxXSlcbiAgICAgICAgdGhpcy5tb3ZlVG8oc3RhcnQsIDApXG4gICAgICAgIHRoaXMubGluZVRvKGVuZCwgMClcbiAgICAgICAgdGhpcy5kcmF3VGljayhzdGFydCwgLTEuNSwgMClcbiAgICAgICAgdGhpcy5kcmF3VGljayhlbmQsIC0xLjUsIDApXG4gICAgfVxuXG4gICAgcmVkcmF3KCkge1xuICAgICAgICB0aGlzLmNsZWFyKClcbiAgICAgICAgbGV0IGggPSB0aGlzLndhbnRlZEhlaWdodFxuICAgICAgICBsZXQgdyA9IHRoaXMud2FudGVkV2lkdGhcbiAgICAgICAgbGV0IHkgPSB0aGlzLmdldFkoKVxuICAgICAgICB0aGlzLnByZXBhcmVMYWJlbHMoKVxuICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yUmFuZ2VzKHcsIGgpXG5cbiAgICAgICAgdGhpcy5saW5lU3R5bGUoMiwgMHhGRkZGRkYpXG4gICAgICAgIGlmICh0aGlzLnN0YXJ0ICE9IG51bGwgJiYgdGhpcy5lbmQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5tb3ZlVG8odGhpcy50b1godGhpcy5zdGFydCksIHkpXG4gICAgICAgICAgICB0aGlzLmxpbmVUbyh0aGlzLnRvWCh0aGlzLmVuZCksIHkpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRpY2tzQW5kTGFiZWxzKHcsIGgpXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVNlbGVjdGlvbigpXG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGlvblxuICAgICAgICAgICAgaWYgKHNlbGVjdGVkWzBdICE9IHRoaXMuc3RhcnQgJiYgc2VsZWN0ZWRbMV0gIT0gdGhpcy5lbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zaG93UmFuZ2UpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd1NlbGVjdGVkUmFtZ2Uoc2VsZWN0ZWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IobGV0IGNhbGxiYWNrIG9mIHRoaXMuY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sodGhpcy5zY3JvbGwsIHRoaXMuem9vbSwgdGhpcy5zZWxlY3Rpb24pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh0aGlzLmluc2V0LCB5KVxuICAgICAgICAgICAgdGhpcy5saW5lVG8ody10aGlzLmluc2V0LCB5KVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgIT0gbnVsbCAmJiB0aGlzLnByb2dyZXNzIDwgMSkge1xuICAgICAgICAgICAgdGhpcy5saW5lU3R5bGUoMiwgMHhDQ0NDRkYpXG4gICAgICAgICAgICB0aGlzLm1vdmVUbyh0aGlzLmluc2V0LCB5KVxuICAgICAgICAgICAgdGhpcy5saW5lVG8oKHctdGhpcy5pbnNldCkgKiB0aGlzLnByb2dyZXNzLCB5KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG90YWxXaWR0aChib3VuZGVkPWZhbHNlKSB7XG4gICAgICAgIGxldCB3ID0gdGhpcy53YW50ZWRXaWR0aCAtICgyICogdGhpcy5pbnNldClcbiAgICAgICAgcmV0dXJuIHcgKiB0aGlzLnZhbGlkWm9vbSh0aGlzLnpvb20sIGJvdW5kZWQpXG4gICAgfVxuXG4gICAgdmFsaWRab29tKHpvb20sIGJvdW5kZWQ9dHJ1ZSkge1xuICAgICAgICBsZXQgb3ZlcnNob290ID0gKGJvdW5kZWQpID8gMS4wIDogMi4wXG4gICAgICAgIHpvb20gPSBNYXRoLm1heCh6b29tLCB0aGlzLm1pblpvb20gLyBvdmVyc2hvb3QpXG4gICAgICAgIHpvb20gPSBNYXRoLm1pbih6b29tLCB0aGlzLm1heFpvb20gKiBvdmVyc2hvb3QpXG4gICAgICAgIHJldHVybiB6b29tXG4gICAgfVxuXG4gICAgZ2V0WSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2FudGVkSGVpZ2h0ICogdGhpcy5iYXNlTGluZVxuICAgIH1cblxuICAgIHRvWChkYXRlKSB7XG4gICAgICAgIGxldCB0b3RhbCA9IHRoaXMuZW5kIC0gdGhpcy5zdGFydFxuICAgICAgICBsZXQgb2Zmc2V0ID0gdGhpcy5pbnNldCArIHRoaXMuc2Nyb2xsXG4gICAgICAgIGxldCB3aWR0aCA9IHRoaXMudG90YWxXaWR0aCgpXG4gICAgICAgIGxldCBkZWx0YSA9IGRhdGUgLSB0aGlzLnN0YXJ0XG4gICAgICAgIGxldCByYXRpbyA9IGRlbHRhIC8gdG90YWxcbiAgICAgICAgcmV0dXJuIG9mZnNldCArIHJhdGlvICogd2lkdGhcbiAgICB9XG5cbiAgICBmcm9tWCh2YWx1ZSkge1xuICAgICAgICBsZXQgdG90YWwgPSB0aGlzLmVuZCAtIHRoaXMuc3RhcnRcbiAgICAgICAgbGV0IG9mZnNldCA9IHRoaXMuaW5zZXQgKyB0aGlzLnNjcm9sbFxuICAgICAgICBsZXQgd2lkdGggPSB0aGlzLnRvdGFsV2lkdGgoKVxuICAgICAgICBsZXQgcmF0aW8gPSAodmFsdWUgLSBvZmZzZXQpIC8gd2lkdGhcbiAgICAgICAgbGV0IHRpbWUgPSB0aGlzLnN0YXJ0LmdldFRpbWUoKSArIHRvdGFsICogcmF0aW9cbiAgICAgICAgbGV0IGRhdGUgPSBuZXcgRGF0ZSh0aW1lKVxuICAgICAgICByZXR1cm4gZGF0ZVxuICAgIH1cblxuICAgIGRyYXdUaWNrKHgsIGRpcmVjdGlvbj0xLCB5PW51bGwpIHtcbiAgICAgICAgaWYgKHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgeSA9IHRoaXMuZ2V0WSgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb3ZlVG8oeCwgeSlcbiAgICAgICAgdGhpcy5saW5lVG8oeCwgeSAtICh0aGlzLnRpY2tIZWlnaHQgKiBkaXJlY3Rpb24gKiB0aGlzLmRpcmVjdGlvbikpXG4gICAgfVxuXG4gICAgcHJlcGFyZUxhYmVscygpIHtcbiAgICAgICAgZm9yKGxldCBrZXkgb2YgdGhpcy5sYWJlbHMua2V5cygpKSB7XG4gICAgICAgICAgICBpZiAoIWtleS5zdGFydHNXaXRoKHRoaXMubGFiZWxQcmVmaXgpKVxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWxzLmdldChrZXkpLnZpc2libGUgPSBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlVGlja3NBbmRMYWJlbHMod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLmRyYXdUaWNrKHRoaXMudG9YKHRoaXMuc3RhcnQpKVxuICAgICAgICB0aGlzLmRyYXdUaWNrKHRoaXMudG9YKHRoaXMuZW5kKSlcbiAgICAgICAgdGhpcy50aW1ldGlja3MuZHJhdyh0aGlzLCB3aWR0aCwgaGVpZ2h0KVxuICAgICAgICB0aGlzLnVwZGF0ZUxhYmVscyh3aWR0aCwgaGVpZ2h0KVxuICAgIH1cblxuICAgIHZpc2libGVEYXRlKGRhdGUsIG9mZnNldD0wKSB7XG4gICAgICAgIGlmIChkYXRlID49IHRoaXMuc3RhcnQgJiYgZGF0ZSA8PSB0aGlzLmVuZCkge1xuICAgICAgICAgICAgbGV0IHggPSB0aGlzLnRvWChkYXRlKSArIG9mZnNldFxuICAgICAgICAgICAgcmV0dXJuICh4ID4gMCAmJiB4IDwgdGhpcy53YW50ZWRXaWR0aClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICB2aXNpYmxlUmFuZ2Uoc3RhcnQsIGVuZCkge1xuICAgICAgICBsZXQgeCA9IHRoaXMudG9YKHN0YXJ0KVxuICAgICAgICBpZiAoeCA+IHRoaXMud2FudGVkV2lkdGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgeCA9IHRoaXMudG9YKGVuZClcbiAgICAgICAgaWYgKHggPCAwKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgdGlja0xhYmVsT2Zmc2V0KGRpcmVjdGlvbj0xLCBsZXZlbD0wKSB7XG4gICAgICAgIGxldCBmcyA9IEZvbnRJbmZvLnNtYWxsLmZvbnRTaXplXG4gICAgICAgIGxldCBkaCA9IGZzICsgKGxldmVsICogKGZzKzIpKVxuICAgICAgICByZXR1cm4gdGhpcy5kaXJlY3Rpb24gKiBkaXJlY3Rpb24gKiBkaFxuICAgIH1cblxuICAgIHVwZGF0ZUxhYmVscyh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIGxldCBoMiA9IGhlaWdodCAvIDJcbiAgICAgICAgaWYgKHRoaXMubGFiZWxEYXRlcykge1xuICAgICAgICAgICAgbGV0IGxhc3QgPSBudWxsXG4gICAgICAgICAgICBsZXQgeSA9IGgyICsgdGhpcy50aWNrTGFiZWxPZmZzZXQoKVxuICAgICAgICAgICAgZm9yKGxldCBpPXRoaXMubGFiZWxEYXRlcy5sZW5ndGgtMTsgaT49MDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgbGV0IFtsYWJlbCwgZGF0ZV0gPSB0aGlzLmxhYmVsRGF0ZXNbaV1cbiAgICAgICAgICAgICAgICBsZXQgYWxpZ24gPSAnY2VudGVyJyAvLyAobGFzdCA9PSBudWxsKSA/ICdyaWdodCcgOiAnbGVmdCdcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHRoaXMudG9YKGRhdGUpXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSB0aGlzLmVuc3VyZUxhYmVsKHRoaXMubGFiZWxQcmVmaXggKyBsYWJlbCwgbGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgeDogeCwgeTogeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGb250SW5mby5zbWFsbClcbiAgICAgICAgICAgICAgICBsZXQgciA9IGN1cnJlbnQuZ2V0Qm91bmRzKClcbiAgICAgICAgICAgICAgICBjdXJyZW50LnZpc2libGUgPSAhKGxhc3QgIT0gbnVsbCAmJiByLnggKyByLndpZHRoID4gbGFzdC54KVxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3VGljayh4LCAtMSlcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IHJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLnN0YXJ0LnRvTG9jYWxlRGF0ZVN0cmluZygnZGUnLCB7eWVhcjogJ251bWVyaWMnLCBtb250aDogJ251bWVyaWMnLCBkYXk6ICdudW1lcmljJ30pXG4gICAgICAgICAgICBsZXQgZW5kID0gdGhpcy5lbmQudG9Mb2NhbGVEYXRlU3RyaW5nKCdkZScsIHt5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnbnVtZXJpYycsIGRheTogJ251bWVyaWMnfSlcbiAgICAgICAgICAgIHRoaXMuZW5zdXJlTGFiZWwodGhpcy5sYWJlbFByZWZpeCArICdzdGFydCcsIHN0YXJ0LCB7IHg6IHRoaXMudG9YKHRoaXMuc3RhcnQpLCB5OiBoMiB9KVxuICAgICAgICAgICAgdGhpcy5lbnN1cmVMYWJlbCh0aGlzLmxhYmVsUHJlZml4ICsgJ2VuZCcsIGVuZCwgeyB4OiB0aGlzLnRvWCh0aGlzLmVuZCksIHk6IGgyLCBhbGlnbjogJ3JpZ2h0J30pXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvblpvb20oem9vbSwgYW5jaG9yKSB7XG4gICAgICAgIGxldCBkYXRlID0gdGhpcy5mcm9tWChhbmNob3IueClcbiAgICAgICAgbGV0IG5ld1pvb20gPSB0aGlzLnZhbGlkWm9vbSh0aGlzLnpvb20gKiB6b29tLCBmYWxzZSlcbiAgICAgICAgdGhpcy56b29tID0gbmV3Wm9vbVxuICAgICAgICBsZXQgbmV3WCA9IHRoaXMudG9YKGRhdGUpXG4gICAgICAgIHRoaXMuc2Nyb2xsICs9IGFuY2hvci54IC0gbmV3WFxuICAgIH1cblxuICAgIG9uU3RhcnQoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIHRoaXMua2lsbFR3ZWVucygpXG4gICAgICAgIHRoaXMuZGVsdGFzID0gW11cbiAgICAgICAgdGhpcy52YWxpZFNjcm9sbCgpXG4gICAgICAgIFRocm93UHJvcHNQbHVnaW4udHJhY2sodGhpcywgJ2RlbHRhJylcbiAgICB9XG5cbiAgICBvbk1vdmUoZXZlbnQsIGludGVyYWN0aW9uKSB7XG4gICAgICAgIGxldCBkZWx0YSA9IGludGVyYWN0aW9uLmRlbHRhKClcbiAgICAgICAgdGhpcy5zY3JvbGwgKz0gZGVsdGEueFxuICAgICAgICB3aGlsZSh0aGlzLmRlbHRhcy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgdGhpcy5kZWx0YXMucG9wKDApXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kZWx0YXMucHVzaChkZWx0YS54KVxuICAgICAgICBpZiAoaW50ZXJhY3Rpb24uY3VycmVudC5zaXplID4gMSkge1xuICAgICAgICAgICAgdGhpcy5vblpvb20oZGVsdGEuem9vbSwgZGVsdGEuYWJvdXQpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWRyYXcoKVxuICAgIH1cblxuICAgIF9zY3JvbGxNaW5pbXVtKGJvdW5kZWQpIHtcbiAgICAgICAgbGV0IHRvdGFsID0gdGhpcy50b3RhbFdpZHRoKGJvdW5kZWQpXG4gICAgICAgIHJldHVybiAtdG90YWwgKyB0aGlzLndhbnRlZFdpZHRoIC0gMip0aGlzLmluc2V0XG4gICAgfVxuXG4gICAgX3Njcm9sbE1heGltdW0oYm91bmRlZCkge1xuICAgICAgICBsZXQgdG90YWwgPSB0aGlzLnRvdGFsV2lkdGgoYm91bmRlZClcbiAgICAgICAgbGV0IGxpbWl0ID0gdGhpcy53YW50ZWRXaWR0aFxuICAgICAgICBpZiAodG90YWwgPiBsaW1pdClcbiAgICAgICAgICAgIHJldHVybiAwXG4gICAgICAgIGxldCB3ID0gbGltaXQgLSAyKnRoaXMuaW5zZXRcbiAgICAgICAgcmV0dXJuICh3IC0gdG90YWwpIC8gMlxuICAgIH1cblxuICAgIHNjcm9sbE1pbmltdW0oYm91bmRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWluaW11bShib3VuZGVkKSAtIHRoaXMuZXh0cmFSaWdodFxuICAgIH1cblxuICAgIHNjcm9sbE1heGltdW0oYm91bmRlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsTWF4aW11bShib3VuZGVkKSArIHRoaXMuZXh0cmFMZWZ0XG4gICAgfVxuXG4gICAga2lsbFR3ZWVucygpIHtcbiAgICAgICAgVHdlZW5NYXgua2lsbFR3ZWVuc09mKHRoaXMpXG4gICAgICAgIHRoaXMuYXV0b1Njcm9sbCA9IGZhbHNlXG4gICAgfVxuXG5cbiAgICB2YWxpZFNjcm9sbChib3VuZGVkPXRydWUpIHtcbiAgICAgICAgbGV0IG1pbmltdW0gPSB0aGlzLnNjcm9sbE1pbmltdW0oYm91bmRlZClcbiAgICAgICAgbGV0IG1heGltdW0gPSB0aGlzLnNjcm9sbE1heGltdW0oYm91bmRlZClcblxuICAgICAgICBpZiAodGhpcy5zY3JvbGwgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbCA9IG1pbmltdW1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY3JvbGwgPiBtYXhpbXVtKSB7XG4gICAgICAgICAgICB0aGlzLnNjcm9sbCA9IG1heGltdW1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGtlZXBJbkJvdW5kcyhkZWx0YSwgYW5jaG9yKSB7XG4gICAgICAgIGxldCBib3VuZGVkID0gdHJ1ZVxuICAgICAgICBsZXQgbWluaW11bSA9IHRoaXMuc2Nyb2xsTWluaW11bShib3VuZGVkKVxuICAgICAgICBsZXQgbWF4aW11bSA9IHRoaXMuc2Nyb2xsTWF4aW11bShib3VuZGVkKVxuICAgICAgICBsZXQgdHdlZW5zID0ge31cbiAgICAgICAgaWYgKHRoaXMuem9vbSA+IHRoaXMubWF4Wm9vbSkge1xuICAgICAgICAgICAgdHdlZW5zLnpvb20gPSB0aGlzLm1heFpvb21cbiAgICAgICAgICAgIGxldCBkYXRlID0gdGhpcy5mcm9tWChhbmNob3IueClcbiAgICAgICAgICAgIGxldCBvbGRab29tID0gdGhpcy56b29tXG4gICAgICAgICAgICB0aGlzLnpvb20gPSB0aGlzLm1heFpvb21cbiAgICAgICAgICAgIGxldCBuZXdYID0gdGhpcy50b1goZGF0ZSlcbiAgICAgICAgICAgIHR3ZWVucy5zY3JvbGwgPSB0aGlzLnNjcm9sbCArIGFuY2hvci54IC0gbmV3WFxuICAgICAgICAgICAgdGhpcy56b29tID0gb2xkWm9vbVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuem9vbSA8IHRoaXMubWluWm9vbSkge1xuICAgICAgICAgICAgICAgIHR3ZWVucy56b29tID0gdGhpcy5taW5ab29tXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwgPiBtYXhpbXVtKSB7XG4gICAgICAgICAgICAgICAgdHdlZW5zLnNjcm9sbCA9IG1heGltdW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICBpZiAodGhpcy5zY3JvbGwgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICAgICAgdHdlZW5zLnNjcm9sbCA9IG1pbmltdW1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRW1wdHkodHdlZW5zKSkge1xuICAgICAgICAgICAgdHdlZW5zLm9uVXBkYXRlID0gKCkgPT4geyB0aGlzLnJlZHJhdygpIH1cbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMsIDAuNSwgdHdlZW5zKS5kZWxheSgwLjEpXG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjcm9sbCArPSBkZWx0YVxuICAgICAgICBkZWx0YSAqPSAwLjk4NVxuICAgICAgICB0aGlzLnJlZHJhdygpXG4gICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAxICYmIHRoaXMuYXV0b1Njcm9sbCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLmtlZXBJbkJvdW5kcyhkZWx0YSwgYW5jaG9yKSwgMTAwMCAvIDEwMClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uRW5kKGV2ZW50LCBpbnRlcmFjdGlvbikge1xuICAgICAgICBsZXQgdmVsID0gVGhyb3dQcm9wc1BsdWdpbi5nZXRWZWxvY2l0eSh0aGlzLCAnZGVsdGEnKVxuICAgICAgICBUaHJvd1Byb3BzUGx1Z2luLnVudHJhY2sodGhpcylcblxuICAgICAgICB0aGlzLmtpbGxUd2VlbnMoKVxuICAgICAgICB0aGlzLnJlZHJhdygpXG4gICAgICAgIGxldCBkZWx0YSA9IDBcbiAgICAgICAgZm9yKGxldCBkIG9mIHRoaXMuZGVsdGFzKSB7XG4gICAgICAgICAgICBkZWx0YSArPSBkXG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZGVsdGFzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRlbHRhIC89IHRoaXMuZGVsdGFzLmxlbmd0aFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0b1Njcm9sbCA9IHRydWVcbiAgICAgICAgbGV0IGFuY2hvciA9IGludGVyYWN0aW9uLmN1cnJlbnQubWVhbigpXG4gICAgICAgIHRoaXMua2VlcEluQm91bmRzKGRlbHRhLCBhbmNob3IpXG4gICAgfVxuXG4gICAgb25Nb3VzZVdoZWVsKGV2ZW50KSB7XG4gICAgICAgIHRoaXMua2lsbFR3ZWVucygpXG4gICAgICAgIGxldCBkaXJlY3Rpb24gPSBldmVudC5kZXRhaWwgPCAwIHx8IGV2ZW50LndoZWVsRGVsdGEgPiAwXG4gICAgICAgIGxldCBhbmNob3IgPSB7IHg6IGV2ZW50LmNsaWVudFgsIHk6IGV2ZW50LmNsaWVudFl9XG4gICAgICAgIGNvbnN0IHpvb21GYWN0b3IgPSAxLjVcbiAgICAgICAgdGhpcy5vblpvb20oKGRpcmVjdGlvbikgPyB6b29tRmFjdG9yIDogMSAvIHpvb21GYWN0b3IsIGFuY2hvcilcbiAgICAgICAgdGhpcy5yZWRyYXcoKVxuICAgICAgICB0aGlzLmtlZXBJbkJvdW5kcygwLCBhbmNob3IpXG4gICAgfVxuXG4gICAgc2hvd1JhbmdlcyhyYW5nZXMsIGxhYmVsPVwiVW50aXRsZWRcIiwgY29sb3I9bnVsbCkge1xuICAgICAgICBmb3IobGV0IGNyIG9mIHRoaXMuY29sb3JSYW5nZXMpIHtcbiAgICAgICAgICAgIGlmIChjci5sYWJlbCA9PSBsYWJlbClcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB3aGlsZSh0aGlzLmNvbG9yUmFuZ2VzLmxlbmd0aCA+PSB0aGlzLnJhbmdlQ29sb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jb2xvclJhbmdlcy5zaGlmdCgpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb2xvclJhbmdlcy5wdXNoKG5ldyBDb2xvclJhbmdlcyhsYWJlbCwgY29sb3IsIHJhbmdlcykpXG4gICAgICAgIHRoaXMucmVkcmF3KClcbiAgICB9XG59XG5cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwLmpzJ1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc2xpZGVyIGFjdGlvbiBvblN0YXJ0LlxuICpcbiAqIEBjYWxsYmFjayBvblN0YXJ0Q2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1NsaWRlcn0gc2xpZGVyIC0gQSByZWZlcmVuY2UgdG8gdGhlIHNsaWRlciAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgc2xpZGVyKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc2xpZGVyIGFjdGlvbiBvblVwZGF0ZS5cbiAqXG4gKiBAY2FsbGJhY2sgb25VcGRhdGVDYWxsYmFja1xuICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IC0gVGhlIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U2xpZGVyfSBzbGlkZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgc2xpZGVyIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBzbGlkZXIpLlxuICovXG5cbi8qKlxuICogQ2FsbGJhY2sgZm9yIHRoZSBzbGlkZXIgYWN0aW9uIG9uQ29tcGxldGUuXG4gKlxuICogQGNhbGxiYWNrIG9uQ29tcGxldGVDYWxsYmFja1xuICogQHBhcmFtIHtvYmplY3R9IGV2ZW50IC0gVGhlIGV2ZW50IG9iamVjdC5cbiAqIEBwYXJhbSB7U2xpZGVyfSBzbGlkZXIgLSBBIHJlZmVyZW5jZSB0byB0aGUgc2xpZGVyIChhbHNvIHRoaXMgcmVmZXJzIHRvIHRoZSBzbGlkZXIpLlxuICovXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIFNsaWRlci5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYXBwXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA5MDAsXG4gKiAgICAgaGVpZ2h0OiAyNTBcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqIFxuICogLy8gQ3JlYXRlIHRoZSBzbGlkZXJcbiAqIGNvbnN0IHNsaWRlciA9IG5ldyBTbGlkZXIoe1xuICogICAgIHg6IDEwLFxuICogICAgIHk6IDIwXG4gKiB9KVxuICpcbiAqIC8vIEFkZCB0aGUgc2xpZGVyIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKHNsaWRlcilcbiAqXG4gKiBAY2xhc3NcbiAqIEBleHRlbmRzIFBJWEkuQ29udGFpbmVyXG4gKiBAc2VlIHtAbGluayBodHRwOi8vcGl4aWpzLmRvd25sb2FkL2Rldi9kb2NzL1BJWEkuQ29udGFpbmVyLmh0bWx8UElYSS5Db250YWluZXJ9XG4gKiBAc2VlIHtAbGluayBodHRwczovL3d3dy5pd20tdHVlYmluZ2VuLmRlL2l3bWJyb3dzZXIvbGliL3BpeGkvc2xpZGVyLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgUElYSS5Db250YWluZXIge1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBTbGlkZXIuXG4gICAgICogXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzXSAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIHNwZWNpZnkgdG8gc3R5bGUgYW5kIGJlaGF2aW91ciBvZiB0aGUgc2xpZGVyLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5pZD1hdXRvIGdlbmVyYXRlZF0gLSBUaGUgaWQgb2YgdGhlIHNsaWRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueD0wXSAtIFRoZSB4IHBvc2l0aW9uIG9mIHRoZSBzbGlkZXIuIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIHNsaWRlci54ID0gMC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMueT0wXSAtIFRoZSB5IHBvc2l0aW9uIG9mIHRoZSBzbGlkZXIuIENhbiBiZSBhbHNvIHNldCBhZnRlciBjcmVhdGlvbiB3aXRoIHNsaWRlci55ID0gMC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUaGVtZX0gW29wdHMudGhlbWU9ZGFya10gLSBUaGUgdGhlbWUgdG8gdXNlIGZvciB0aGlzIHNsaWRlci4gUG9zc2libGUgdmFsdWVzIGFyZSBkYXJrLCBsaWdodCwgcmVkXG4gICAgICogICAgIG9yIGEgVGhlbWUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy53aWR0aD0yNTBdIC0gVGhlIHdpZHRoIG9mIHRoZSBzbGlkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmhlaWdodD0yXSAtIFRoZSBoZWlnaHQgb2YgdGhlIHNsaWRlci5cbiAgICAgKiBAcGFyYW0ge1BJWEkuRGlzcGxheU9iamVjdH0gW29wdHMuY29udGFpbmVyPXdpbmRvdy5hcHB8b2JqZWN0XSAtIFRoZSBjb250YWluZXIgd2hlcmUgdGhlIHNsaWRlciBldmVudHMgc2hvdWxkIGJlIGF0dGFjaGVkIHRvLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsPVRoZW1lLmZpbGxdIC0gVGhlIGNvbG9yIG9mIHRoZSBzbGlkZXIgYmFja2dyb3VuZCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFscGhhPVRoZW1lLmZpbGxBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZT1UaGVtZS5zdHJva2VdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgYXMgYSBoZXggdmFsdWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZVdpZHRoPVRoZW1lLnN0cm9rZVdpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBbHBoYT1UaGVtZS5zdHJva2VBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbEZpbGw9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgc2xpZGVyIGNvbnRyb2wgYmFja2dyb3VuZCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbEZpbGxBbHBoYT1UaGVtZS5zdHJva2VBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xTdHJva2U9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb250cm9sU3Ryb2tlV2lkdGg9VGhlbWUuc3Ryb2tlV2lkdGggKiAwLjhdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xTdHJva2VBbHBoYT1UaGVtZS5zdHJva2VBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbFJhZGl1cz0xNl0gLSBUaGUgcmFkaXVzIG9mIHRoZSBzbGlkZXIgY29udHJvbC5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLmRpc2FibGVkPWZhbHNlXSAtIElzIHRoZSBzbGlkZXIgZGlzYWJsZWQ/IFdoZW4gZGlzYWJsZWQsIHRoZSBzbGlkZXIgaGFzIGEgbG93ZXIgYWxwaGEgdmFsdWVcbiAgICAgKiAgICAgYW5kIGNhbm5vdCBiZSBjbGlja2VkIChpbnRlcmFjdGl2ZSBpcyBzZXQgdG8gZmFsc2UpLlxuICAgICAqIEBwYXJhbSB7b25TdGFydENhbGxiYWNrfSBbb3B0cy5vblN0YXJ0XSAtIEV4ZWN1dGVkIHdoZW4gdGhlIHNsaWRlciBjb250cm9sIHN0YXJ0cyB0byBtb3ZlLlxuICAgICAqIEBwYXJhbSB7b25VcGRhdGVDYWxsYmFja30gW29wdHMub25VcGRhdGVdIC0gRXhlY3V0ZWQgd2hlbiB0aGUgc2xpZGVyIGNvbnRyb2wgaXMgbW92ZWQuXG4gICAgICogQHBhcmFtIHtvbkNvbXBsZXRlQ2FsbGJhY2t9IFtvcHRzLm9uQ29tcGxldGVdIC0gRXhlY3V0ZWQgd2hlbiB0aGUgc2xpZGVyIGNvbnRyb2wgd2FzIGRyb3BwZWQuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSBbb3B0cy50b29sdGlwXSAtIEEgc3RyaW5nIGZvciB0aGUgbGFiZWwgb2YgdGhlIHRvb2x0aXAgb3IgYW4gb2JqZWN0IHRvIGNvbmZpZ3VyZSB0aGUgdG9vbHRpcFxuICAgICAqICAgICB0byBkaXNwbGF5LiBcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRzLnZpc2libGU9dHJ1ZV0gLSBJcyB0aGUgc2xpZGVyIGluaXRpYWxseSB2aXNpYmxlIChwcm9wZXJ0eSB2aXNpYmxlKT9cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcblxuICAgICAgICBzdXBlcigpXG4gICAgICAgIFxuICAgICAgICBjb25zdCB0aGVtZSA9IFRoZW1lLmZyb21TdHJpbmcob3B0cy50aGVtZSlcbiAgICAgICAgdGhpcy50aGVtZSA9IHRoZW1lXG5cbiAgICAgICAgdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgaWQ6IFBJWEkudXRpbHMudWlkKCksXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHdpZHRoOiAyNTAsXG4gICAgICAgICAgICBoZWlnaHQ6IDIsXG4gICAgICAgICAgICBjb250YWluZXI6IG51bGwsXG4gICAgICAgICAgICBmaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgZmlsbEFscGhhOiB0aGVtZS5maWxsQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIGNvbnRyb2xGaWxsOiB0aGVtZS5maWxsLFxuICAgICAgICAgICAgY29udHJvbEZpbGxBbHBoYTogLjUsXG4gICAgICAgICAgICBjb250cm9sU3Ryb2tlOiB0aGVtZS5wcmltYXJ5Q29sb3IsXG4gICAgICAgICAgICBjb250cm9sU3Ryb2tlV2lkdGg6IDIsXG4gICAgICAgICAgICBjb250cm9sU3Ryb2tlQWxwaGE6IHRoZW1lLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgY29udHJvbFJhZGl1czogMTYsXG4gICAgICAgICAgICBvcmllbnRhdGlvbjogJ2hvcml6b250YWwnLFxuICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgbWF4OiAxMDAsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgICAgIG9uU3RhcnQ6IG51bGwsXG4gICAgICAgICAgICBvblVwZGF0ZTogbnVsbCxcbiAgICAgICAgICAgIG9uQ29tcGxldGU6IG51bGwsXG4gICAgICAgICAgICB0b29sdGlwOiBudWxsLFxuICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRhaW5lciA9IHRoaXMub3B0cy5jb250YWluZXIgfHwgdGhpc1xuXG4gICAgICAgIC8vIFZhbGlkYXRpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmhlaWdodCA+IHRoaXMub3B0cy53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5vcHRzLmhlaWdodCA9IHRoaXMub3B0cy53aWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMub3B0cy52YWx1ZSA8IHRoaXMub3B0cy5taW4pIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy52YWx1ZSA9IHRoaXMub3B0cy5taW5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm9wdHMudmFsdWUgPiB0aGlzLm9wdHMubWF4KSB7XG4gICAgICAgICAgICB0aGlzLm9wdHMudmFsdWUgPSB0aGlzLm9wdHMubWF4XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcm9wZXJ0aWVzXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5pZCA9IHRoaXMub3B0cy5pZFxuICAgICAgICB0aGlzLnJhZGl1cyA9IHRoaXMub3B0cy5oZWlnaHQgLyAyXG5cbiAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLm9wdHMudmFsdWVcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBudWxsXG5cbiAgICAgICAgdGhpcy5zbGlkZXJPYmogPSBudWxsXG4gICAgICAgIHRoaXMuY29udHJvbCA9IG51bGxcbiAgICAgICAgdGhpcy50b29sdGlwID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtTbGlkZXJ9IEEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIC8vIENvbnRhaW5lciBldmVudHNcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLm9wdHMuY29udGFpbmVyXG5cbiAgICAgICAgdGhpcy5vbigncG9pbnRlcm1vdmUnLCBlID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2wuZHJhZ2dpbmcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb3ZlWCA9IHRoaXMuY29udHJvbC5ldmVudC5kYXRhLmdldExvY2FsUG9zaXRpb24odGhpcy5jb250cm9sLnBhcmVudCkueFxuICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5waXhlbFRvVmFsdWUobW92ZVggLSB0aGlzLmNvbnRyb2wuZGVsdGEgLSB0aGlzLm9wdHMuY29udHJvbFJhZGl1cylcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHRoaXMudmFsdWVUb1BpeGVsKHRoaXMuX3ZhbHVlKSArIHRoaXMub3B0cy5jb250cm9sUmFkaXVzXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sLnggPSB4XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLm9uVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5vblVwZGF0ZS5jYWxsKHRoaXMsIGUsIHRoaXMpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIGlmIChjb250YWluZXIgaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgICAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgZSA9PiB0aGlzLm9uRW5kKGUpLCBmYWxzZSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVyY2FuY2VsJywgZSA9PiB0aGlzLm9uRW5kKGUpLCBmYWxzZSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVybGVhdmUnLCBlID0+IHRoaXMub25FbmQoZSksIGZhbHNlKVxuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJvdXQnLCBlID0+IHRoaXMub25FbmQoZSksIGZhbHNlKVxuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBlID0+IHRoaXMub25FbmQoZSksIGZhbHNlKVxuICAgICAgICAgICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlY2FuY2VsJywgZSA9PiB0aGlzLm9uRW5kKGUpLCBmYWxzZSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZSA9PiB0aGlzLm9uRW5kKGUpLCBmYWxzZSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIGUgPT4gdGhpcy5vbkVuZChlKSwgZmFsc2UpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250YWluZXIuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgICAgICBjb250YWluZXIub24oJ3BvaW50ZXJ1cCcsIGUgPT4gdGhpcy5vbkVuZChlKSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcmNhbmNlbCcsIGUgPT4gdGhpcy5vbkVuZChlKSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5vbigncG9pbnRlcmxlYXZlJywgZSA9PiB0aGlzLm9uRW5kKGUpKVxuICAgICAgICAgICAgY29udGFpbmVyLm9uKCdwb2ludGVyb3V0JywgZSA9PiB0aGlzLm9uRW5kKGUpKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2xpZGVyXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IHNsaWRlck9iaiA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5zbGlkZXJPYmogPSBzbGlkZXJPYmpcbiAgICAgICAgdGhpcy5hZGRDaGlsZChzbGlkZXJPYmopXG5cbiAgICAgICAgLy8gQ29udHJvbFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGxldCBjb250cm9sID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICBjb250cm9sLnggPSB0aGlzLm9wdHMuY29udHJvbFJhZGl1cyArIHRoaXMudmFsdWVUb1BpeGVsKHRoaXMub3B0cy52YWx1ZSlcbiAgICAgICAgY29udHJvbC55ID0gdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNcblxuICAgICAgICAvLyBwb2ludGVyZG93biBvbiB0aGUgY29udHJvbCBmb3IgZHJhZ25kcm9wXG4gICAgICAgIGNvbnRyb2wub24oJ3BvaW50ZXJkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBjb250cm9sLmV2ZW50ID0gZVxuICAgICAgICAgICAgY29udHJvbC5kZWx0YSA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuY29udHJvbCkueFxuICAgICAgICAgICAgY29udHJvbC5kcmFnZ2luZyA9IHRydWVcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vblN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzLm9uU3RhcnQuY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuY29udHJvbCA9IGNvbnRyb2xcblxuICAgICAgICB0aGlzLmFkZENoaWxkKHRoaXMuY29udHJvbClcbiAgICAgICAgXG4gICAgICAgIC8vIGludGVyYWN0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zbGlkZXJPYmoub24oJ3BvaW50ZXJvdmVyJywgZSA9PiB7XG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuODN9KVxuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLm9uKCdwb2ludGVyb3V0JywgZSA9PiB7XG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAxfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnNsaWRlck9iai5vbigncG9pbnRlcmRvd24nLCBlID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyT2JqLnBvaW50ZXJkb3duZWQgPSB0cnVlXG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuN30pXG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gQ2xpY2sgb24gdGhlIHNsaWRlciBiYXJcbiAgICAgICAgdGhpcy5zbGlkZXJPYmoub24oJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2xpZGVyT2JqLnBvaW50ZXJkb3duZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNsaWRlck9iai5wb2ludGVyZG93bmVkID0gZmFsc2VcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGUuZGF0YS5nZXRMb2NhbFBvc2l0aW9uKHRoaXMuY29udHJvbC5wYXJlbnQpXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMucGl4ZWxUb1ZhbHVlKHBvc2l0aW9uLnggLSB0aGlzLm9wdHMuY29udHJvbFJhZGl1cylcbiAgICAgICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuODN9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC8vIGRpc2FibGVkXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMub3B0cy5kaXNhYmxlZFxuICAgICAgICBcbiAgICAgICAgLy8gdG9vbHRpcFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIGlmICh0aGlzLm9wdHMudG9vbHRpcCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMudG9vbHRpcCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcCh7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdDogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGhpcy5vcHRzLnRvb2x0aXBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdHMudG9vbHRpcC5vYmplY3QgPSB0aGlzXG4gICAgICAgICAgICAgICAgdGhpcy50b29sdGlwID0gbmV3IFRvb2x0aXAodGhpcy5vcHRzLnRvb2x0aXApXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTaG91bGQgYmUgY2FsbGVkIHRvIHJlZnJlc2ggdGhlIGxheW91dCBvZiB0aGUgc2xpZGVyLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtTbGlkZXJ9IEEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGxheW91dCgpIHtcbiAgICAgICAgXG4gICAgICAgIC8vIHNldCBwb3NpdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMucG9zaXRpb24uc2V0KHRoaXMub3B0cy54LCB0aGlzLm9wdHMueSlcblxuICAgICAgICAvLyBkcmF3XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5kcmF3KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBEcmF3cyB0aGUgc2xpZGVyIHRvIHRoZSBjYW52YXMuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtTbGlkZXJ9IEEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXcoKSB7XG5cbiAgICAgICAgY29uc3QgciA9IHRoaXMucmFkaXVzXG4gICAgICAgIGNvbnN0IGNyID0gdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNcbiAgICAgICAgY29uc3QgdyA9IHRoaXMub3B0cy53aWR0aFxuICAgICAgICBjb25zdCBoID0gdGhpcy5vcHRzLmhlaWdodFxuICAgICAgICBjb25zdCB4ID0gY3IgKyByXG4gICAgICAgIGNvbnN0IHkgPSBjciArIHIgLSBoXG5cbiAgICAgICAgdGhpcy5zbGlkZXJPYmouY2xlYXIoKVxuICAgICAgICB0aGlzLnNsaWRlck9iai5iZWdpbkZpbGwoMHhmZmZmZmYsIDApXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLmRyYXdSZWN0KDAsIDAsIHggKyB3ICsgY3IsIGNyICogMilcbiAgICAgICAgdGhpcy5zbGlkZXJPYmoubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICB0aGlzLnNsaWRlck9iai5iZWdpbkZpbGwodGhpcy5vcHRzLmZpbGwsIHRoaXMub3B0cy5maWxsQWxwaGEpXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLm1vdmVUbyh4LCB5KVxuICAgICAgICB0aGlzLnNsaWRlck9iai5saW5lVG8oeCArIHcsIHkpXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLmFyY1RvKHggKyB3ICsgciwgeSwgeCArIHcgKyByLCB5ICsgciwgcilcbiAgICAgICAgdGhpcy5zbGlkZXJPYmoubGluZVRvKHggKyB3ICsgciwgeSArIHIgKyAxKSAgICAgICAgICAgICAgICAgICAgIC8vIEJVR0ZJWDogSWYgbm90IHNwZWNpZmllZCwgdGhlcmUgaXMgYSBzbWFsbCBhcmVhIHdpdGhvdXQgYSBzdHJva2UuXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLmFyY1RvKHggKyB3ICsgciwgeSArIGgsIHggKyB3LCB5ICsgaCwgcilcbiAgICAgICAgdGhpcy5zbGlkZXJPYmoubGluZVRvKHgsIHkgKyBoKVxuICAgICAgICB0aGlzLnNsaWRlck9iai5hcmNUbyh4IC0gciwgeSArIGgsIHggLSByLCB5ICsgciwgcilcbiAgICAgICAgdGhpcy5zbGlkZXJPYmouYXJjVG8oeCAtIHIsIHksIHgsIHksIHIpXG4gICAgICAgIHRoaXMuc2xpZGVyT2JqLmVuZEZpbGwoKVxuXG4gICAgICAgIC8vIERyYXcgY29udHJvbFxuICAgICAgICB0aGlzLmNvbnRyb2wuY2xlYXIoKVxuICAgICAgICB0aGlzLmNvbnRyb2wubGluZVN0eWxlKHRoaXMub3B0cy5jb250cm9sU3Ryb2tlV2lkdGgsIHRoaXMub3B0cy5jb250cm9sU3Ryb2tlLCB0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFscGhhKVxuICAgICAgICB0aGlzLmNvbnRyb2wuYmVnaW5GaWxsKHRoaXMub3B0cy5jb250cm9sRmlsbCwgdGhpcy5vcHRzLmNvbnRyb2xGaWxsQWxwaGEpXG4gICAgICAgIHRoaXMuY29udHJvbC5kcmF3Q2lyY2xlKDAsIDAsIGNyIC0gMSlcbiAgICAgICAgdGhpcy5jb250cm9sLmJlZ2luRmlsbCh0aGlzLm9wdHMuY29udHJvbFN0cm9rZSwgdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBbHBoYSlcbiAgICAgICAgdGhpcy5jb250cm9sLmRyYXdDaXJjbGUoMCwgMCwgY3IgLyA2KVxuICAgICAgICB0aGlzLmNvbnRyb2wuZW5kRmlsbCgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlZCwgd2hlbiB0aGUgc2xpZGVyIGNvbnRyb2wgbW92ZW1lbnQgZW5kZWQuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtTbGlkZXJ9IEEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIG9uRW5kKGUpIHtcblxuICAgICAgICBpZiAodGhpcy5jb250cm9sLmRyYWdnaW5nKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuZXZlbnQgPSBudWxsXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuZHJhZ2dpbmcgPSBmYWxzZVxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRzLm9uQ29tcGxldGUuY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSB2YWx1ZSBmb3IgYSBnaXZlbiBwaXhlbC5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSBcbiAgICAgKiBAcmV0dXJucyAge251bWJlcn0gVGhlIGNhbHVjYWx0ZWQgcGl4ZWwuXG4gICAgICovXG4gICAgdmFsdWVUb1BpeGVsKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSA8IHRoaXMub3B0cy5taW4pIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5vcHRzLm1pblxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID4gdGhpcy5vcHRzLm1heCkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLm9wdHMubWF4XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMub3B0cy53aWR0aCAqICh2YWx1ZSAtIHRoaXMub3B0cy5taW4pIC8gKHRoaXMub3B0cy5tYXggLSB0aGlzLm9wdHMubWluKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGN1bGF0ZXMgdGhlIHBpeGVsIGZvciBhIGdpdmVuIHZhbHVlLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsIFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFRoZSBjYWx1Y2FsdGVkIHZhbHVlLlxuICAgICAqL1xuICAgIHBpeGVsVG9WYWx1ZShwaXhlbCkge1xuICAgICAgICBpZiAocGl4ZWwgPCAwKSB7XG4gICAgICAgICAgICBwaXhlbCA9IDBcbiAgICAgICAgfSBlbHNlIGlmIChwaXhlbCA+IHRoaXMub3B0cy53aWR0aCkge1xuICAgICAgICAgICAgcGl4ZWwgPSB0aGlzLm9wdHMud2lkdGhcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5vcHRzLm1pbiArICgodGhpcy5vcHRzLm1heCAtIHRoaXMub3B0cy5taW4pICogcGl4ZWwgLyB0aGlzLm9wdHMud2lkdGgpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgdmFsdWUuXG4gICAgICogXG4gICAgICogQG1lbWJlciB7bnVtYmVyfVxuICAgICAqL1xuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5fdmFsdWUpXG4gICAgfVxuICAgIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLm9wdHMubWluKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHRoaXMub3B0cy5taW5cbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSA+IHRoaXMub3B0cy5tYXgpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5vcHRzLm1heFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdmFsdWVcblxuICAgICAgICBjb25zdCB4ID0gdGhpcy52YWx1ZVRvUGl4ZWwodmFsdWUpICsgdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNcblxuICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge3g6IHh9KVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBHZXRzIG9yIHNldHMgdGhlIGRpc2FibGVkIHN0YXRlLiBXaGVuIGRpc2FibGVkLCB0aGUgc2xpZGVyIGNhbm5vdCBiZSBjbGlja2VkLlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGRpc2FibGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGlzYWJsZWRcbiAgICB9XG4gICAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSB2YWx1ZVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuc2xpZGVyT2JqLmludGVyYWN0aXZlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5pbnRlcmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuYnV0dG9uTW9kZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLmFscGhhID0gLjVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW50ZXJhY3RpdmUgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLnNsaWRlck9iai5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5idXR0b25Nb2RlID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5hbHBoYSA9IDFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBzbGlkZXIgKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtTbGlkZXJ9IEEgcmVmZXJlbmNlIHRvIHRoZSBzbGlkZXIgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuZmlsbEFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuY29udHJvbEZpbGxBbHBoYSA9IDFcblxuICAgICAgICB0aGlzLmxheW91dCgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHNsaWRlciAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDEpLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge1NsaWRlcn0gQSByZWZlcmVuY2UgdG8gdGhlIHNsaWRlciBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgaGlkZSgpIHtcblxuICAgICAgICB0aGlzLm9wdHMuc3Ryb2tlQWxwaGEgPSAwXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWxwaGEgPSAwXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sU3Ryb2tlQWxwaGEgPSAwXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sRmlsbEFscGhhID0gMFxuXG4gICAgICAgIHRoaXMubGF5b3V0KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwLmpzJ1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc3dpdGNoIGFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYWN0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N3aXRjaH0gc3dpdGNoIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgc3dpdGNoKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc3dpdGNoIGFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYWN0aW9uQWN0aXZlQ2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N3aXRjaH0gc3dpdGNoIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgc3dpdGNoKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc3dpdGNoIGJlZm9yZUFjdGlvbi5cbiAqXG4gKiBAY2FsbGJhY2sgYmVmb3JlQWN0aW9uQ2FsbGJhY2tcbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCAtIFRoZSBldmVudCBvYmplY3QuXG4gKiBAcGFyYW0ge1N3aXRjaH0gc3dpdGNoIC0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCAoYWxzbyB0aGlzIHJlZmVycyB0byB0aGUgc3dpdGNoKS5cbiAqL1xuXG4vKipcbiAqIENhbGxiYWNrIGZvciB0aGUgc3dpdGNoIGFmdGVyQWN0aW9uLlxuICpcbiAqIEBjYWxsYmFjayBhZnRlckFjdGlvbkNhbGxiYWNrXG4gKiBAcGFyYW0ge29iamVjdH0gZXZlbnQgLSBUaGUgZXZlbnQgb2JqZWN0LlxuICogQHBhcmFtIHtTd2l0Y2h9IHN3aXRjaCAtIEEgcmVmZXJlbmNlIHRvIHRoZSBzd2l0Y2ggKGFsc28gdGhpcyByZWZlcnMgdG8gdGhlIHN3aXRjaCkuXG4gKi9cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgU3dpdGNoLlxuICogXG4gKiBAZXhhbXBsZVxuICogLy8gQ3JlYXRlIHRoZSBhcHBcbiAqIGNvbnN0IGFwcCA9IG5ldyBQSVhJQXBwKHtcbiAqICAgICB2aWV3OiBjYW52YXMsXG4gKiAgICAgd2lkdGg6IDkwMCxcbiAqICAgICBoZWlnaHQ6IDI1MFxuICogfSkuc2V0dXAoKS5ydW4oKVxuICogXG4gKiAvLyBDcmVhdGUgdGhlIHN3aXRjaFxuICogY29uc3Qgc3dpdGNoMSA9IG5ldyBTd2l0Y2goe1xuICogICAgIHg6IDEwLFxuICogICAgIHk6IDIwXG4gKiB9KVxuICpcbiAqIC8vIEFkZCB0aGUgc3dpdGNoIHRvIGEgRGlzcGxheU9iamVjdFxuICogYXBwLnNjZW5lLmFkZENoaWxkKHN3aXRjaDEpXG4gKlxuICogQGNsYXNzXG4gKiBAZXh0ZW5kcyBQSVhJLkNvbnRhaW5lclxuICogQHNlZSB7QGxpbmsgaHR0cDovL3BpeGlqcy5kb3dubG9hZC9kZXYvZG9jcy9QSVhJLkNvbnRhaW5lci5odG1sfFBJWEkuQ29udGFpbmVyfVxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3N3aXRjaC5odG1sfERvY1Rlc3R9XG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFN3aXRjaCBleHRlbmRzIFBJWEkuQ29udGFpbmVyIHtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGEgU3dpdGNoLlxuICAgICAqIFxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0c10gLSBBbiBvcHRpb25zIG9iamVjdCB0byBzcGVjaWZ5IHRvIHN0eWxlIGFuZCBiZWhhdmlvdXIgb2YgdGhlIHN3aXRjaC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWQ9YXV0byBnZW5lcmF0ZWRdIC0gVGhlIGlkIG9mIHRoZSBzd2l0Y2guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLng9MF0gLSBUaGUgeCBwb3NpdGlvbiBvZiB0aGUgc3dpdGNoLiBDYW4gYmUgYWxzbyBzZXQgYWZ0ZXIgY3JlYXRpb24gd2l0aCBzd2l0Y2gueCA9IDAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnk9MF0gLSBUaGUgeSBwb3NpdGlvbiBvZiB0aGUgc3dpdGNoLiBDYW4gYmUgYWxzbyBzZXQgYWZ0ZXIgY3JlYXRpb24gd2l0aCBzd2l0Y2gueSA9IDAuXG4gICAgICogQHBhcmFtIHtzdHJpbmd8VGhlbWV9IFtvcHRzLnRoZW1lPWRhcmtdIC0gVGhlIHRoZW1lIHRvIHVzZSBmb3IgdGhpcyBzd2l0Y2guIFBvc3NpYmxlIHZhbHVlcyBhcmUgZGFyaywgbGlnaHQsIHJlZFxuICAgICAqICAgICBvciBhIFRoZW1lIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMud2lkdGg9NDRdIC0gVGhlIHdpZHRoIG9mIHRoZSBzd2l0Y2guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmhlaWdodD0yOF0gLSBUaGUgaGVpZ2h0IG9mIHRoZSBzd2l0Y2guXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGw9VGhlbWUuZmlsbF0gLSBUaGUgY29sb3Igb2YgdGhlIHN3aXRjaCBiYWNrZ3JvdW5kIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5maWxsQWxwaGE9VGhlbWUuZmlsbEFscGhhXSAtIFRoZSBhbHBoYSB2YWx1ZSBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZmlsbEFjdGl2ZT1UaGVtZS5maWxsQWN0aXZlXSAtIFRoZSBjb2xvciBvZiB0aGUgc3dpdGNoIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmZpbGxBY3RpdmVBbHBoYT1UaGVtZS5maWxsQWN0aXZlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2U9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIGFzIGEgaGV4IHZhbHVlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VXaWR0aD1UaGVtZS5zdHJva2VXaWR0aF0gLSBUaGUgd2lkdGggb2YgdGhlIGJvcmRlciBpbiBwaXhlbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuc3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZT1UaGVtZS5zdHJva2VBY3RpdmVdIC0gVGhlIGNvbG9yIG9mIHRoZSBib3JkZXIgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLnN0cm9rZUFjdGl2ZVdpZHRoPVRoZW1lLnN0cm9rZUFjdGl2ZVdpZHRoXSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5zdHJva2VBY3RpdmVBbHBoYT1UaGVtZS5zdHJva2VBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbEZpbGw9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgc3dpdGNoIGNvbnRyb2wgYmFja2dyb3VuZCBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbEZpbGxBbHBoYT1UaGVtZS5zdHJva2VBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xGaWxsQWN0aXZlPVRoZW1lLnN0cm9rZV0gLSBUaGUgY29sb3Igb2YgdGhlIHN3aXRjaCBjb250cm9sIGJhY2tncm91bmQgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xGaWxsQWN0aXZlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBiYWNrZ3JvdW5kIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb250cm9sU3Ryb2tlPVRoZW1lLnN0cm9rZV0gLSBUaGUgY29sb3Igb2YgdGhlIGJvcmRlciBhcyBhIGhleCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuY29udHJvbFN0cm9rZVdpZHRoPVRoZW1lLnN0cm9rZVdpZHRoICogMC44XSAtIFRoZSB3aWR0aCBvZiB0aGUgYm9yZGVyIGluIHBpeGVsLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb250cm9sU3Ryb2tlQWxwaGE9VGhlbWUuc3Ryb2tlQWxwaGFdIC0gVGhlIGFscGhhIHZhbHVlIG9mIHRoZSBib3JkZXIuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xTdHJva2VBY3RpdmU9VGhlbWUuc3Ryb2tlXSAtIFRoZSBjb2xvciBvZiB0aGUgYm9yZGVyIHdoZW4gYWN0aXZhdGVkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5jb250cm9sU3Ryb2tlQWN0aXZlV2lkdGg9VGhlbWUuc3Ryb2tlQWN0aXZlV2lkdGggKiAwLjhdIC0gVGhlIHdpZHRoIG9mIHRoZSBib3JkZXIgaW4gcGl4ZWwgd2hlbiBhY3RpdmF0ZWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRzLmNvbnRyb2xTdHJva2VBY3RpdmVBbHBoYT1UaGVtZS5zdHJva2VBY3RpdmVBbHBoYV0gLSBUaGUgYWxwaGEgdmFsdWUgb2YgdGhlIGJvcmRlciB3aGVuIGFjdGl2YXRlZC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZHVyYXRpb249VGhlbWUuZmFzdF0gLSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiB3aGVuIHRoZSBzd2l0Y2ggZ2V0cyBhY3RpdmF0ZWQgaW4gc2Vjb25kcy5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZHVyYXRpb25BY3RpdmU9VGhlbWUuZmFzdF0gLSBUaGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbiB3aGVuIHRoZSBzd2l0Y2ggZ2V0cyBkZWFjdGl2YXRlZCBpbiBzZWNvbmRzLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdHMuZGlzYWJsZWQ9ZmFsc2VdIC0gSXMgdGhlIHN3aXRjaCBkaXNhYmxlZD8gV2hlbiBkaXNhYmxlZCwgdGhlIHN3aXRjaCBoYXMgYSBsb3dlciBhbHBoYSB2YWx1ZVxuICAgICAqICAgICBhbmQgY2Fubm90IGJlIGNsaWNrZWQgKGludGVyYWN0aXZlIGlzIHNldCB0byBmYWxzZSkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5hY3RpdmU9ZmFsc2VdIC0gSXMgdGhlIGJ1dHRvbiBpbml0aWFsbHkgYWN0aXZlP1xuICAgICAqIEBwYXJhbSB7YWN0aW9uQ2FsbGJhY2t9IFtvcHRzLmFjdGlvbl0gLSBFeGVjdXRlZCB3aGVuIHRoZSBzd2l0Y2ggd2FzIHRyaWdnZXJlZCBpbiBpbmFjdGl2ZSBzdGF0ZSAoYnkgcG9pbnRlcnVwKS5cbiAgICAgKiBAcGFyYW0ge2FjdGlvbkFjdGl2ZUNhbGxiYWNrfSBbb3B0cy5hY3Rpb25BY3RpdmVdIC0gRXhlY3V0ZWQgd2hlbiB0aGUgYnV0dG9uIHdhcyB0cmlnZ2VyZWQgaW4gYWN0aXZlIHN0YXRlIChieSBwb2ludGVydXApLlxuICAgICAqIEBwYXJhbSB7YmVmb3JlQWN0aW9uQ2FsbGJhY2t9IFtvcHRzLmJlZm9yZUFjdGlvbl0gLSBFeGVjdXRlZCBiZWZvcmUgYW4gYWN0aW9uIGlzIHRyaWdnZXJlZC5cbiAgICAgKiBAcGFyYW0ge2FmdGVyQWN0aW9uQ2FsbGJhY2t9IFtvcHRzLmFmdGVyQWN0aW9uXSAtIEV4ZWN1dGVkIGFmdGVyIGFuIGFjdGlvbiB3YXMgdHJpZ2dlcmVkLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gW29wdHMudG9vbHRpcF0gLSBBIHN0cmluZyBmb3IgdGhlIGxhYmVsIG9mIHRoZSB0b29sdGlwIG9yIGFuIG9iamVjdCB0byBjb25maWd1cmUgdGhlIHRvb2x0aXBcbiAgICAgKiAgICAgdG8gZGlzcGxheS4gXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy52aXNpYmxlPXRydWVdIC0gSXMgdGhlIHN3aXRjaCBpbml0aWFsbHkgdmlzaWJsZSAocHJvcGVydHkgdmlzaWJsZSk/XG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0cyA9IHt9KSB7XG5cbiAgICAgICAgc3VwZXIoKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDAsXG4gICAgICAgICAgICB3aWR0aDogNDQsXG4gICAgICAgICAgICBoZWlnaHQ6IDI4LFxuICAgICAgICAgICAgZmlsbDogdGhlbWUuZmlsbCxcbiAgICAgICAgICAgIGZpbGxBbHBoYTogdGhlbWUuZmlsbEFscGhhLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZTogdGhlbWUucHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgZmlsbEFjdGl2ZUFscGhhOiB0aGVtZS5maWxsQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIHN0cm9rZUFjdGl2ZTogdGhlbWUucHJpbWFyeUNvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlV2lkdGg6IHRoZW1lLnN0cm9rZUFjdGl2ZVdpZHRoLFxuICAgICAgICAgICAgc3Ryb2tlQWN0aXZlQWxwaGE6IHRoZW1lLnN0cm9rZUFjdGl2ZUFscGhhLFxuICAgICAgICAgICAgY29udHJvbEZpbGw6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIGNvbnRyb2xGaWxsQWxwaGE6IHRoZW1lLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgY29udHJvbEZpbGxBY3RpdmU6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIGNvbnRyb2xGaWxsQWN0aXZlQWxwaGE6IHRoZW1lLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgY29udHJvbFN0cm9rZTogdGhlbWUuc3Ryb2tlLFxuICAgICAgICAgICAgY29udHJvbFN0cm9rZVdpZHRoOiB0aGVtZS5zdHJva2VXaWR0aCAqIC44LFxuICAgICAgICAgICAgY29udHJvbFN0cm9rZUFscGhhOiB0aGVtZS5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIGNvbnRyb2xTdHJva2VBY3RpdmU6IHRoZW1lLnN0cm9rZSxcbiAgICAgICAgICAgIGNvbnRyb2xTdHJva2VBY3RpdmVXaWR0aDogdGhlbWUuc3Ryb2tlQWN0aXZlV2lkdGggKiAuOCxcbiAgICAgICAgICAgIGNvbnRyb2xTdHJva2VBY3RpdmVBbHBoYTogdGhlbWUuc3Ryb2tlQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICBkdXJhdGlvbjogdGhlbWUuZmFzdCxcbiAgICAgICAgICAgIGR1cmF0aW9uQWN0aXZlOiB0aGVtZS5mYXN0LFxuICAgICAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIGFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIGFjdGlvbkFjdGl2ZTogbnVsbCxcbiAgICAgICAgICAgIGJlZm9yZUFjdGlvbjogbnVsbCxcbiAgICAgICAgICAgIGFmdGVyQWN0aW9uOiBudWxsLFxuICAgICAgICAgICAgdG9vbHRpcDogbnVsbCxcbiAgICAgICAgICAgIHZpc2libGU6IHRydWVcbiAgICAgICAgfSwgb3B0cylcblxuICAgICAgICB0aGlzLm9wdHMuY29udHJvbFJhZGl1cyA9IHRoaXMub3B0cy5jb250cm9sUmFkaXVzIHx8ICh0aGlzLm9wdHMuaGVpZ2h0IC8gMilcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNBY3RpdmUgPSB0aGlzLm9wdHMuY29udHJvbFJhZGl1c0FjdGl2ZSB8fCB0aGlzLm9wdHMuY29udHJvbFJhZGl1c1xuXG4gICAgICAgIC8vIFZhbGlkYXRpb25cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBpZiAodGhpcy5vcHRzLmhlaWdodCA+IHRoaXMub3B0cy53aWR0aCkge1xuICAgICAgICAgICAgdGhpcy5vcHRzLmhlaWdodCA9IHRoaXMub3B0cy53aWR0aFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvcGVydGllc1xuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWRcbiAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLm9wdHMuaGVpZ2h0IC8gMlxuXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IG51bGxcbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSBudWxsXG5cbiAgICAgICAgdGhpcy5zd2l0Y2hPYmogPSBudWxsXG4gICAgICAgIHRoaXMuY29udHJvbCA9IG51bGxcbiAgICAgICAgdGhpcy50b29sdGlwID0gbnVsbFxuICAgICAgICBcbiAgICAgICAgdGhpcy52aXNpYmxlID0gdGhpcy5vcHRzLnZpc2libGVcblxuICAgICAgICAvLyBhbmltYXRlZFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMudGVtcEFuaW1hdGVkID0ge1xuICAgICAgICAgICAgZmlsbDogdGhpcy5vcHRzLmZpbGwsXG4gICAgICAgICAgICBmaWxsQWxwaGE6IHRoaXMub3B0cy5maWxsQWxwaGEsXG4gICAgICAgICAgICBzdHJva2U6IHRoaXMub3B0cy5zdHJva2UsXG4gICAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5vcHRzLnN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgc3Ryb2tlQWxwaGE6IHRoaXMub3B0cy5zdHJva2VBbHBoYSxcbiAgICAgICAgICAgIGNvbnRyb2xGaWxsOiB0aGlzLm9wdHMuY29udHJvbEZpbGwsXG4gICAgICAgICAgICBjb250cm9sRmlsbEFscGhhOiB0aGlzLm9wdHMuY29udHJvbEZpbGxBbHBoYSxcbiAgICAgICAgICAgIGNvbnRyb2xTdHJva2U6IHRoaXMub3B0cy5jb250cm9sU3Ryb2tlLFxuICAgICAgICAgICAgY29udHJvbFN0cm9rZVdpZHRoOiB0aGlzLm9wdHMuY29udHJvbFN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgY29udHJvbFN0cm9rZUFscGhhOiB0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFscGhhLFxuICAgICAgICAgICAgY29udHJvbFJhZGl1czogdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNldHVwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5zZXR1cCgpXG5cbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5sYXlvdXQoKVxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGNoaWxkcmVuIGFuZCBpbnN0YW50aWF0ZXMgZXZlcnl0aGluZy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1N3aXRjaH0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgLy8gU3dpdGNoXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgbGV0IHN3aXRjaE9iaiA9IG5ldyBQSVhJLkdyYXBoaWNzKClcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmogPSBzd2l0Y2hPYmpcbiAgICAgICAgdGhpcy5hZGRDaGlsZChzd2l0Y2hPYmopXG5cbiAgICAgICAgLy8gQ29udHJvbFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMueEluYWN0aXZlID0gdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNcbiAgICAgICAgdGhpcy54QWN0aXZlID0gdGhpcy5vcHRzLndpZHRoIC0gdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXNBY3RpdmVcbiAgICAgICAgXG4gICAgICAgIGxldCBjb250cm9sID0gbmV3IFBJWEkuR3JhcGhpY3MoKVxuICAgICAgICBjb250cm9sLnggPSB0aGlzLm9wdHMuYWN0aXZlID8gdGhpcy54QWN0aXZlIDogdGhpcy54SW5hY3RpdmVcbiAgICAgICAgY29udHJvbC55ID0gdGhpcy5vcHRzLmhlaWdodCAvIDJcblxuICAgICAgICB0aGlzLmNvbnRyb2wgPSBjb250cm9sXG5cbiAgICAgICAgdGhpcy5hZGRDaGlsZCh0aGlzLmNvbnRyb2wpXG4gICAgICAgIFxuICAgICAgICAvLyBpbnRlcmFjdGlvblxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLm9uKCdwb2ludGVyb3ZlcicsIGUgPT4ge1xuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5jb250cm9sLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogLjgzfSlcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLnN3aXRjaE9iai5vbigncG9pbnRlcm91dCcsIGUgPT4ge1xuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5jb250cm9sLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogMX0pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zd2l0Y2hPYmoub24oJ3BvaW50ZXJkb3duJywgZSA9PiB7XG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMudGhlbWUuZmFzdCwge2FscGhhOiAuN30pXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5zd2l0Y2hPYmoub24oJ3BvaW50ZXJ1cCcsIGUgPT4ge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmJlZm9yZUFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5iZWZvcmVBY3Rpb24uY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9ICF0aGlzLmFjdGl2ZVxuXG4gICAgICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRzLmFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdHMuYWN0aW9uLmNhbGwodGhpcywgZSwgdGhpcylcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMuYWN0aW9uQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0cy5hY3Rpb25BY3RpdmUuY2FsbCh0aGlzLCBlLCB0aGlzKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5jb250cm9sLCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogLjgzfSlcblxuICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5hZnRlckFjdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy5hZnRlckFjdGlvbi5jYWxsKHRoaXMsIGUsIHRoaXMpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLy8gZGlzYWJsZWRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5vcHRzLmRpc2FibGVkXG5cbiAgICAgICAgLy8gYWN0aXZlXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0aGlzLm9wdHMuYWN0aXZlXG4gICAgICAgIFxuICAgICAgICAvLyB0b29sdGlwXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgaWYgKHRoaXMub3B0cy50b29sdGlwKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0cy50b29sdGlwID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHRoaXMudG9vbHRpcCA9IG5ldyBUb29sdGlwKHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiB0aGlzLFxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB0aGlzLm9wdHMudG9vbHRpcFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0cy50b29sdGlwLm9iamVjdCA9IHRoaXNcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBuZXcgVG9vbHRpcCh0aGlzLm9wdHMudG9vbHRpcClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIFNob3VsZCBiZSBjYWxsZWQgdG8gcmVmcmVzaCB0aGUgbGF5b3V0IG9mIHRoZSBzd2l0Y2guIENhbiBiZSB1c2VkIGFmdGVyIHJlc2l6aW5nLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge1N3aXRjaH0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgbGF5b3V0KCkge1xuICAgICAgICBcbiAgICAgICAgLy8gc2V0IHBvc2l0aW9uXG4gICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgdGhpcy5wb3NpdGlvbi5zZXQodGhpcy5vcHRzLngsIHRoaXMub3B0cy55KVxuXG4gICAgICAgIC8vIGRyYXdcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLmRyYXcoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBzd2l0Y2ggdG8gdGhlIGNhbnZhcy5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1N3aXRjaH0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgZHJhdygpIHtcblxuICAgICAgICB0aGlzLnN3aXRjaE9iai5jbGVhcigpXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hPYmoubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VBY3RpdmVXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZSwgdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hPYmouYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsQWN0aXZlLCB0aGlzLm9wdHMuZmlsbEFjdGl2ZUFscGhhKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hPYmoubGluZVN0eWxlKHRoaXMub3B0cy5zdHJva2VXaWR0aCwgdGhpcy5vcHRzLnN0cm9rZSwgdGhpcy5vcHRzLnN0cm9rZUFscGhhKVxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hPYmouYmVnaW5GaWxsKHRoaXMub3B0cy5maWxsLCB0aGlzLm9wdHMuZmlsbEFscGhhKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLm1vdmVUbyh0aGlzLnJhZGl1cywgMClcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmoubGluZVRvKHRoaXMub3B0cy53aWR0aCAtIHRoaXMucmFkaXVzLCAwKVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5hcmNUbyh0aGlzLm9wdHMud2lkdGgsIDAsIHRoaXMub3B0cy53aWR0aCwgdGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzKVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5saW5lVG8odGhpcy5vcHRzLndpZHRoLCB0aGlzLnJhZGl1cyArIDEpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCVUdGSVg6IElmIG5vdCBzcGVjaWZpZWQsIHRoZXJlIGlzIGEgc21hbGwgYXJlYSB3aXRob3V0IGEgc3Ryb2tlLlxuICAgICAgICB0aGlzLnN3aXRjaE9iai5hcmNUbyh0aGlzLm9wdHMud2lkdGgsIHRoaXMub3B0cy5oZWlnaHQsIHRoaXMub3B0cy53aWR0aCAtIHRoaXMucmFkaXVzLCB0aGlzLm9wdHMuaGVpZ2h0LCB0aGlzLnJhZGl1cylcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmoubGluZVRvKHRoaXMucmFkaXVzLCB0aGlzLm9wdHMuaGVpZ2h0KVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5hcmNUbygwLCB0aGlzLm9wdHMuaGVpZ2h0LCAwLCB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMpXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmFyY1RvKDAsIDAsIHRoaXMucmFkaXVzLCAwLCB0aGlzLnJhZGl1cylcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmouZW5kRmlsbCgpXG5cbiAgICAgICAgLy8gRHJhdyBjb250cm9sXG4gICAgICAgIHRoaXMuY29udHJvbC5jbGVhcigpXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5jb250cm9sLmxpbmVTdHlsZSh0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFjdGl2ZVdpZHRoLCB0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFjdGl2ZSwgdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBY3RpdmVBbHBoYSlcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5iZWdpbkZpbGwodGhpcy5vcHRzLmNvbnRyb2xGaWxsQWN0aXZlLCB0aGlzLm9wdHMuY29udHJvbEZpbGxBY3RpdmVBbHBoYSlcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5kcmF3Q2lyY2xlKDAsIDAsIHRoaXMub3B0cy5jb250cm9sUmFkaXVzQWN0aXZlIC0gMSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5saW5lU3R5bGUodGhpcy5vcHRzLmNvbnRyb2xTdHJva2VXaWR0aCwgdGhpcy5vcHRzLmNvbnRyb2xTdHJva2UsIHRoaXMub3B0cy5jb250cm9sU3Ryb2tlQWxwaGEpXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuYmVnaW5GaWxsKHRoaXMub3B0cy5jb250cm9sRmlsbCwgdGhpcy5vcHRzLmNvbnRyb2xGaWxsQWxwaGEpXG4gICAgICAgICAgICB0aGlzLmNvbnRyb2wuZHJhd0NpcmNsZSgwLCAwLCB0aGlzLm9wdHMuY29udHJvbFJhZGl1cyAtIDEpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb250cm9sLmVuZEZpbGwoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIERyYXdzIHRoZSBhbmltYXRpb24uXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtTd2l0Y2h9IEEgcmVmZXJlbmNlIHRvIHRoZSBzd2l0Y2ggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIGRyYXdBbmltYXRlZCgpIHtcblxuICAgICAgICB0aGlzLnN3aXRjaE9iai5jbGVhcigpXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmxpbmVTdHlsZSh0aGlzLnRlbXBBbmltYXRlZC5zdHJva2VXaWR0aCwgdGhpcy50ZW1wQW5pbWF0ZWQuc3Ryb2tlLCB0aGlzLnRlbXBBbmltYXRlZC5zdHJva2VBbHBoYSlcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmouYmVnaW5GaWxsKHRoaXMudGVtcEFuaW1hdGVkLmZpbGwsIHRoaXMudGVtcEFuaW1hdGVkLmZpbGxBbHBoYSlcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmoubW92ZVRvKHRoaXMucmFkaXVzLCAwKVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5saW5lVG8odGhpcy5vcHRzLndpZHRoIC0gdGhpcy5yYWRpdXMsIDApXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmFyY1RvKHRoaXMub3B0cy53aWR0aCwgMCwgdGhpcy5vcHRzLndpZHRoLCB0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMpXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmxpbmVUbyh0aGlzLm9wdHMud2lkdGgsIHRoaXMucmFkaXVzICsgMSkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJVR0ZJWDogSWYgbm90IHNwZWNpZmllZCwgdGhlcmUgaXMgYSBzbWFsbCBhcmVhIHdpdGhvdXQgYSBzdHJva2UuXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmFyY1RvKHRoaXMub3B0cy53aWR0aCwgdGhpcy5vcHRzLmhlaWdodCwgdGhpcy5vcHRzLndpZHRoIC0gdGhpcy5yYWRpdXMsIHRoaXMub3B0cy5oZWlnaHQsIHRoaXMucmFkaXVzKVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5saW5lVG8odGhpcy5yYWRpdXMsIHRoaXMub3B0cy5oZWlnaHQpXG4gICAgICAgIHRoaXMuc3dpdGNoT2JqLmFyY1RvKDAsIHRoaXMub3B0cy5oZWlnaHQsIDAsIHRoaXMucmFkaXVzLCB0aGlzLnJhZGl1cylcbiAgICAgICAgdGhpcy5zd2l0Y2hPYmouYXJjVG8oMCwgMCwgdGhpcy5yYWRpdXMsIDAsIHRoaXMucmFkaXVzKVxuICAgICAgICB0aGlzLnN3aXRjaE9iai5lbmRGaWxsKClcblxuICAgICAgICB0aGlzLmNvbnRyb2wuY2xlYXIoKVxuICAgICAgICB0aGlzLmNvbnRyb2wubGluZVN0eWxlKHRoaXMudGVtcEFuaW1hdGVkLmNvbnRyb2xTdHJva2VXaWR0aCwgdGhpcy50ZW1wQW5pbWF0ZWQuY29udHJvbFN0cm9rZSwgdGhpcy50ZW1wQW5pbWF0ZWQuY29udHJvbFN0cm9rZUFscGhhKVxuICAgICAgICB0aGlzLmNvbnRyb2wuYmVnaW5GaWxsKHRoaXMudGVtcEFuaW1hdGVkLmNvbnRyb2xGaWxsLCB0aGlzLnRlbXBBbmltYXRlZC5jb250cm9sRmlsbEFscGhhKVxuICAgICAgICB0aGlzLmNvbnRyb2wuZHJhd0NpcmNsZSgwLCAwLCB0aGlzLnRlbXBBbmltYXRlZC5jb250cm9sUmFkaXVzIC0gMSlcbiAgICAgICAgdGhpcy5jb250cm9sLmVuZEZpbGwoKVxuXG4gICAgICAgIHJldHVybiB0aGlzXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgYWN0aXZlIHN0YXRlLlxuICAgICAqIFxuICAgICAqIEBtZW1iZXIge2Jvb2xlYW59XG4gICAgICovXG4gICAgZ2V0IGFjdGl2ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FjdGl2ZVxuICAgIH1cblxuICAgIHNldCBhY3RpdmUodmFsdWUpIHtcblxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB2YWx1ZVxuXG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmUpIHtcblxuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy5jb250cm9sLCB0aGlzLm9wdHMuZHVyYXRpb24sIHt4OiB0aGlzLnhBY3RpdmV9KVxuICAgICAgICAgICAgVHdlZW5NYXgudG8odGhpcy50ZW1wQW5pbWF0ZWQsIHRoaXMub3B0cy5kdXJhdGlvbiwge1xuICAgICAgICAgICAgICAgIGNvbG9yUHJvcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogdGhpcy5vcHRzLmZpbGxBY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbEZpbGw6IHRoaXMub3B0cy5jb250cm9sRmlsbEFjdGl2ZSxcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbFN0cm9rZTogdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBY3RpdmUsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ251bWJlcidcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpbGxBbHBoYTogdGhpcy5vcHRzLmZpbGxBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgICAgICBzdHJva2VXaWR0aDogdGhpcy5vcHRzLnN0cm9rZUFjdGl2ZVdpZHRoLFxuICAgICAgICAgICAgICAgIHN0cm9rZUFscGhhOiB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICAgICAgY29udHJvbEZpbGxBbHBoYTogdGhpcy5vcHRzLmNvbnRyb2xGaWxsQWN0aXZlQWxwaGEsXG4gICAgICAgICAgICAgICAgY29udHJvbFN0cm9rZVdpZHRoOiB0aGlzLm9wdHMuY29udHJvbFN0cm9rZUFjdGl2ZVdpZHRoLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xTdHJva2VBbHBoYTogdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBY3RpdmVBbHBoYSxcbiAgICAgICAgICAgICAgICBjb250cm9sUmFkaXVzOiB0aGlzLm9wdHMuY29udHJvbFJhZGl1c0FjdGl2ZSxcbiAgICAgICAgICAgICAgICBvblVwZGF0ZTogKCkgPT4gdGhpcy5kcmF3QW5pbWF0ZWQoKSxcbiAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiAoKSA9PiB0aGlzLmRyYXcoKVxuICAgICAgICAgICAgfSlcblxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBUd2Vlbk1heC50byh0aGlzLmNvbnRyb2wsIHRoaXMub3B0cy5kdXJhdGlvbkFjdGl2ZSwge3g6IHRoaXMueEluYWN0aXZlfSlcbiAgICAgICAgICAgIFR3ZWVuTWF4LnRvKHRoaXMudGVtcEFuaW1hdGVkLCB0aGlzLm9wdHMuZHVyYXRpb25BY3RpdmUsIHtcbiAgICAgICAgICAgICAgICBjb2xvclByb3BzOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGw6IHRoaXMub3B0cy5maWxsLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IHRoaXMub3B0cy5zdHJva2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xGaWxsOiB0aGlzLm9wdHMuY29udHJvbEZpbGwsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xTdHJva2U6IHRoaXMub3B0cy5jb250cm9sU3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdudW1iZXInXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaWxsQWxwaGE6IHRoaXMub3B0cy5maWxsQWxwaGEsXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IHRoaXMub3B0cy5zdHJva2VXaWR0aCxcbiAgICAgICAgICAgICAgICBzdHJva2VBbHBoYTogdGhpcy5vcHRzLnN0cm9rZUFscGhhLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xGaWxsQWxwaGE6IHRoaXMub3B0cy5jb250cm9sRmlsbEFscGhhLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xTdHJva2VXaWR0aDogdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VXaWR0aCxcbiAgICAgICAgICAgICAgICBjb250cm9sU3Ryb2tlQWxwaGE6IHRoaXMub3B0cy5jb250cm9sU3Ryb2tlQWxwaGEsXG4gICAgICAgICAgICAgICAgY29udHJvbFJhZGl1czogdGhpcy5vcHRzLmNvbnRyb2xSYWRpdXMsXG4gICAgICAgICAgICAgICAgb25VcGRhdGU6ICgpID0+IHRoaXMuZHJhd0FuaW1hdGVkKCksXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4gdGhpcy5kcmF3KClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogR2V0cyBvciBzZXRzIHRoZSBkaXNhYmxlZCBzdGF0ZS4gV2hlbiBkaXNhYmxlZCwgdGhlIHN3aXRjaCBjYW5ub3QgYmUgY2xpY2tlZC5cbiAgICAgKiBcbiAgICAgKiBAbWVtYmVyIHtib29sZWFufVxuICAgICAqL1xuICAgIGdldCBkaXNhYmxlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rpc2FibGVkXG4gICAgfVxuXG4gICAgc2V0IGRpc2FibGVkKHZhbHVlKSB7XG5cbiAgICAgICAgdGhpcy5fZGlzYWJsZWQgPSB2YWx1ZVxuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX2Rpc2FibGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaE9iai5pbnRlcmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgICAgICB0aGlzLnN3aXRjaE9iai5idXR0b25Nb2RlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoT2JqLmFscGhhID0gLjVcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5hbHBoYSA9IC41XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaE9iai5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoT2JqLmJ1dHRvbk1vZGUgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLnN3aXRjaE9iai5hbHBoYSA9IDFcbiAgICAgICAgICAgIHRoaXMuY29udHJvbC5hbHBoYSA9IDFcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBzd2l0Y2ggKHNldHMgaGlzIGFscGhhIHZhbHVlcyB0byAxKS5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtTd2l0Y2h9IEEgcmVmZXJlbmNlIHRvIHRoZSBzd2l0Y2ggZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNob3coKSB7XG5cbiAgICAgICAgdGhpcy5vcHRzLnN0cm9rZUFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuc3Ryb2tlQWN0aXZlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5maWxsQWN0aXZlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sU3Ryb2tlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sU3Ryb2tlQWN0aXZlQWxwaGEgPSAxXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sRmlsbEFscGhhID0gMVxuICAgICAgICB0aGlzLm9wdHMuY29udHJvbEZpbGxBY3RpdmVBbHBoYSA9IDFcblxuICAgICAgICB0aGlzLmxheW91dCgpXG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogSGlkZXMgdGhlIHN3aXRjaCAoc2V0cyBoaXMgYWxwaGEgdmFsdWVzIHRvIDEpLlxuICAgICAqIFxuICAgICAqIEByZXR1cm4ge1N3aXRjaH0gQSByZWZlcmVuY2UgdG8gdGhlIHN3aXRjaCBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgaGlkZSgpIHtcblxuICAgICAgICB0aGlzLm9wdHMuc3Ryb2tlQWxwaGEgPSAwXG4gICAgICAgIHRoaXMub3B0cy5zdHJva2VBY3RpdmVBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLmZpbGxBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLmZpbGxBY3RpdmVBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRyb2xTdHJva2VBY3RpdmVBbHBoYSA9IDBcbiAgICAgICAgdGhpcy5vcHRzLmNvbnRyb2xGaWxsQWxwaGEgPSAwXG4gICAgICAgIHRoaXMub3B0cy5jb250cm9sRmlsbEFjdGl2ZUFscGhhID0gMFxuXG4gICAgICAgIHRoaXMubGF5b3V0KClcblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IFBvcHVwIGZyb20gJy4vcG9wdXAuanMnXG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgUGl4aUpTIFBvcHVwTWVudS5cbiAqIFxuICogQGV4YW1wbGVcbiAqIC8vIENyZWF0ZSB0aGUgYnV0dG9uIGFuZCB0aGUgbW9kYWwgd2hlbiBjbGlja2VkXG4gKiBjb25zdCBidXR0b24gPSBuZXcgQnV0dG9uKHtcbiAqICAgICBsYWJlbDogJ1Nob3cgUG9wdXBNZW51JyxcbiAqICAgICBhY3Rpb246IGUgPT4ge1xuICogICAgICAgICBjb25zdCBwb3B1cG1lbnUgPSBuZXcgUG9wdXBNZW51KHtcbiAqICAgICAgICAgICAgIGl0ZW1zOiBbXG4gKiAgICAgICAgICAgICAgICAge2xhYmVsOiAnU2F2ZScsIGFjdGlvbjogKCkgPT4gYWxlcnQoJ1NhdmVkJyl9LFxuICogICAgICAgICAgICAgICAgIHtsYWJlbDogJ0VkaXQnLCBhY3Rpb246ICgpID0+IGFsZXJ0KCdFZGl0ZWQnKX0sXG4gKiAgICAgICAgICAgICAgICAge2xhYmVsOiAnRGVsZXRlJywgYWN0aW9uOiAoKSA9PiBhbGVydCgnRGVsZXRlZCcpfVxuICogICAgICAgICAgICAgXVxuICogICAgICAgICB9KVxuICogICAgICAgICBhcHAuc2NlbmUuYWRkQ2hpbGQocG9wdXBtZW51KVxuICogICAgIH1cbiAqIH0pXG4gKlxuICogLy8gQWRkIHRoZSBidXR0b24gdG8gYSBEaXNwbGF5T2JqZWN0XG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoYnV0dG9uKVxuICpcbiAqIEBjbGFzc1xuICogQGV4dGVuZHMgUG9wdXBcbiAqIEBzZWUge0BsaW5rIGh0dHBzOi8vd3d3Lml3bS10dWViaW5nZW4uZGUvaXdtYnJvd3Nlci9saWIvcGl4aS9wb3B1cG1lbnUuaHRtbHxEb2NUZXN0fVxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cE1lbnUgZXh0ZW5kcyBQb3B1cCB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhIFBvcHVwTWVudS5cbiAgICAgKiBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBtb2RhbC5cbiAgICAgKiBAcGFyYW0ge29iamVjdFtdfSBbb3B0cy5pdGVtcz1bXV0gLSBBIGxpc3Qgb2YgdGhlIG1lbnUgaXRlbXMuIEVhY2ggaXRlbSBtdXN0IGJlIG9mIHR5cGUgb2JqZWN0LlxuICAgICAqICAgICBJZiBhbiBvYmplY3QgaGFzIGEgbGFiZWwgcHJvcGVydHksIGEgUElYSS5UZXh0IG9iamVjdCBpcyBjcmVhdGVkICh1c2luZyB0aGUgdGV4dFN0eWxlIHByb3BlcnR5KS5cbiAgICAgKiAgICAgSWYgYW4gb2JqZWN0IGhhc24ndCBhIGxhYmVsIHByb3BlcnR5LCBpdCBtdXN0IGNvbnRhaW4gYSBjb250ZW50IHByb3BlcnR5IHdoaWNoIGhhcyB0byBiZSBhXG4gICAgICogICAgIFBJWEkuRGlzcGxheU9iamVjdC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWFyZ2luPVRoZW1lLm1hcmdpbiAvIDJdIC0gVGhlIGFwcCB3aGVyZSB0aGUgbW9kYWwgYmVsb25ncyB0by5cbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHMudGV4dFN0eWxlPVRoZW1lLnRleHRTdHlsZV0gLSBUaGUgY29sb3Igb2YgdGhlIGJhY2tncm91bmQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5jbG9zZU9uUG9wdXA9dHJ1ZV0gLSBUaGUgb3BhY2l0eSBvZiB0aGUgYmFja2dyb3VuZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRzID0ge30pIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHRoZW1lID0gVGhlbWUuZnJvbVN0cmluZyhvcHRzLnRoZW1lKVxuICAgICAgICBcbiAgICAgICAgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgICAgIG1hcmdpbjogdGhlbWUubWFyZ2luIC8gMixcbiAgICAgICAgICAgIHRleHRTdHlsZTogdGhlbWUudGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xvc2VPblBvcHVwOiB0cnVlXG4gICAgICAgIH0sIG9wdHMpXG5cbiAgICAgICAgc3VwZXIob3B0cylcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBjaGlsZHJlbiBhbmQgaW5zdGFudGlhdGVzIGV2ZXJ5dGhpbmcuXG4gICAgICogXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJuIHtQb3B1cE1lbnV9IEEgcmVmZXJlbmNlIHRvIHRoZSBwb3B1cG1lbnUgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHNldHVwKCkge1xuXG4gICAgICAgIC8vIGNvbnRlbnRcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICBjb25zdCBjb250ZW50ID0gbmV3IFBJWEkuQ29udGFpbmVyKClcbiAgICAgICAgXG4gICAgICAgIGxldCB5ID0gMFxuICAgICAgICBmb3IgKGxldCBpdGVtIG9mIHRoaXMub3B0cy5pdGVtcykge1xuXG4gICAgICAgICAgICBsZXQgb2JqZWN0ID0gbnVsbFxuXG4gICAgICAgICAgICBpZiAoaXRlbS5sYWJlbCkge1xuICAgICAgICAgICAgICAgIG9iamVjdCA9IG5ldyBQSVhJLlRleHQoaXRlbS5sYWJlbCwgaXRlbS50ZXh0U3R5bGUgfHwgdGhpcy5vcHRzLnRleHRTdHlsZSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0ID0gaXRlbS5jb250ZW50XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9iamVjdC55ID0geVxuXG4gICAgICAgICAgICBpZiAoaXRlbS5hY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5kaXNhYmxlZCkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuYWxwaGEgPSAuNVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5pbnRlcmFjdGl2ZSA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmJ1dHRvbk1vZGUgPSB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9iamVjdC5vbigncG9pbnRlcm92ZXInLCBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW5NYXgudG8ob2JqZWN0LCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogLjgzLCBvdmVyd3JpdGU6ICdub25lJ30pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBvYmplY3Qub24oJ3BvaW50ZXJvdXQnLCBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgVHdlZW5NYXgudG8ob2JqZWN0LCB0aGlzLnRoZW1lLmZhc3QsIHthbHBoYTogMSwgb3ZlcndyaXRlOiAnbm9uZSd9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgb2JqZWN0Lm9uKCdwb2ludGVydXAnLCBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hY3Rpb24uY2FsbChvYmplY3QsIGUsIG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5jbG9zZU9uQWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29udGVudC5hZGRDaGlsZChvYmplY3QpXG5cbiAgICAgICAgICAgIHkgKz0gb2JqZWN0LmhlaWdodCArIHRoaXMub3B0cy5tYXJnaW5cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub3B0cy5jb250ZW50ID0gY29udGVudFxuXG4gICAgICAgIHN1cGVyLnNldHVwKClcbiAgICB9XG59XG4iLCIvKiBnbG9iYWwgUXVhZCAqL1xuXG5pbXBvcnQgVGhlbWUgZnJvbSAnLi90aGVtZS5qcydcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBQaXhpSlMgVm9sYXRpbGUuXG4gKiBcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBhcHAgPSBuZXcgUElYSUFwcCh7XG4gKiAgICAgdmlldzogY2FudmFzLFxuICogICAgIHdpZHRoOiA5MDAsXG4gKiAgICAgaGVpZ2h0OiAyNTBcbiAqIH0pLnNldHVwKCkucnVuKClcbiAqIFxuICogY29uc3QgYnV0dG9uID0gbmV3IEJ1dHRvbih7XG4gKiAgICAgbGFiZWw6ICdWb2xhdGlsZSEnLFxuICogICAgIGFjdGlvbjogKCkgPT4ge1xuICogICAgICAgICBuZXcgVm9sYXRpbGUoe1xuICogICAgICAgICAgICAgb2JqZWN0OiBidXR0b24sXG4gKiAgICAgICAgICAgICBkaXJlY3Rpb246ICdyaWdodCcsXG4gKiAgICAgICAgICAgICBkZXN0cm95T25Db21wbGV0ZTogZmFsc2VcbiAqICAgICAgICAgfSlcbiAqICAgICB9XG4gKiB9KVxuICogXG4gKiBhcHAuc2NlbmUuYWRkQ2hpbGQoYnV0dG9uKVxuICpcbiAqIEBjbGFzc1xuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly93d3cuaXdtLXR1ZWJpbmdlbi5kZS9pd21icm93c2VyL2xpYi9waXhpL3ZvbGF0aWxlLmh0bWx8RG9jVGVzdH1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVm9sYXRpbGUge1xuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYSBWb2xhdGlsZS5cbiAgICAgKiBcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdHNdIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gc3BlY2lmeSB0byBzdHlsZSBhbmQgYmVoYXZpb3VyIG9mIHRoZSBtb2RhbC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuaWQ9YXV0byBnZW5lcmF0ZWRdIC0gVGhlIGlkIG9mIHRoZSB0b29sdGlwLlxuICAgICAqIEBwYXJhbSB7UElYSS5EaXNwbGF5T2JqZWN0fFBJWEkuRGlzcGxheU9iamVjdFtdfSBvcHRzLm9iamVjdCAtIFRoZSBvYmplY3Qgd2hlcmUgdGhlIHZvbGF0aWxlIHNob3VsZCBiZSBhcHBsaWVkIHRvLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5kaXJlY3Rpb249dG9wXSAtIFRoZSBhbmltYXRpb24gZGlyZWN0aW9uLiBQb3NzaWJsZSB2YWx1ZXM6IHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdC5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0cy5vblN0YXJ0XSAtIEEgZnVuY3Rpb24gd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiB0aGUgdm9sYXRpbGUgYW5pbWF0aW9uIHN0YXJ0cy5cbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0cy5vbkNvbXBsZXRlXSAtIEEgZnVuY3Rpb24gd2hpY2ggaXMgZXhlY3V0ZWQgd2hlbiB0aGUgdm9sYXRpbGUgYW5pbWF0aW9uIGZpbmlzaGVzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy5kaXN0YW5jZT0xNjBdIC0gVGhlIGFuaW1hdGlvbiBkaXN0YW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMuZHVyYXRpb249MS41XSAtIFRoZSBkdXJhdGlvbiBvZiB0aGUgYW5pbWF0aW9uIGluIHNlY29uZHMuXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRzLmVhc2U9UXVhZC5lYXNlT3V0XSAtIFRoZSBlYXNpbmcgb2YgdGhlIGFuaW1hdGlvbiwgc2VlIHtAbGluayBodHRwczovL2dyZWVuc29jay5jb20vZG9jcy9FYXNpbmd9XG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kZXN0cm95T25Db21wbGV0ZT10cnVlXSAtIFNob3VsZCB0aGUgb2JqZWN0IGJlIGRlc3Ryb3llZCBhZnRlciB0aGUgdm9sYXRpbGUgYW5pbWF0aW9uP1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhlbWUgPSBUaGVtZS5mcm9tU3RyaW5nKG9wdHMudGhlbWUpXG4gICAgICAgIHRoaXMudGhlbWUgPSB0aGVtZVxuXG4gICAgICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgICAgICAgIGlkOiBQSVhJLnV0aWxzLnVpZCgpLFxuICAgICAgICAgICAgb2JqZWN0OiBudWxsLFxuICAgICAgICAgICAgZGlyZWN0aW9uOiAndG9wJywgICAgICAgICAgICAgICAvLyB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnRcbiAgICAgICAgICAgIG9uU3RhcnQ6IG51bGwsXG4gICAgICAgICAgICBvbkNvbXBsZXRlOiBudWxsLFxuICAgICAgICAgICAgZGlzdGFuY2U6IDE2MCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiAxLjUsXG4gICAgICAgICAgICBlYXNlOiBRdWFkLmVhc2VPdXQsXG4gICAgICAgICAgICBkZXN0cm95T25Db21wbGV0ZTogdHJ1ZVxuICAgICAgICB9LCBvcHRzKVxuXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLm9wdHMuaWRcblxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkodGhpcy5vcHRzLm9iamVjdCkpIHtcbiAgICAgICAgICAgIHRoaXMub3B0cy5vYmplY3QgPSBbdGhpcy5vcHRzLm9iamVjdF1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMub2JqZWN0cyA9IHRoaXMub3B0cy5vYmplY3RcblxuICAgICAgICAvLyBzZXR1cFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMuc2V0dXAoKVxuXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIHRoaXMubGF5b3V0KClcblxuICAgICAgICAvLyBydW5cbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICB0aGlzLnJ1bigpXG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgY2hpbGRyZW4gYW5kIGluc3RhbnRpYXRlcyBldmVyeXRoaW5nLlxuICAgICAqIFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHJldHVybiB7Vm9sYXRpbGV9IEEgcmVmZXJlbmNlIHRvIHRoZSB2b2xhdGlsZSBmb3IgY2hhaW5pbmcuXG4gICAgICovXG4gICAgc2V0dXAoKSB7XG5cbiAgICAgICAgcmV0dXJuIHRoaXNcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogU2hvdWxkIGJlIGNhbGxlZCB0byByZWZyZXNoIHRoZSBsYXlvdXQgb2YgdGhlIHZvbGF0aWxlLiBDYW4gYmUgdXNlZCBhZnRlciByZXNpemluZy5cbiAgICAgKiBcbiAgICAgKiBAcmV0dXJuIHtWb2xhdGlsZX0gQSByZWZlcmVuY2UgdG8gdGhlIHZvbGF0aWxlIGZvciBjaGFpbmluZy5cbiAgICAgKi9cbiAgICBsYXlvdXQoKSB7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHZvbGF0aWxlIGFuaW1hdGlvbi5cbiAgICAgKiBcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEByZXR1cm4ge1ZvbGF0aWxlfSBBIHJlZmVyZW5jZSB0byB0aGUgdm9sYXRpbGUgZm9yIGNoYWluaW5nLlxuICAgICAqL1xuICAgIHJ1bigpIHtcblxuICAgICAgICBmb3IgKGxldCBvYmplY3Qgb2YgdGhpcy5vYmplY3RzKSB7XG5cbiAgICAgICAgICAgIGxldCB4ID0gb2JqZWN0LnhcbiAgICAgICAgICAgIGxldCB5ID0gb2JqZWN0LnlcblxuICAgICAgICAgICAgc3dpdGNoICh0aGlzLm9wdHMuZGlyZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgICAgICAgICAgeSAtPSB0aGlzLm9wdHMuZGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHggKz0gdGhpcy5vcHRzLmRpc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgICAgICAgICAgeSArPSB0aGlzLm9wdHMuZGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgICAgICAgICAgeCAtPSB0aGlzLm9wdHMuZGlzdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgVHdlZW5NYXgudG8ob2JqZWN0LCB0aGlzLm9wdHMuZHVyYXRpb24sIHtcbiAgICAgICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICAgICAgZWFzZTogdGhpcy5vcHRzLmVhc2UsXG4gICAgICAgICAgICAgICAgb3ZlcndyaXRlOiAnYWxsJyxcbiAgICAgICAgICAgICAgICBvblN0YXJ0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdHMub25TdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRzLm9uU3RhcnQuY2FsbChvYmplY3QsIG9iamVjdClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdHMub25Db21wbGV0ZS5jYWxsKG9iamVjdCwgb2JqZWN0KVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0cy5kZXN0cm95T25Db21wbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlc3Ryb3koe2NoaWxkcmVuOiB0cnVlfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpc1xuICAgIH1cbn1cbiIsImltcG9ydCBQSVhJQXBwIGZyb20gJy4vYXBwLmpzJ1xuaW1wb3J0IEJsdXJGaWx0ZXIgZnJvbSAnLi9ibHVyZmlsdGVyLmpzJ1xuaW1wb3J0IEZsaXBFZmZlY3QgZnJvbSAnLi9mbGlwZWZmZWN0LmpzJ1xuaW1wb3J0IEZsaXBwYWJsZSBmcm9tICcuL2ZsaXBwYWJsZS5qcydcbmltcG9ydCB7RGVlcFpvb21JbmZvLCBEZWVwWm9vbUltYWdlfSBmcm9tICcuL2RlZXB6b29tLmpzJ1xuaW1wb3J0IFBvcG92ZXIgZnJvbSAnLi9wb3BvdmVyLmpzJ1xuaW1wb3J0IHtTY2F0dGVyQ29udGFpbmVyLCBEaXNwbGF5T2JqZWN0U2NhdHRlcn0gZnJvbSAnLi9zY2F0dGVyLmpzJ1xuaW1wb3J0IHtBcHBUZXN0LCBDb21tYW5kLCBSZWNvcmRlclRvb2xzfSBmcm9tICcuL3Rlc3QuanMnXG5pbXBvcnQgVGltZWxpbmUgZnJvbSAnLi90aW1lbGluZS5qcydcbmltcG9ydCBUaGVtZSBmcm9tICcuL3RoZW1lLmpzJ1xuaW1wb3J0IEJ1dHRvbiBmcm9tICcuL2J1dHRvbi5qcydcbmltcG9ydCBCdXR0b25Hcm91cCBmcm9tICcuL2J1dHRvbmdyb3VwLmpzJ1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlci5qcydcbmltcG9ydCBTd2l0Y2ggZnJvbSAnLi9zd2l0Y2guanMnXG5pbXBvcnQgUG9wdXAgZnJvbSAnLi9wb3B1cC5qcydcbmltcG9ydCBQb3B1cE1lbnUgZnJvbSAnLi9wb3B1cG1lbnUuanMnXG5pbXBvcnQgTW9kYWwgZnJvbSAnLi9tb2RhbC5qcydcbmltcG9ydCBWb2xhdGlsZSBmcm9tICcuL3ZvbGF0aWxlLmpzJ1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9tZXNzYWdlLmpzJ1xuaW1wb3J0IFRvb2x0aXAgZnJvbSAnLi90b29sdGlwLmpzJ1xuaW1wb3J0IEJhZGdlIGZyb20gJy4vYmFkZ2UuanMnXG5pbXBvcnQgUHJvZ3Jlc3MgZnJvbSAnLi9wcm9ncmVzcy5qcydcbi8qIE5lZWRlZCB0byBlbnN1cmUgdGhhdCByb2xsdXAuanMgaW5jbHVkZXMgY2xhc3MgZGVmaW5pdGlvbnMgYW5kIHRoZSBjbGFzc2VzXG5hcmUgdmlzaWJsZSBpbnNpZGUgZG9jdGVzdHMuXG4qL1xud2luZG93LlBJWElBcHAgPSBQSVhJQXBwXG53aW5kb3cuQmx1ckZpbHRlciA9IEJsdXJGaWx0ZXJcbndpbmRvdy5GbGlwRWZmZWN0ID0gRmxpcEVmZmVjdFxud2luZG93LkZsaXBwYWJsZSA9IEZsaXBwYWJsZVxud2luZG93LkRlZXBab29tSW5mbyA9IERlZXBab29tSW5mb1xud2luZG93LkRlZXBab29tSW1hZ2UgPSBEZWVwWm9vbUltYWdlXG53aW5kb3cuUG9wb3ZlciA9IFBvcG92ZXJcbndpbmRvdy5TY2F0dGVyQ29udGFpbmVyID0gU2NhdHRlckNvbnRhaW5lclxud2luZG93LkRpc3BsYXlPYmplY3RTY2F0dGVyID0gRGlzcGxheU9iamVjdFNjYXR0ZXJcbndpbmRvdy5Db21tYW5kID0gQ29tbWFuZFxud2luZG93LlJlY29yZGVyVG9vbHMgPSBSZWNvcmRlclRvb2xzXG53aW5kb3cuVGltZWxpbmUgPSBUaW1lbGluZVxud2luZG93LkFwcFRlc3QgPSBBcHBUZXN0XG53aW5kb3cuVGhlbWUgPSBUaGVtZVxud2luZG93LkJ1dHRvbiA9IEJ1dHRvblxud2luZG93LkJ1dHRvbkdyb3VwID0gQnV0dG9uR3JvdXBcbndpbmRvdy5TbGlkZXIgPSBTbGlkZXJcbndpbmRvdy5Td2l0Y2ggPSBTd2l0Y2hcbndpbmRvdy5Qb3B1cCA9IFBvcHVwXG53aW5kb3cuUG9wdXBNZW51ID0gUG9wdXBNZW51XG53aW5kb3cuTW9kYWwgPSBNb2RhbFxud2luZG93LlZvbGF0aWxlID0gVm9sYXRpbGVcbndpbmRvdy5NZXNzYWdlID0gTWVzc2FnZVxud2luZG93LlRvb2x0aXAgPSBUb29sdGlwXG53aW5kb3cuQmFkZ2UgPSBCYWRnZVxud2luZG93LlByb2dyZXNzID0gUHJvZ3Jlc3NcbiJdLCJuYW1lcyI6WyJFdmVudHMiLCJFbGVtZW50cyIsIkludGVyYWN0aW9uTWFwcGVyIiwiUG9wdXBNZW51Il0sIm1hcHBpbmdzIjoiOzs7SUFBQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0FBQ0EsSUFBZSxNQUFNLEtBQUssQ0FBQzs7SUFFM0I7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0EsSUFBSSxXQUFXLENBQUMsSUFBSSxHQUFHLEVBQUUsRUFBRTs7SUFFM0IsUUFBUSxNQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsWUFBWSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxHQUFHLFNBQVE7SUFDckYsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVE7SUFDbkUsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsTUFBTSxHQUFHLFNBQVE7O0lBRW5FLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtJQUN0QyxZQUFZLE1BQU0sRUFBRSxFQUFFO0lBQ3RCLFlBQVksT0FBTyxFQUFFLEVBQUU7SUFDdkIsWUFBWSxNQUFNLEVBQUUsQ0FBQztJQUNyQixZQUFZLElBQUksRUFBRSxHQUFHO0lBQ3JCLFlBQVksTUFBTSxFQUFFLEVBQUU7SUFDdEIsWUFBWSxJQUFJLEVBQUUsQ0FBQztJQUNuQixZQUFZLFlBQVksRUFBRSxZQUFZO0lBQ3RDLFlBQVksTUFBTSxFQUFF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LFlBQVksRUFBRSxRQUFRLENBQUMsRUFBQztJQUN2QyxLQUFLO0lBQ0wsQ0FBQzs7SUN6T0Q7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtBQUNBLElBQWUsTUFBTSxRQUFRLFNBQVMsSUFBSSxDQUFDLFNBQVMsQ0FBQztJQUNyRDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksV0FBVyxDQUFDLElBQUksR0FBRyxFQUFFLEVBQUU7O0lBRTNCLFFBQVEsS0FBSyxHQUFFO0lBQ2Y7SUFDQSxRQUFRLE1BQU0sS0FBSyxHQUFHLEtBQUssQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBQztJQUNsRCxRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsTUFBSzs7SUFFMUIsUUFBUSxJQUFJLENBQUMsSUFBSSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO0lBQ3RDLFlBQVksRUFBRSxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxFQUFFO0lBQ2hDLFlBQVksR0FBRyxFQUFFLE1BQU0sQ0FBQyxHQUFHO0lBQzNCLFlBQVksS0FBSyxFQUFFLElBQUk7SUFDdkIsWUFBWSxNQUFNLEVBQUUsQ0FBQztJQUNyQixZQUFZLE1BQU0sRUFBRSxHQUFHO0lBQ3ZCLFlBQVksT0FBTyxFQUFFLENBQUM7SUFDdEIsWUFBWSxJQUFJLEVBQUUsS0FBSyxDQUFDLElBQUk7SUFDNUIsWUFBWSxTQUFTLEVBQUUsS0FBSyxDQUFDLFNBQVM7SUFDdEMsWUFBWSxVQUFVLEVBQUUsS0FBSyxDQUFDLFlBQVk7SUFDMUMsWUFBWSxlQUFlLEVBQUUsS0FBSyxDQUFDLGVBQWU7SUFDbEQsWUFBWSxNQUFNLEVBQUUsS0FBSyxDQUFDLE1BQU07SUFDaEMsWUFBWSxXQUFXLEVBQUUsQ0FBQztJQUMxQixZQUFZLFdBQVcsRUFBRSxLQUFLLENBQUMsV0FBVztJQUMxQyxZQUFZLFlBQVksRUFBRSxLQUFLLENBQUMsWUFBWTtJQUM1QyxZQUFZLGlCQUFpQixFQUFFLENBQUM7SUFDaEMsWUFBWSxpQkFBaUIsRUFBRSxLQUFLLENBQUMsaUJBQWlCO0lBQ3RELFlBQVksVUFBVSxFQUFFLEtBQUs7SUFDN0IsWUFBWSxjQUFjLEVBQUUsS0FBSyxDQUFDLFVBQVU7SUFDNUMsWUFBWSxtQkFBbUIsRUFBRSxDQUFDO0lBQ2xDLFlBQVksTUFBTSxFQUFFLEtBQUssQ0FBQyxNQUFNO0lBQ2hDLFlBQVksaUJBQWlCLEVBQUUsSUFBSTtJQUNuQyxZQUFZLE9BQU8sRUFBRSxJQUFJO0lBQ3pCLFNBQVMsRUFBRSxJQUFJLEVBQUM7O0lBRWhCLFFBQVEsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUU7O0lBRTlCLFFBQVEsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFJO0lBQzlCLFFBQVEsSUFBSSxDQUFDLEdBQUcsR0FBRyxLQUFJO0lBQ3ZCLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxLQUFJOztJQUU3QixRQUFRLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBQztJQUN0QjtJQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQU87O0lBRXhDLFFBQVEsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFDOztJQUUxQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFFOztJQUVwQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFFO0lBQ3JCLEtBQUs7SUFDTDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksS0FBSyxHQUFHOztJQUVaO0lBQ0E7SUFDQSxRQUFRLElBQUksQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsSUFBSTtJQUM5QixZQUFZLElBQUksQ0FBQyxJQUFJLEdBQUU7SUFDdkIsU0FBUyxFQUFDOztJQUVWO0lBQ0E7SUFDQSxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7SUFDbEMsWUFBWSxNQUFNLFVBQVUsR0FBRyxJQUFJLElBQUksQ0FBQyxRQUFRLEdBQUU7SUFDbEQsWUFBWSxJQUFJLENBQUMsVUFBVSxHQUFHLFdBQVU7SUFDeEMsWUFBWSxJQUFJLENBQUMsUUFBUSxDQUFDLFVBQVUsRUFBQztJQUNyQyxTQUFTOztJQUVUO0lBQ0E7SUFDQSxRQUFRLE1BQU0sR0FBRyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRTtJQUN2QyxRQUFRLElBQUksQ0FBQyxHQUFHLEdBQUcsSUFBRztJQUN0QixRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxFQUFDOztJQUUxQixRQUFRLE1BQU0sU0FBUyxHQUFHLElBQUksSUFBSSxDQUFDLFFBQVEsR0FBRTtJQUM3QyxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsVUFBUztJQUNsQyxRQUFRLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLFNBQVMsRUFBQzs7SUFFcEMsUUFBUSxPQUFPLElBQUk7SUFDbkIsS0FBSztJQUNMO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksTUFBTSxHQUFHOztJQUViLFFBQVEsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLE1BQUs7SUFDOUMsUUFBUSxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTTs7SUFFaEQ7SUFDQTtJQUNBLFFBQVEsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRTtJQUNsQyxZQUFZLElBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxHQUFFO0lBQ25DLFlBQVksSUFBSSxDQUFDLFVB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LENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUM7SUFDM0UsU0FBUzs7SUFFVDtJQUNBO0lBQ0EsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFO0lBQzVCLFlBQVksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDO0lBQ2xGLFNBQVM7O0lBRVQsUUFBUSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFO0lBQ2xDLFlBQVksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFDO0lBQzVGLFNBQVM7O0lBRVQ7SUFDQTtJQUNBLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSTtJQUMzQyxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDO0lBQzNCLFlBQVksUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxDQUFDLEVBQUM7SUFDdEcsU0FBUyxFQUFDOztJQUVWLFFBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLENBQUMsSUFBSTtJQUMzQyxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxFQUFDO0lBQzNCLFNBQVMsRUFBQzs7SUFFVixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxDQUFDLElBQUk7SUFDMUMsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQztJQUMzQixZQUFZLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFDO0lBQ3BHLFNBQVMsRUFBQzs7SUFFVixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGFBQWEsRUFBRSxDQUFDLElBQUk7SUFDM0M7SUFDQSxZQUFZLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFLEVBQUUsU0FBUyxFQUFFLE1BQU0sQ0FBQyxFQUFDO0lBQ3JHLFNBQVMsRUFBQzs7SUFFVixRQUFRLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDLElBQUk7SUFDekMsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBQztJQUMzQixZQUFZLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUU7SUFDeEMsZ0JBQWdCLElBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBQztJQUMxRCxhQUFhOztJQUViLFlBQVksSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRTtJQUNsQyxnQkFBZ0IsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFDO0lBQ3BELGFBQWE7O0lBRWIsWUFBWSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMs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LFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUN2RCxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtJQUMxQixRQUFRLE9BQU8sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDM0MsS0FBSzs7SUFFTCxJQUFJLE9BQU8sUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDMUIsUUFBUSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0lBQ2hDLFFBQVEsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDdkMsS0FBSzs7SUFFTCxJQUFJLE9BQU8sR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUU7SUFDckIsUUFBUSxPQUFPLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNDLEtBQUs7O0lBRUwsSUFBSSxPQUFPLE1BQU0sQ0FBQyxDQUFDLEVBQUU7SUFDckIsUUFBUSxPQUFP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QUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDNUUsS0FBSzs7SUFFTCxJQUFJLE9BQU8sYUFBYSxDQUFDLE1BQU0sRUFBRTtJQUNqQyxRQUFRLE9BQU8sSUFBSSxDQUFDLEVBQUUsR0FBRyxNQUFNLEdBQUcsS0FBSztJQUN2QyxLQUFLOztJQUVMLElBQUksT0FBTyxhQUFhLENBQUMsR0FBRyxFQUFFO0lBQzlCLFFBQVEsT0FBTyxLQUFLLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBRyxHQUFHO0lBQ3BDLEtBQUs7SUFDTCxDQUFDOztBQUVELElBQU8sTUFBTUMsVUFBUSxDQUFDO0lBQ3RCLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRTtJQUNyQyxRQUFRLEtBQUssSUFBSSxHQUFHLElBQUksTUFBTSxFQUFFO0lBQ2hDLFlBQVksT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLENBQUMsR0FBRyxFQUFDO0lBQzVDLFNBQVM7SUFDVCxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUN2QyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBQztJQUN2QyxLQUFLOztJQUVMLElBQUksT0FBTyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUMxQyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBQztJQUMxQyxLQUFLOztJQUVMLElBQUksT0FBTyxXQUFXLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUMxQyxRQUFRLE9BQU8sQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBQztJQUMxQyxLQUFLOztJQUVMLElBQUksT0FBTyxRQUFRLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRTtJQUN2QyxRQUFRLE9BQU8sT0FBTyxDQUFDLFNBQVMsQ0FB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LEVBQUU7SUFDckQsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDcEMsWUFBWSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUM7SUFDcEMsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDdEUsWUFBWSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUM7SUFDdEUsU0FBUztJQUNULEtBQUs7O0lBRUw7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxTQUFTLEdBQUcsQ0FBQyxFQUFFLE1BQU0sR0FBRyxTQUFTLEVBQUUsSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsRUFBRTtJQUN6RSxRQUFRLE9BQU8sQ0FBQyxTQUFTLEdBQUU7SUFDM0IsUUFBUSxPQUFPLENBQUMsTUFBTTtJQUN0QixZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxZQUFZLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUM1QyxVQUFTO0lBQ1QsUUFBUSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUU7SUFD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QUMsRUFBRTtJQUMzQyxRQUFRLElBQUksT0FBTyxFQUFFO0lBQ3JCLFlBQVksU0FBUyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsUUFBUSxFQUFFLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBRSxFQUFDO0lBQ2pFLFNBQVM7SUFDVCxLQUFLOzs7O0lBSUwsSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQ25CLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBQztJQUM1QyxRQUFRLElBQUksTUFBTSxFQUFFO0lBQ3BCLFlBQVksU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEVBQUM7SUFDNUQsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxPQUFPLENBQUMsTUFBTSxFQUFFO0lBQ3BCLFFBQVEsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksRUFBQztJQUM1QyxRQUFRLElBQUksTUFBTSxFQUFFO0lBQ3BCLFlBQVksU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsRUFBRSxhQUFhLEVBQUUsTUFBTSxFQUFFLEVBQUM7SUFDNUQsU0FBUztJQUNULEtBQUs7O0lBRUwsSUFBSSxLQUFLLENBQUMsRUFBRSxZQUFZLEdBQUcsSUFBSSxFQUFFLEdBQUcsRUFBRSxFQUFFO0lBQ3hDLFFBQVEsSUFBSSxDQUFDLFlBQVksR0FBRTtJQUMzQixRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFO0lBQzNCLFlBQVksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFDO0lBQ3JELFlBQVksSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxFQUFDO0lBQ3JELFlBQVksSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxTQUFRO0lBQ2hFLFlBQVks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VCxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDN0MsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUc7SUFDM0MsU0FBUzs7SUFFVCxRQUFRLElBQUksSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUU7SUFDN0MsWUFBWSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUc7SUFDM0MsU0FBUzs7SUFFVDtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRTtJQUM5QixRQUFRLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBQzs7SUFFMUMsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBSztJQUNyQyxRQUFRLElBQUksQ0FBQyxTQUFTLEdBQUcsS0FBSTs7SUFFN0IsUUFBUSxJQUFJLENBQUMsU0FBUyxHQUFHLEtBQUk7SUFDN0IsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUk7SUFDM0IsUUFBUSxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUk7SUFDM0I7SUFDQSxRQUFRLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFPOztJQUV4QztJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFFOztJQUVwQjtJQUNBO0lBQ0EsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFFO0lBQ3JCLEtBQUs7SUFDTDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksS0FBSyxHQUFHOztJQUVaO0lBQ0E7SUFDQSxRQUFRLE1BQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENB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QUFDO0lBQ3JFLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBQztJQUNuQyxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQ3ZDLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQy9ELFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUM7SUFDbkQsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDL0QsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBQztJQUN2QyxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFDO0lBQzNELFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUM7SUFDL0MsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLE9BQU8sR0FBRTs7SUFFaEM7SUFDQSxRQUFRLElBQUksQ0FBQyxPQUFPLENBQUMs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QUN4QyxRQUFRLElBQUksQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBQzs7SUFFdEMsUUFBUSxJQUFJLENBQUMsTUFBTSxHQUFFOztJQUVyQixRQUFRLE9BQU8sSUFBSTtJQUNuQixLQUFLO0lBQ0wsQ0FBQzs7SUNuZEQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7O0lBRUE7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7QUFDQSxJQUFlLE1BQU0sTUFBTSxTQUFTLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDbkQ7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQSxJQUFJLFdBQVcsQ0FBQyxJQUFJLEdBQUcsRUFBRSxFQUFFOztJQUUzQixRQUFRLEtBQUssR0FBRTtJQUNmO0lBQ0EsUUFBUSxNQUFNLEtBQUssR0FBRyxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUM7SUFDbEQsUUFBUSxJQUFJLENBQUMsS0FBSyxHQUFHLE1BQUs7O0lBRTFCLFFBQVEsSUFBSSxDQUFDLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRTtJ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QUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBQztJQUMvRCxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUM7SUFDM0YsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztJQUMvRCxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztJQUM3SCxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUM7SUFDNUQsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztJQUM5RSxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBQztJQUMvRCxRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxHQUFFOztJQUVoQztJQUNBLFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLEdBQUU7SUFDNUIsUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUU7SUFDekIsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLHdCQUF3QixFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyx3QkFBd0IsRUFBQztJQUN6SSxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsRUFBQztJQUNqRyxZQUFZLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxDQUFDLEVBQUM7SUFDNUUsU0FBUyxNQUFNO0lBQ2YsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGtCQUFrQixFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLEVBQUM7SUFDdkgsWUFBWSxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFDO0lBQ3JGLFlBQVksSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLEVBQUM7SUFDdEUsU0FBUztJQUNULFFBQVEsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLEdBQUU7O0lBRTlCLFFBQVEsT0FBTyxJQUFJO0lBQ25CLEtBQUs7SUFDTDtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBLElBQUksWUFBWSxHQUFHOztJQUVuQixRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxHQUFFO0lBQzlCLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLEVBQUM7SUFDeEgsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsWUFBWSxDQUFDLFNBQVMsRUFBQztJQUNyRixRQUFRLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFDO0lBQzdDLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUM7SUFDL0QsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFDO0lBQzNGLFFBQVEsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUM7SUFDL0QsUUFBUSxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxJQUFJ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